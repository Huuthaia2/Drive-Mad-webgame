!function(){"use strict";var e,t,i,n,a,o,s,r,l,h,d,c,p,g,m,u,y,w,f,v=Laya.ClassUtils.regClass;!function(e){class t extends Laya.Dialog{constructor(){super()}createChildren(){super.createChildren(),this.createView(t.uiView)}}t.uiView={type:"Dialog",props:{width:640,runtime:"scripts/gui/AgainView.ts",height:1136},compId:2,child:[{type:"Image",props:{width:550,height:400,centerX:0,bottom:360},compId:11,child:[{type:"Button",props:{y:400,x:104,var:"btn_again",stateNum:1,skin:"comp/btn_start.png",sizeGrid:"20,30,20,30",labelSize:50,labelColors:"#ffffff,#ffffff,#ffffff",labelBold:!0},compId:4},{type:"Sprite",props:{y:331.5,x:-25,var:"btnHome",texture:"comp/btn_fanhui.png"},compId:6},{type:"Sprite",props:{y:-280,x:211,texture:"comp/bencidefen.png"},compId:9}]},{type:"Box",props:{x:10,width:400,var:"ov_native",top:294,height:400,centerX:0,alpha:0},compId:43,child:[{type:"Image",props:{top:0,right:0,name:"icon",left:0,bottom:0,alpha:.8},compId:45},{type:"Image",props:{y:-28,x:383,var:"btn_close",skin:"comp/mission_close.png",name:"btn_close"},compId:46},{type:"Box",props:{width:86,right:314,height:42,bottom:0},compId:47,child:[{type:"Box",props:{top:0,right:0,left:0,bottom:0,bgColor:"#1b1b1b",alpha:.7},compId:48},{type:"Label",props:{text:"广告",fontSize:40,color:"#ffffff",centerY:0,centerX:0,bold:!0,alpha:.8},compId:49}]},{type:"Image",props:{y:-42,skin:"comp/btn_ck_01.png",scaleY:.8,scaleX:.8,label:"label",centerX:3},compId:50}]},{type:"Box",props:{x:10,width:128,var:"ov_native2",top:736,left:501,height:128,alpha:0},compId:44,child:[{type:"Image",props:{y:0,x:0,top:0,right:0,name:"icon",left:0,bottom:0,alpha:.8},compId:51},{type:"Box",props:{width:87,var:"ov_native_close",top:-30,right:41,height:30},compId:52,child:[{type:"Box",props:{top:0,right:0,left:-3,bottom:0,bgColor:"#1b1b1b",alpha:.7},compId:53},{type:"Label",props:{text:"广告 X",fontSize:30,color:"#ffffff",centerY:0,centerX:0,bold:!0,alpha:.8},compId:54}]}]},{type:"Image",props:{x:0,width:440,visible:!1,var:"imgGame",top:261,skin:"moon/ad/gamebox/img_bg2.png",height:460,centerX:0,alpha:0,sizeGrid:"40,40,40,40"},compId:55,child:[{type:"List",props:{var:"list",top:43,spaceY:10,spaceX:10,runtime:"moon/core/ui/extension/ListEx.ts",repeatX:3,centerX:0,bottom:40,alpha:1},compId:56,child:[{type:"Box",props:{y:0,x:0,width:120,scaleY:1,scaleX:1,name:"render",height:120},compId:57,child:[{type:"Image",props:{width:120,visible:!0,skin:"moon/1.png",scaleY:1,scaleX:1,name:"img_icon",left:5,height:120},compId:58}]}]},{type:"Image",props:{top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,left:70},compId:59},{type:"Image",props:{y:-355,top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,left:130},compId:60},{type:"Image",props:{y:0,top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,right:70},compId:61},{type:"Image",props:{y:-355,top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,right:130},compId:62}]}],loadList:["comp/btn_start.png","comp/btn_fanhui.png","comp/bencidefen.png","comp/mission_close.png","comp/btn_ck_01.png","moon/ad/gamebox/img_bg2.png","moon/1.png","moon/ad/gamebox/img_bg3.png"],loadList3D:[]},e.AgainViewUI=t,v("ui.AgainViewUI",t);class i extends Laya.Dialog{constructor(){super()}createChildren(){super.createChildren(),this.createView(i.uiView)}}i.uiView={type:"Dialog",props:{width:640,runtime:"scripts/gui/BeginView.ts",height:1136},compId:2,child:[{type:"Button",props:{var:"btnSound",top:38,stateNum:1,skin:"comp/btn_voice.png",left:13},compId:22,child:[{type:"Sprite",props:{y:10,x:10,visible:!1,var:"img_sound",texture:"comp/guanbi.png"},compId:19}]},{type:"Button",props:{var:"btnShake",top:123,stateNum:1,skin:"comp/btn_shock.png",left:13},compId:23,child:[{type:"Sprite",props:{y:10,x:10,visible:!1,var:"img_shake",texture:"comp/guanbi.png"},compId:17}]},{type:"Image",props:{skin:"comp/kaishi.png",centerX:0,bottom:217},compId:24},{type:"Image",props:{x:45,var:"img_logo",top:70,skin:"wxlocal/biaoti.png",alpha:0},compId:27},{type:"Button",props:{width:82,var:"btnMoreGame",stateNum:1,skin:"moon/gamebox.png",height:81,centerY:146,centerX:251,alpha:0},compId:42},{type:"Box",props:{width:128,var:"ov_native",top:460,left:467,height:128,alpha:0},compId:43,child:[{type:"Image",props:{y:0,x:0,top:0,right:0,name:"icon",left:0,bottom:0,alpha:.8},compId:44},{type:"Box",props:{width:87,var:"ov_native_close",top:-30,right:41,height:30},compId:45,child:[{type:"Box",props:{top:0,right:0,left:-3,bottom:0,bgColor:"#1b1b1b",alpha:.7},compId:46},{type:"Label",props:{text:"广告 X",fontSize:30,color:"#ffffff",centerY:0,centerX:0,bold:!0,alpha:.8},compId:47}]}]}],loadList:["comp/btn_voice.png","comp/guanbi.png","comp/btn_shock.png","comp/kaishi.png","wxlocal/biaoti.png","moon/gamebox.png"],loadList3D:[]},e.BeginViewUI=i,v("ui.BeginViewUI",i);class n extends Laya.Dialog{constructor(){super()}createChildren(){super.createChildren(),this.createView(n.uiView)}}n.uiView={type:"Dialog",props:{width:640,height:1136},compId:2,child:[{type:"Image",props:{width:467,top:130,skin:"comp/tu_0.png",sizeGrid:"10,10,10,10",height:340,centerX:0},compId:4,child:[{type:"Image",props:{y:0,x:0,width:467,skin:"comp/tu_0.png",sizeGrid:"10,10,10,10",height:340},compId:13,child:[{type:"Sprite",props:{y:56,x:300,texture:"comp/stand.png"},compId:6},{type:"Sprite",props:{y:56,x:50,texture:"comp/run.png"},compId:5},{type:"Label",props:{y:289,x:321.6943359375,text:"stay",fontSize:30,color:"#f9f4f4",bold:!0,align:"center"},compId:9},{type:"Label",props:{y:292,x:54.3154296875,text:"move",fontSize:30,color:"#f9f4f4",bold:!0,align:"center"},compId:10},{type:"Label",props:{y:23,x:300,text:"release",fontSize:30,color:"#f9f4f4",bold:!0,align:"center"},compId:11},{type:"Label",props:{y:23,x:56.9462890625,text:"press",fontSize:30,color:"#f9f4f4",bold:!0,align:"center"},compId:12}]}]},{type:"Sprite",props:{y:804,x:276.5,texture:"comp/dianji.png",scaleY:.9916666666666667,scaleX:.9916666666666667,pivotY:.5,pivotX:.5},compId:7},{type:"Sprite",props:{y:859,x:309,width:68,texture:"comp/shou.png",scaleY:.8,scaleX:.8,rotation:-45,pivotY:.5,pivotX:.5,height:86},compId:8},{type:"Box",props:{width:128,var:"ov_native",top:530,left:459,height:128,alpha:0},compId:21,child:[{type:"Image",props:{y:0,x:0,top:0,right:0,name:"icon",left:0,bottom:0,alpha:.8},compId:22},{type:"Box",props:{width:87,var:"ov_native_close",top:-30,right:41,height:30},compId:23,child:[{type:"Box",props:{top:0,right:0,left:-3,bottom:0,bgColor:"#1b1b1b",alpha:.7},compId:24},{type:"Label",props:{text:"广告 X",fontSize:30,color:"#ffffff",centerY:0,centerX:0,bold:!0,alpha:.8},compId:25}]}]}],animations:[{nodes:[{target:7,keyframes:{y:[{value:867,tweenMethod:"linearNone",tween:!0,target:7,key:"y",index:0},{value:867,tweenMethod:"linearNone",tween:!0,target:7,key:"y",index:18},{value:884,tweenMethod:"linearNone",tween:!0,target:7,key:"y",index:20}],x:[{value:276,tweenMethod:"linearNone",tween:!0,target:7,key:"x",index:0},{value:276,tweenMethod:"linearNone",tween:!0,target:7,key:"x",index:18},{value:292,tweenMethod:"linearNone",tween:!0,target:7,key:"x",index:20}],scaleY:[{value:1,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:0},{value:.99,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:18},{value:.6,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:20}],scaleX:[{value:1,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:0},{value:.99,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:18},{value:.6,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:20}],pivotY:[{value:.5,tweenMethod:"linearNone",tween:!0,target:7,key:"pivotY",index:0}],pivotX:[{value:.5,tweenMethod:"linearNone",tween:!0,target:7,key:"pivotX",index:0}]}},{target:8,keyframes:{scaleY:[{value:1,tweenMethod:"linearNone",tween:!0,target:8,key:"scaleY",index:0},{value:.6,tweenMethod:"linearNone",tween:!0,target:8,key:"scaleY",index:10},{value:1,tweenMethod:"linearNone",tween:!0,target:8,key:"scaleY",index:20}],scaleX:[{value:1,tweenMethod:"linearNone",tween:!0,target:8,key:"scaleX",index:0},{value:.6,tweenMethod:"linearNone",tween:!0,target:8,key:"scaleX",index:10},{value:1,tweenMethod:"linearNone",tween:!0,target:8,key:"scaleX",index:20}]}}],name:"ani1",id:1,frameRate:24,action:2}],loadList:["comp/tu_0.png","comp/stand.png","comp/run.png","comp/dianji.png","comp/shou.png"],loadList3D:[]},e.GuideViewUI=n,v("ui.GuideViewUI",n);class a extends Laya.Scene{constructor(){super()}createChildren(){super.createChildren(),this.createView(a.uiView)}}a.uiView={type:"Scene",props:{width:640,sizeGrid:"0,24,0,12",runtime:"scripts/gui/HudUI.ts",height:1136},compId:2,child:[{type:"Image",props:{x:0,width:640,skin:"wxlocal/beij.jpg",sizeGrid:"0,1,0,1",centerY:0},compId:25},{type:"ProgressBar",props:{x:70,width:500,var:"progressBar",value:0,skin:"preload/progress_xx1.png",sizeGrid:"0,34,0,10",bottom:380},compId:8,child:[{type:"Label",props:{y:-28,x:151,width:197,var:"lblValue",text:"5%",fontSize:25,color:"#ffffff",align:"center"},compId:9},{type:"Label",props:{y:29,x:151,width:197,text:"加载中...",fontSize:25,color:"#ffffff",align:"center"},compId:27}]},{type:"Image",props:{y:110,x:45,var:"img_logo",top:110,skin:"wxlocal/biaoti.png"},compId:29},{type:"Image",props:{y:568,x:281,skin:"preload/jiazai.png"},compId:30},{type:"Button",props:{y:870,x:149,visible:!1,var:"btnStart",stateNum:1,skin:"preload/kaishiyouxi.png"},compId:31}],loadList:["wxlocal/beij.jpg","preload/progress_xx1.png","wxlocal/biaoti.png","preload/jiazai.png","preload/kaishiyouxi.png"],loadList3D:[]},e.HudUI=a,v("ui.HudUI",a);class o extends Laya.Scene{constructor(){super()}createChildren(){super.createChildren(),this.loadScene("MainStage")}}e.MainStageUI=o,v("ui.MainStageUI",o);class s extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(s.uiView)}}s.uiView={type:"View",props:{width:200,height:60},compId:2,child:[{type:"Label",props:{y:40,x:2,width:167,var:"lblName",height:35,fontSize:30,color:"#f6f1f1",bold:!0},compId:4},{type:"Image",props:{y:30,x:-69,width:55,var:"imgHead",height:55},compId:5}],loadList:[],loadList3D:[]},e.PlayerBarUI=s,v("ui.PlayerBarUI",s);class r extends Laya.Dialog{constructor(){super()}createChildren(){super.createChildren(),this.createView(r.uiView)}}r.uiView={type:"Dialog",props:{width:640,height:1136},compId:2,child:[{type:"Button",props:{var:"btnHome",top:30,stateNum:1,skin:"comp/btn_fanhui.png",left:30},compId:3},{type:"Button",props:{y:186,x:95,var:"btnFriend",stateNum:1,skin:"rank/btn_haouyoupaihang.jpg"},compId:8},{type:"Button",props:{y:186,x:395,visible:!0,var:"btnWorld",stateNum:1,skin:"rank/btn_shijie.jpg"},compId:9}],loadList:["comp/btn_fanhui.png","rank/btn_haouyoupaihang.jpg","rank/btn_shijie.jpg"],loadList3D:[]},e.RankUI=r,v("ui.RankUI",r);class l extends Laya.Dialog{constructor(){super()}createChildren(){super.createChildren(),this.createView(l.uiView)}}l.uiView={type:"Dialog",props:{x:0,width:640,height:1136},compId:2,child:[{type:"Image",props:{width:166,top:46,skin:"comp/touxiangdi.png",sizeGrid:"32,39,35,39",height:156,centerX:0},compId:18,child:[{type:"FontClip",props:{y:26,x:45,var:"lblTime",value:"5",skin:"comp/fontClip_num_shuzi.png",sheet:"0123456789"},compId:9}]},{type:"Box",props:{width:361,top:653,centerX:0},compId:19,child:[{type:"Image",props:{y:125,x:180,var:"btnAdv",skin:"comp/btn_icon_22.png",anchorY:.5,anchorX:.5},compId:25},{type:"Sprite",props:{y:209,x:119,width:56,var:"btnHome",texture:"comp/tu_djtg.png",scaleY:2.5,scaleX:2.5,height:13},compId:16},{type:"Label",props:{y:25,x:78,text:"continues?",styleSkin:"comp/label.png",fontSize:40,color:"#ffffff",bold:!0},compId:20}]},{type:"Box",props:{width:400,var:"ov_native",top:240,height:400,centerX:0,alpha:0},compId:36,child:[{type:"Image",props:{top:0,right:0,name:"icon",left:0,bottom:0,alpha:.8},compId:37},{type:"Image",props:{y:-28,x:383,var:"btn_close",skin:"comp/mission_close.png",name:"btn_close"},compId:38},{type:"Box",props:{width:99,right:301,height:60,bottom:0},compId:39,child:[{type:"Box",props:{top:0,right:0,left:0,bottom:0,bgColor:"#1b1b1b",alpha:.7},compId:40},{type:"Label",props:{text:"广告",fontSize:40,color:"#ffffff",centerY:0,centerX:0,bold:!0,alpha:.8},compId:41}]},{type:"Image",props:{y:-42,skin:"comp/btn_ck_01.png",scaleY:.8,scaleX:.8,label:"label",centerX:3},compId:30}]},{type:"Box",props:{width:128,var:"ov_native2",top:685,left:501,height:128,alpha:0},compId:42,child:[{type:"Image",props:{y:0,x:0,top:0,right:0,name:"icon",left:0,bottom:0,alpha:.8},compId:43},{type:"Box",props:{width:87,var:"ov_native_close",top:-30,right:41,height:30},compId:44,child:[{type:"Box",props:{top:0,right:0,left:-3,bottom:0,bgColor:"#1b1b1b",alpha:.7},compId:45},{type:"Label",props:{text:"广告 X",fontSize:30,color:"#ffffff",centerY:0,centerX:0,bold:!0,alpha:.8},compId:46}]}]},{type:"Image",props:{width:440,var:"imgGame",top:207,skin:"moon/ad/gamebox/img_bg2.png",height:460,centerX:0,alpha:0,sizeGrid:"40,40,40,40"},compId:47,child:[{type:"List",props:{var:"list",top:43,spaceY:10,spaceX:10,runtime:"moon/core/ui/extension/ListEx.ts",repeatX:3,centerX:0,bottom:40},compId:48,child:[{type:"Box",props:{y:0,x:0,width:120,scaleY:1,scaleX:1,name:"render",height:120},compId:49,child:[{type:"Image",props:{width:120,visible:!0,skin:"moon/1.png",scaleY:1,scaleX:1,name:"img_icon",left:5,height:120},compId:50}]}]},{type:"Image",props:{top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,left:70},compId:52},{type:"Image",props:{y:-355,top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,left:130},compId:53},{type:"Image",props:{y:0,top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,right:70},compId:54},{type:"Image",props:{y:-355,top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,right:130},compId:55}]}],animations:[{nodes:[{target:25,keyframes:{scaleY:[{value:1,tweenMethod:"linearNone",tween:!0,target:25,key:"scaleY",index:0},{value:1.2,tweenMethod:"linearNone",tween:!0,target:25,key:"scaleY",index:10},{value:1,tweenMethod:"linearNone",tween:!0,target:25,key:"scaleY",index:20}],scaleX:[{value:1,tweenMethod:"linearNone",tween:!0,target:25,key:"scaleX",index:0},{value:1.2,tweenMethod:"linearNone",tween:!0,target:25,key:"scaleX",index:10},{value:1,tweenMethod:"linearNone",tween:!0,target:25,key:"scaleX",index:20}]}}],name:"ani1",id:1,frameRate:24,action:2}],loadList:["comp/touxiangdi.png","comp/fontClip_num_shuzi.png","comp/btn_icon_22.png","comp/tu_djtg.png","comp/label.png","comp/mission_close.png","comp/btn_ck_01.png","moon/ad/gamebox/img_bg2.png","moon/1.png","moon/ad/gamebox/img_bg3.png"],loadList3D:[]},e.ReliveViewUI=l,v("ui.ReliveViewUI",l)}(e||(e={})),function(e){!function(e){class t extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(t.uiView)}}t.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:20},{type:"Box",props:{y:0,x:10,width:799,var:"boxDrouble",height:550,centerY:0,centerX:0},compId:3,child:[{type:"Image",props:{y:-47,x:66,width:666,skin:"activity/nn1.png",sizeGrid:"58,58,58,58",height:689,centerY:22,centerX:0},compId:4},{type:"Image",props:{y:-36,x:77,width:646,skin:"activity/bg_nn2.png",height:665},compId:26},{type:"Label",props:{y:-14,x:164,width:473,var:"txt_title",text:"每日金币",height:47,fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:6},{type:"Button",props:{y:114,width:590,var:"btnGetCoin1",stateNum:1,skin:"activity/common_btn3.png",sizeGrid:"42,42,42,42",height:130,centerX:0},compId:7,child:[{type:"Label",props:{y:30,x:140,width:280,var:"it021",valign:"middle",text:"普通领取9.6k",strokeColor:"#326636",stroke:3,height:67,fontSize:40,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:8},{type:"Image",props:{skin:"activity/icon_gold.png",scaleY:.7,scaleX:.7,centerY:-5,centerX:199},compId:9}]},{type:"Button",props:{y:426,x:105,width:590,var:"btnGetCoin3",stateNum:1,skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",height:130,centerX:0},compId:10,child:[{type:"Label",props:{y:25,x:140,width:280,var:"it022",valign:"middle",text:"看视频领取4倍",strokeColor:"#7a5620",stroke:3,height:67,fontSize:40,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:12},{type:"Image",props:{y:-280,skin:"activity/icon_gold.png",scaleY:.7,scaleX:.7,centerY:-5,centerX:199},compId:13}]},{type:"Button",props:{y:271,width:590,var:"btnGetShare",stateNum:1,skin:"activity/common_btn3.png",sizeGrid:"42,42,42,42",height:130,centerX:0},compId:16,child:[{type:"Label",props:{y:31.5,x:130,width:280,var:"it023",valign:"middle",text:"分享领取4倍",strokeColor:"#326636",stroke:3,height:67,fontSize:40,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:17},{type:"Image",props:{skin:"activity/icon_gold.png",scaleY:.7,scaleX:.7,centerY:-5,centerX:199},compId:18}]},{type:"Sprite",props:{y:-74,x:150,texture:"activity/nn5.png"},compId:29},{type:"Sprite",props:{y:-24,x:639,var:"btn_close",texture:"activity/btn_close.png"},compId:30},{type:"Sprite",props:{y:-74,x:574,texture:"activity/nn5.png"},compId:34}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/common_btn3.png","activity/icon_gold.png","activity/common_btn1.png","activity/nn5.png","activity/btn_close.png"],loadList3D:[]},e.MoonBoxDoubleUI=t,v("ui.view.MoonBoxDoubleUI",t);class i extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(i.uiView)}}i.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:3},{type:"Image",props:{width:666,skin:"activity/nn1.png",sizeGrid:"58,58,58,58",height:1089,centerY:6,centerX:5},compId:4,child:[{type:"Image",props:{y:8,x:12,width:646,skin:"activity/bg_nn2.png",height:1066},compId:5,child:[{type:"Label",props:{y:21,x:4,width:638,text:"收藏有礼指南",height:52,fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:6}]},{type:"Image",props:{y:128,width:597,skin:"activity/common_bg2.png",sizeGrid:"30,21,20,31",height:66,centerX:2},compId:7,child:[{type:"Label",props:{y:15,x:38,width:513,var:"txt_getInfo",height:38,fontSize:32,font:"黑体",color:"#ffffff",align:"center"},compId:8},{type:"Image",props:{y:0,x:516,width:76,skin:"activity/icon_diamond.png",scaleY:.8,scaleX:.8,height:80},compId:9}]},{type:"Sprite",props:{y:-25,x:84,texture:"activity/nn5.png"},compId:38},{type:"Sprite",props:{y:20,x:574,var:"btn_close",texture:"activity/btn_close.png"},compId:39},{type:"Sprite",props:{y:-25,x:509,texture:"activity/nn5.png"},compId:40},{type:"Image",props:{y:505,x:27,width:602,skin:"share/collect1.png",height:204,centerX:0},compId:30},{type:"Image",props:{y:856,x:27,width:602,skin:"share/collect3.png",height:170,centerX:0},compId:33},{type:"Image",props:{y:255,x:27,width:602,skin:"share/collect2.png",height:170,centerX:0},compId:27},{type:"Label",props:{y:201,x:35,width:331,text:"第一步: 点击右上角",height:48,fontSize:36,font:"黑体",color:"#925c3e",centerY:-313,centerX:-128,align:"left"},compId:25},{type:"Label",props:{y:201,x:369,width:180,text:"三角标识",height:48,fontSize:36,font:"黑体",color:"#ff6c34",centerY:-313,centerX:131,align:"left"},compId:26},{type:"Label",props:{y:437,x:35,width:225,text:"第二步: 点击",height:48,fontSize:36,font:"黑体",color:"#925c3e",centerY:-77,centerX:-181,align:"left"},compId:28},{type:"Label",props:{y:437,x:262,width:201,text:"添加到桌面",height:48,fontSize:36,font:"黑体",color:"#ff6c34",centerY:-77,centerX:34,align:"left"},compId:29},{type:"Label",props:{y:725,x:34,wordWrap:!0,width:578,text:"第三步：关闭游戏，在                     找到 “完美投篮”并进入，就可以获得钻石 奖励啦！",height:145,fontSize:36,font:"黑体",color:"#925c3e",centerY:259,centerX:-5,align:"left"},compId:31},{type:"Label",props:{y:724,x:399,width:211,text:"我的小程序",height:48,fontSize:36,font:"黑体",color:"#ff6c34",centerY:210,centerX:176,align:"left"},compId:32}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/common_bg2.png","activity/icon_diamond.png","activity/nn5.png","activity/btn_close.png","share/collect1.png","share/collect3.png","share/collect2.png"],loadList3D:[]},e.MoonCollectAndUI=i,v("ui.view.MoonCollectAndUI",i);class n extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(n.uiView)}}n.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:3},{type:"Image",props:{width:666,skin:"activity/nn1.png",sizeGrid:"58,58,58,58",height:1089,centerY:5,centerX:4},compId:4,child:[{type:"Image",props:{y:12,x:11,width:646,skin:"activity/bg_nn2.png",height:1066},compId:5,child:[{type:"Label",props:{y:20,x:4,width:638,text:"收藏有礼指南",height:52,fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:6}]},{type:"Image",props:{y:132,width:597,skin:"activity/common_bg2.png",sizeGrid:"30,21,20,31",height:66,centerX:2},compId:7,child:[{type:"Label",props:{y:15,x:38,width:513,var:"txt_getInfo",height:38,fontSize:32,font:"黑体",color:"#ffffff",align:"center"},compId:8},{type:"Image",props:{y:0,x:516,width:76,skin:"activity/icon_diamond.png",scaleY:.8,scaleX:.8,height:80},compId:9}]},{type:"Image",props:{y:258,x:32,width:602,skin:"share/collect2.png",height:170,centerX:0},compId:13},{type:"Image",props:{y:507,x:32,width:602,skin:"share/collect4.png",height:204,centerX:0},compId:16},{type:"Sprite",props:{y:-24,x:84,texture:"activity/nn5.png"},compId:38},{type:"Image",props:{y:858,x:32,width:602,skin:"share/collect5.png",height:170,centerX:0},compId:19},{type:"Sprite",props:{y:20,x:574,var:"btn_close",texture:"activity/btn_close.png"},compId:39},{type:"Sprite",props:{y:-23,x:509,texture:"activity/nn5.png"},compId:40},{type:"Label",props:{x:41,width:363,text:"第一步: 点击右上角",height:44,fontSize:36,font:"黑体",color:"#925c3e",centerY:-317,centerX:-111,align:"left"},compId:11},{type:"Label",props:{x:353,width:166,text:"三角标识",height:39,fontSize:36,font:"黑体",color:"#ff6c34",centerY:-317,centerX:103,align:"left"},compId:12},{type:"Label",props:{x:41,width:205,text:"第二步: 点击",height:48,fontSize:36,font:"黑体",color:"#925c3e",centerY:-75,centerX:-190,align:"left"},compId:14},{type:"Label",props:{x:246,width:190,text:"添加到桌面",height:48,fontSize:36,font:"黑体",color:"#ff6c34",centerY:-75,centerX:8,align:"left"},compId:15},{type:"Label",props:{x:41,wordWrap:!0,width:584,text:"第三步：关闭游戏，在                 找到 “完美投篮”并进入，就可以获得钻石 奖励啦！",height:145,fontSize:36,font:"黑体",color:"#925c3e",centerY:259,centerX:0,align:"left"},compId:17},{type:"Label",props:{x:405,width:211,text:"手机桌面",height:48,fontSize:36,font:"黑体",color:"#ff6c34",centerY:208,centerX:177,align:"left"},compId:18}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/common_bg2.png","activity/icon_diamond.png","share/collect2.png","share/collect4.png","activity/nn5.png","share/collect5.png","activity/btn_close.png"],loadList3D:[]},e.MoonCollectiOSUI=n,v("ui.view.MoonCollectiOSUI",n);class a extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(a.uiView)}}a.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{y:0,x:0,var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0},compId:3},{type:"Box",props:{width:744,var:"pDuiHuan",height:639,centerY:0,centerX:0},compId:4,child:[{type:"Image",props:{y:1,x:42,width:666,var:"winBg",skin:"activity/nn1.png",sizeGrid:"58,58,58,58",height:638},compId:5},{type:"Image",props:{y:13,x:52,width:646,skin:"activity/bg_nn2.png",height:491},compId:6},{type:"Image",props:{y:354,x:77,width:596,skin:"activity/common_bg2.png",sizeGrid:"25,26,28,27",height:93},compId:7},{type:"Image",props:{y:159,width:549,skin:"activity/777.png",sizeGrid:"0,62,0,69",scaleY:1.1,scaleX:1.1,height:131,centerX:0},compId:8},{type:"Sprite",props:{y:-29.5,x:124.5,texture:"activity/nn5.png"},compId:23},{type:"Sprite",props:{y:21,x:616,var:"btn_close",texture:"activity/btn_close.png"},compId:24},{type:"Sprite",props:{y:-24,x:551,texture:"activity/nn5.png"},compId:25},{type:"Button",props:{y:514,width:308,var:"btn_exchangeAll",stateNum:1,skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",right:60,height:108},compId:29,child:[{type:"Label",props:{y:21.5,width:280,var:"txt_exchangeAll",valign:"middle",text:"全部兑换",strokeColor:"#9e5410",stroke:3,height:67,fontSize:40,font:"黑体",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:30}]},{type:"Button",props:{y:514,width:308,var:"btnDuiHuan",stateNum:1,skin:"activity/common_btn3.png",sizeGrid:"42,42,42,42",left:60,height:108},compId:9,child:[{type:"Label",props:{y:21.5,width:280,var:"txt_exchange",valign:"middle",text:"兑换",strokeColor:"#9e5410",stroke:3,height:67,fontSize:40,font:"黑体",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:26}]},{type:"Image",props:{y:237,x:145,var:"btnJian",skin:"activity/888.png",sizeGrid:"18,18,18,18",pivotY:64,pivotX:50},compId:11,child:[{type:"Image",props:{y:55,x:39,width:40,skin:"activity/jj.png",height:11},compId:12}]},{type:"Image",props:{y:237,x:586,var:"btnJia",skin:"activity/888.png",sizeGrid:"18,18,18,18",pivotY:64,pivotX:50},compId:13,child:[{type:"Image",props:{y:34,x:37,skin:"activity/pp.png"},compId:14}]},{type:"Box",props:{y:354,x:77,width:597,var:"labelBox",height:94},compId:15,child:[{type:"Image",props:{y:6.5,x:200.5,width:77,var:"exchangeGold",skin:"activity/icon_diamond.png",height:73},compId:16},{type:"Image",props:{y:12,x:520,var:"icRes",skin:"activity/icon_gold.png",scaleY:.6,scaleX:.6},compId:17},{type:"Image",props:{y:28,x:277.5,skin:"activity/999.png"},compId:18},{type:"Label",props:{y:5,x:19,width:186,var:"itNumZuan",valign:"middle",text:"利用 1",height:86,fontSize:36,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:19},{type:"Label",props:{y:4,x:324,width:200,var:"itNumResult",valign:"middle",text:"获得 3K",height:86,fontSize:36,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:20}]},{type:"Label",props:{y:26,x:130.5,width:489,var:"exchangeTitle",valign:"middle",text:"兑换金币",height:63,fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:21},{type:"Label",props:{y:190,x:259,width:232,var:"itNum",valign:"middle",text:"99",height:86,fontSize:60,color:"#ffffff",bold:!0,align:"center"},compId:22}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/common_bg2.png","activity/777.png","activity/nn5.png","activity/btn_close.png","activity/common_btn1.png","activity/common_btn3.png","activity/888.png","activity/jj.png","activity/pp.png","activity/icon_diamond.png","activity/icon_gold.png","activity/999.png"],loadList3D:[]},e.MoonExchangeUI=a,v("ui.view.MoonExchangeUI",a);class o extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(o.uiView)}}o.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:3},{type:"Image",props:{width:666,skin:"activity/nn1.png",sizeGrid:"58,58,58,58",mouseThrough:!1,height:1160,centerY:-1,centerX:0},compId:4,child:[{type:"Image",props:{width:646,skin:"activity/bg_nn2.png",height:894,centerY:-123,centerX:2},compId:7,child:[{type:"List",props:{y:118,width:622,var:"list",spaceY:5,spaceX:30,repeatX:1,name:"render",height:738,centerX:-1},compId:9,child:[{type:"Box",props:{y:0,x:4,width:618,renderType:"render",height:143},compId:53,child:[{type:"Image",props:{width:613,skin:"activity/common_bg2.png",sizeGrid:"19,16,18,21",height:137},compId:40},{type:"Image",props:{width:100,var:"img_icon",sizeGrid:"7,7,8,5",scaleY:1,scaleX:1,name:"img_icon",height:100,centerY:-3,centerX:-234},compId:41},{type:"Image",props:{y:65,x:464,width:235,visible:!0,var:"btn_try",skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",pivotY:46.5,pivotX:107,name:"btn_try",height:96},compId:42,child:[{type:"Label",props:{y:26,width:157,valign:"middle",text:"试玩",strokeColor:"#c85d21",stroke:3,scaleY:1,scaleX:1,height:40,fontSize:32,font:"黑体",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:47},{type:"Image",props:{y:4,x:148,visible:!1,skin:"activity/icon_diamond.png",scaleY:.7,scaleX:.7},compId:48}]},{type:"Label",props:{y:43.5,x:165,width:209,var:"txt_name",valign:"middle",text:"游戏名字",scaleY:1,scaleX:1,name:"txt_name",height:50,fontSize:32,font:"黑体",color:"#ffffff",bold:!0,align:"left"},compId:43},{type:"Image",props:{y:86,x:480,width:235,var:"btn_got",skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",pivotY:46.5,pivotX:107,name:"btn_got",height:96},compId:44,child:[{type:"Label",props:{y:23.5,width:157,valign:"middle",text:"已领取",strokeColor:"#cf802e",scaleY:1,scaleX:1,height:45,fontSize:32,font:"黑体",color:"#a3621c",centerX:0,bold:!0,align:"center"},compId:49}]},{type:"Image",props:{y:80,x:480,width:235,visible:!1,var:"btn_tryed",skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",pivotY:46.5,pivotX:107,name:"btn_tryed",height:96},compId:45,child:[{type:"Label",props:{y:47,width:171,valign:"middle",text:"立即试玩",strokeColor:"#b97022",stroke:3,scaleY:1,scaleX:1,pivotY:21,pivotX:86,height:41,fontSize:32,font:"黑体",color:"#ffffff",centerX:0,bold:!0,align:"center"},compId:50}]},{type:"Image",props:{width:235,visible:!1,var:"btn_get",skin:"activity/common_btn3.png",sizeGrid:"42,42,42,42",right:107,pivotY:46.5,pivotX:107,name:"btn_get",height:96,centerY:-5},compId:46,child:[{type:"Label",props:{y:29,width:124,valign:"middle",text:"领取10",strokeColor:"#cf802e",scaleY:1,scaleX:1,height:35,fontSize:32,font:"黑体",color:"#ffffff",centerX:-34,bold:!0,align:"center"},compId:51},{type:"Image",props:{y:4.5,x:139,visible:!0,skin:"activity/icon_diamond.png",scaleY:.7,scaleX:.7},compId:52}]}]}]}]},{type:"Sprite",props:{y:-28,x:87.5,texture:"activity/nn5.png"},compId:24},{type:"Sprite",props:{y:22,x:576,var:"btn_close",texture:"activity/btn_close.png"},compId:25},{type:"Sprite",props:{y:-28,x:511,texture:"activity/nn5.png"},compId:26},{type:"Label",props:{y:32,x:100,width:467,text:"新游试玩",height:47,fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:6},{type:"Label",props:{y:1105,width:329,text:"猜你喜欢",height:40,fontSize:36,font:"黑体",color:"#77f9ff",centerX:0,align:"center"},compId:11},{type:"Image",props:{y:912,width:150,var:"btn_guess0",skin:"activity/common_bg4.png",sizeGrid:"24,25,23,22",height:175,centerX:-238},compId:12,child:[{type:"Image",props:{x:340,width:100,var:"img_icon0",scaleY:1,scaleX:1,height:100,centerY:-21,centerX:0},compId:13},{type:"Label",props:{width:149,var:"txt_name0",text:"游戏名字",height:36,fontSize:28,font:"黑体",color:"#ffffff",centerY:62,centerX:0,bold:!1,align:"center"},compId:14}]},{type:"Image",props:{y:912,width:150,var:"btn_guess1",skin:"activity/common_bg4.png",sizeGrid:"24,25,23,22",height:175,centerX:-79},compId:15,child:[{type:"Image",props:{y:23,x:-160,width:100,var:"img_icon1",scaleY:1,scaleX:1,height:100,centerY:-21,centerX:0},compId:16},{type:"Label",props:{y:138,x:-184,width:149,var:"txt_name1",text:"游戏名字",height:36,fontSize:28,font:"黑体",color:"#ffffff",centerY:62,centerX:0,align:"center"},compId:17}]},{type:"Image",props:{y:912,width:150,var:"btn_guess2",skin:"activity/common_bg4.png",sizeGrid:"24,25,23,22",height:175,centerX:80},compId:18,child:[{type:"Image",props:{y:23,x:-160,width:100,var:"img_icon2",scaleY:1,scaleX:1,height:100,centerY:-21,centerX:0},compId:19},{type:"Label",props:{y:138,x:-184,width:149,var:"txt_name2",text:"游戏名字",height:36,fontSize:28,font:"黑体",color:"#ffffff",centerY:62,centerX:0,align:"center"},compId:20}]},{type:"Image",props:{y:912,width:150,var:"btn_guess3",skin:"activity/common_bg4.png",sizeGrid:"24,25,23,22",height:175,centerX:239},compId:21,child:[{type:"Image",props:{y:27,x:-160,width:100,var:"img_icon3",scaleY:1,scaleX:1,height:100,centerY:-21,centerX:0},compId:22},{type:"Label",props:{y:142,x:-184,width:149,var:"txt_name3",text:"游戏名字",height:36,fontSize:28,font:"黑体",color:"#ffffff",centerY:62,centerX:0,align:"center"},compId:23}]}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/common_bg2.png","activity/common_btn1.png","activity/icon_diamond.png","activity/common_btn3.png","activity/nn5.png","activity/btn_close.png","activity/common_bg4.png"],loadList3D:[]},e.MoonGameUI=o,v("ui.view.MoonGameUI",o);class s extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(s.uiView)}}s.uiView={type:"View",props:{width:640,name:"bg",height:1136},compId:2,child:[{type:"Image",props:{width:600,skin:"moon/ad/gamebox/img_bg1.png",scaleY:1,scaleX:1,height:875,centerY:0,centerX:0,sizeGrid:"50,50,50,50"},compId:3,child:[{type:"Image",props:{var:"btn_close",top:12,skin:"moon/ad/gamebox/close.png",scaleY:2,scaleX:2,right:12},compId:16},{type:"Image",props:{y:-70,x:132,skin:"moon/ad/gamebox/bg_title.png"},compId:19,child:[{type:"Image",props:{top:-22,skin:"moon/ad/gamebox/bg_start.png",rotation:45,left:-20},compId:20},{type:"Image",props:{top:0,skin:"moon/ad/gamebox/bg_start.png",right:-50},compId:21}]},{type:"Image",props:{width:580,skin:"moon/ad/gamebox/img_bg2.png",height:750,centerX:0,bottom:20,sizeGrid:"40,40,40,40"},compId:22,child:[{type:"List",props:{var:"list",top:60,spaceY:10,spaceX:10,runtime:"moon/core/ui/extension/ListEx.ts",right:15,repeatX:4,left:10,bottom:30},compId:10,child:[{type:"Box",props:{y:0,x:0,width:128,scaleY:1,scaleX:1,name:"render",height:128},compId:11,child:[{type:"Image",props:{width:128,visible:!0,skin:"moon/1.png",scaleY:1,scaleX:1,name:"img_icon",left:5,height:128},compId:13},{type:"Label",props:{y:160,x:64,width:140,visible:!1,valign:"middle",text:"我是弹弹高手",strokeColor:"#ffffff",stroke:1,name:"name",fontSize:22,font:"Arial",color:"#000000",centerX:0,bold:!0,anchorY:.5,anchorX:.5,align:"center"},compId:14}]}]},{type:"Image",props:{top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,left:70},compId:23},{type:"Image",props:{y:-355,top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,left:130},compId:24},{type:"Image",props:{y:0,top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,right:70},compId:25},{type:"Image",props:{y:-355,top:-20,skin:"moon/ad/gamebox/img_bg3.png",scaleY:1.2,scaleX:1.2,right:130},compId:26}]}]}],loadList:["moon/ad/gamebox/img_bg1.png","moon/ad/gamebox/close.png","moon/ad/gamebox/bg_title.png","moon/ad/gamebox/bg_start.png","moon/ad/gamebox/img_bg2.png","moon/1.png","moon/ad/gamebox/img_bg3.png"],loadList3D:[]},e.MoonGameBoxUI=s,v("ui.view.MoonGameBoxUI",s);class r extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(r.uiView)}}r.uiView={type:"View",props:{width:750,mouseThrough:!0,height:1334},compId:2,child:[{type:"Box",props:{y:415,width:523,var:"newgame",right:-366,height:660},compId:3,child:[{type:"Image",props:{width:523,var:"bg",skin:"activity/newgame_frame1.png",sizeGrid:"28,17,16,33",right:0,height:660,centerY:0},compId:4,child:[{type:"Image",props:{y:-31,x:14,width:136,var:"img_text",skin:"activity/newgame_text.png",height:40},compId:22}]},{type:"Image",props:{y:571,x:-42,width:47,var:"btn_open",skin:"activity/newgame_frame2.png",height:90},compId:5,child:[{type:"Image",props:{y:65,x:34,var:"img_arrow",skin:"activity/999.png",rotation:-180,centerY:0,centerX:0,anchorY:.5,anchorX:.5},compId:6}]},{type:"List",props:{width:501,var:"list",spaceY:10,spaceX:10,repeatY:4,repeatX:4,name:"render",height:621,centerY:0,centerX:0},compId:7,child:[{type:"Box",props:{renderType:"render"},compId:23,child:[{type:"Image",props:{width:117,skin:"activity/common_bg2.png",sizeGrid:"25,26,28,27",name:"btn_game",height:148,centerY:1,centerX:4},compId:24,child:[{type:"Image",props:{width:84,name:"img_icon",height:84,centerY:-19,centerX:0},compId:25},{type:"Label",props:{y:109,x:9.5,width:98,overflow:"hidden",name:"txt_name",height:27,fontSize:24,color:"#ffffff",align:"center"},compId:26}]}]}]},{type:"Box",props:{y:16,x:21,width:129,var:"box",height:628},compId:9,child:[{type:"Image",props:{y:0,x:3,width:117,var:"btn_game0",skin:"activity/common_bg2.png",sizeGrid:"25,26,28,27",height:148},compId:10,child:[{type:"Image",props:{width:84,var:"img_icon0",height:84,centerY:-19,centerX:0},compId:11},{type:"Label",props:{y:107,x:10,width:98,var:"txt_name0",overflow:"hidden",height:27,fontSize:24,color:"#ffffff",align:"center"},compId:12}]},{type:"Image",props:{y:160,x:3,width:117,var:"btn_game1",skin:"activity/common_bg2.png",sizeGrid:"25,26,28,27",height:148},compId:13,child:[{type:"Image",props:{width:84,var:"img_icon1",height:84,centerY:-19,centerX:0},compId:14},{type:"Label",props:{y:107,x:10,width:98,var:"txt_name1",overflow:"hidden",height:27,fontSize:24,color:"#ffffff",align:"center"},compId:15}]},{type:"Image",props:{y:320,x:3,width:117,var:"btn_game2",skin:"activity/common_bg2.png",sizeGrid:"25,26,28,27",height:148},compId:16,child:[{type:"Image",props:{width:84,var:"img_icon2",height:84,centerY:-19,centerX:0},compId:17},{type:"Label",props:{y:107,x:10,width:98,var:"txt_name2",overflow:"hidden",height:27,fontSize:24,color:"#ffffff",align:"center"},compId:18}]},{type:"Image",props:{y:480,x:3,width:117,var:"btn_game3",skin:"activity/common_bg2.png",sizeGrid:"25,26,28,27",height:148},compId:19,child:[{type:"Image",props:{width:84,var:"img_icon3",height:84,centerY:-21,centerX:0},compId:20},{type:"Label",props:{y:107,x:10,width:98,var:"txt_name3",overflow:"hidden",height:27,fontSize:24,color:"#ffffff",align:"center"},compId:21}]}]}]}],loadList:["activity/newgame_frame1.png","activity/newgame_text.png","activity/newgame_frame2.png","activity/999.png","activity/common_bg2.png"],loadList3D:[]},e.MoonGameSideBarUI=r,v("ui.view.MoonGameSideBarUI",r);class l extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(l.uiView)}}l.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{y:0,x:0,var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:4},{type:"Box",props:{centerY:-145,centerX:0,anchorY:.5,anchorX:.5},compId:6,child:[{type:"Animation",props:{y:-1,x:0,var:"getAni",source:"animation/fx_glow.ani"},compId:3}]},{type:"Image",props:{width:179,var:"img_ball",skin:"gskin/Ball0.png",height:179,centerY:-147,centerX:0,anchorY:.5,anchorX:.5},compId:5,child:[{type:"Image",props:{y:0,x:0,width:179,visible:!1,var:"img_basket",skin:"gskin/Basket6_1.png",height:179},compId:10}]},{type:"Label",props:{y:851,x:375,width:389,text:"恭喜获得新的皮肤!",height:70,fontSize:50,color:"#ffffff",centerY:184,centerX:0,anchorY:.5,anchorX:.5,align:"center"},compId:7},{type:"Image",props:{var:"img_gx",skin:"activity-i/z9.png",centerY:-447,centerX:0},compId:8},{type:"Button",props:{width:310,var:"btn",stateNum:1,skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",height:95,centerY:300,centerX:0},compId:11,child:[{type:"Label",props:{y:38,width:156,valign:"middle",text:"立刻使用",strokeColor:"#c06c1e",stroke:3,pivotY:26,height:61,fontSize:38,font:"黑体",color:"#ffffff",centerX:0,bold:!0,align:"left"},compId:13}]}],animations:[{nodes:[{target:5,keyframes:{skewY:[{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"skewY",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"skewY",index:13}],skewX:[{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"skewX",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"skewX",index:13}],scaleY:[{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleY",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleY",index:13},{value:.8,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleY",index:17},{value:.8,tweenMethod:"linearNone",tween:!0,target:5,label:null,key:"scaleY",index:20}],scaleX:[{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleX",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleX",index:13},{value:.8,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleX",index:17},{value:.8,tweenMethod:"linearNone",tween:!0,target:5,label:null,key:"scaleX",index:20}],rotation:[{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:17},{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:20},{value:-30,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:24},{value:30,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:29},{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:34}]}},{target:7,keyframes:{scaleY:[{value:0,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:13},{value:.8,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:17}],scaleX:[{value:0,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:13},{value:.8,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:17}]}}],name:"ani1",id:1,frameRate:30,action:0}],loadList:["activity/common_bg5.png","animation/fx_glow.ani","gskin/Ball0.png","gskin/Basket6_1.png","activity-i/z9.png","activity/common_btn1.png"],loadList3D:[]},e.MoonGetSkinUI=l,v("ui.view.MoonGetSkinUI",l);class h extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(h.uiView)}}h.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{y:812,x:130.5,skin:"activity/mugen_001.png"},compId:36},{type:"Image",props:{y:939,x:118,skin:"activity/hand_001.png",scaleY:.15,scaleX:.15},compId:35}],animations:[{nodes:[{target:35,keyframes:{y:[{value:936,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:0},{value:999,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:3},{value:1042,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:6},{value:1004,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:9},{value:936,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:12},{value:852,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:15},{value:822,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:18},{value:853,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:21},{value:936,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:24},{value:980,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:27},{value:1041,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:30},{value:1001,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:33},{value:936,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:36},{value:847,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:39},{value:822,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:42},{value:864,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:45},{value:936,tweenMethod:"linearNone",tween:!0,target:35,key:"y",index:48}],x:[{value:121,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:0},{value:145,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:3},{value:227,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:6},{value:308,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:9},{value:350,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:12},{value:392,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:15},{value:469,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:18},{value:544,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:21},{value:581,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:24},{value:566.5,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:27},{value:473,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:30},{value:385,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:33},{value:350,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:36},{value:295,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:39},{value:228,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:42},{value:150,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:45},{value:120,tweenMethod:"linearNone",tween:!0,target:35,key:"x",index:48}]}}],name:"Ani_Gesture",id:1,frameRate:24,action:0}],loadList:["activity/mugen_001.png","activity/hand_001.png"],loadList3D:[]},e.MoonGuideGestureViewUI=h,v("ui.view.MoonGuideGestureViewUI",h);class d extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(d.uiView)}}d.uiView={type:"View",props:{width:750,top:0,right:0,mouseThrough:!0,left:0,height:1334,bottom:0},compId:2,child:[{type:"Button",props:{var:"btn_shake",stateNum:1,skin:"activity/vibrate_on.png",pivotY:47,pivotX:47,mouseThrough:!1,left:23,height:94,bottom:328},compId:5},{type:"Button",props:{width:94,var:"btn_sound",stateNum:1,skin:"activity/sound_on.png",pivotY:47,pivotX:47,left:23,height:94,bottom:438},compId:6},{type:"Button",props:{width:123,var:"btn_gift",top:450,stateNum:1,skin:"activity/giftbox2.png",left:23},compId:85,child:[{type:"Sprite",props:{y:0,x:88,var:"red_gift",texture:"activity/icon_red_point.png"},compId:97}]},{type:"Button",props:{width:94,var:"btn_rank",stateNum:1,skin:"activity/rank.png",pivotY:47,pivotX:47,left:23,height:94,bottom:219},compId:8},{type:"Box",props:{width:131,visible:!1,var:"gameGround",top:143,mouseThrough:!1,left:23,hitTestPrior:!0,height:127},compId:35,child:[{type:"Sprite",props:{y:0,x:0,var:"btnGameGround",texture:"activity/game_ground.png"},compId:36,child:[{type:"Sprite",props:{y:0,x:104,var:"groundTip",texture:"activity/icon_red_point.png"},compId:37}]}]},{type:"Box",props:{width:123,var:"addFriend",top:294,right:23,height:127},compId:47,child:[{type:"Sprite",props:{y:0,x:0,var:"friendBtn",texture:"activity/addFriend.png"},compId:48,child:[{type:"Sprite",props:{y:0,x:88,var:"friendTip",texture:"activity/icon_red_point.png"},compId:49}]}]},{type:"Box",props:{width:154,var:"coin",right:36,height:216,bottom:245},compId:50,child:[{type:"Image",props:{y:5,x:3.15771484375,width:147,skin:"activity/plate.png",height:209},compId:51},{type:"Label",props:{y:144,x:32.15771484375,width:89,var:"itCoinVal",text:"0",height:32,fontSize:32,color:"#fffb8a",bold:!0,align:"center"},compId:54},{type:"Image",props:{y:-2,x:-4,var:"pgsCoin",skin:"activity/coinLight.png"},compId:86,child:[{type:"Sprite",props:{y:81,x:80,width:61.6,visible:!1,name:"sp",height:16,alpha:1},compId:87}]},{type:"Sprite",props:{y:19,x:17,visible:!0,var:"btn_coin",texture:"activity/icon_gold.png"},compId:53}]},{type:"Box",props:{width:123,var:"btnGem",top:450,right:23,height:124},compId:58,child:[{type:"Sprite",props:{var:"imgSupply",texture:"activity/supply.png"},compId:59},{type:"Sprite",props:{y:0,x:88,var:"gemTip",texture:"activity/icon_red_point2.png"},compId:62,child:[{type:"Label",props:{y:12.25,x:13.3125,width:30,var:"supply_num",text:"10",strokeColor:"#8e3b30",stroke:3,fontSize:26,font:"黑体",color:"#ffffff",bold:!0},compId:63}]},{type:"Image",props:{x:-276,width:268,var:"supply_remind",skin:"activity/supply_fra.png",height:72,centerY:0},compId:69,child:[{type:"Label",props:{y:22,text:"大量补给箱来袭!",fontSize:28,font:"黑体",color:"#ffffff",centerX:0},compId:61}]}]},{type:"Box",props:{visible:!1,var:"box_games",top:294,left:23},compId:38,child:[{type:"Button",props:{var:"btn_games",stateNum:1,skin:"activity/btn_games.png"},compId:71,child:[{type:"Sprite",props:{y:0,x:88,var:"red_games",texture:"activity/icon_red_point.png"},compId:40}]}]},{type:"Box",props:{width:123,var:"box_service",top:143,right:23,height:124},compId:32,child:[{type:"Sprite",props:{var:"btn_service",texture:"activity/btn_kefu.png"},compId:33,child:[{type:"Sprite",props:{y:0,x:88,var:"red_service",texture:"activity/icon_red_point.png"},compId:34}]}]}],animations:[{nodes:[],name:"shakeBall",id:1,frameRate:30,action:0},{nodes:[],name:"beginFont",id:2,frameRate:24,action:0},{nodes:[{target:69,keyframes:{x:[{value:-276,tweenMethod:"linearNone",tween:!0,target:69,key:"x",index:0},{value:-293,tweenMethod:"linearNone",tween:!0,target:69,key:"x",index:5},{value:-276,tweenMethod:"linearNone",tween:!0,target:69,key:"x",index:10},{value:-293,tweenMethod:"linearNone",tween:!0,target:69,key:"x",index:15},{value:-276,tweenMethod:"linearNone",tween:!0,target:69,key:"x",index:20},{value:-276,tweenMethod:"linearNone",tween:!0,target:69,label:null,key:"x",index:35}]}}],name:"ani_shakeBox",id:3,frameRate:24,action:0}],loadList:["activity/vibrate_on.png","activity/sound_on.png","activity/giftbox2.png","activity/icon_red_point.png","activity/rank.png","activity/game_ground.png","activity/addFriend.png","activity/plate.png","activity/coinLight.png","activity/icon_gold.png","activity/supply.png","activity/icon_red_point2.png","activity/supply_fra.png","activity/btn_games.png","activity/btn_kefu.png"],loadList3D:[]},e.MoonIndexUI=d,v("ui.view.MoonIndexUI",d);class c extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(c.uiView)}}c.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:3},{type:"Image",props:{width:666,skin:"activity/nn1.png",sizeGrid:"58,58,58,58",height:1065,centerY:-12,centerX:0},compId:4,child:[{type:"Image",props:{width:646,skin:"activity/bg_nn2.png",height:875,centerY:-83,centerX:0},compId:7,child:[{type:"Text",props:{y:22,x:3,width:642,var:"txt_title",text:"邀请好友领钻石",height:48,fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center",runtime:"laya.display.Text"},compId:8}]},{type:"Sprite",props:{y:-28.5,x:86,texture:"activity/nn5.png"},compId:32},{type:"Sprite",props:{y:22,x:575,var:"btn_close",texture:"activity/btn_close.png"},compId:33},{type:"Sprite",props:{y:-28,x:510,texture:"activity/nn5.png"},compId:34},{type:"Label",props:{width:626,var:"txt_info",text:"新用户通过您的邀请来到游戏，即可获得钻石",height:35,fontSize:28,font:"黑体",color:"#ffffff",centerY:382,centerX:2,align:"center"},compId:10},{type:"Button",props:{width:509,var:"btn_share",stateNum:1,skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",height:104,centerY:461,centerX:2},compId:11,child:[{type:"Image",props:{skin:"activity/icon_diamond.png",scaleY:.7,scaleX:.7,centerY:-4,centerX:190},compId:12},{type:"Label",props:{y:28,x:90,width:347,var:"txt_shareBtn",text:"邀请好友领钻石",strokeColor:"#783d20",stroke:3,height:48,fontSize:42,font:"黑体",color:"#ffffff",bold:!0},compId:13}]},{type:"Label",props:{width:494,visible:!1,var:"lbl_id",text:"我的ID:",overflow:"hidden",height:45,fontSize:36,font:"黑体",color:"#5cacff",centerY:515,centerX:0,align:"center"},compId:17},{type:"Image",props:{y:118,width:641,var:"img_rank",height:755,centerX:0},compId:5,child:[{type:"List",props:{width:616,var:"list",spaceY:5,spaceX:30,repeatY:0,repeatX:1,name:"render",height:717,centerY:-7,centerX:1},compId:18,child:[{type:"Box",props:{y:-1,width:617,renderType:"render",height:116,centerX:0},compId:19,child:[{type:"Image",props:{y:-1,width:617,skin:"activity/common_bg2.png",sizeGrid:"19,16,18,21",name:"img_bg",height:116,centerX:0},compId:20,child:[{type:"Label",props:{y:38,x:3,width:75,valign:"middle",text:"999",scaleY:1,scaleX:1,name:"lbl_index",height:39,fontSize:36,color:"#ffffff",align:"center"},compId:25},{type:"Image",props:{x:84,width:68,skin:"activity/icon4.png",sizeGrid:"7,7,8,5",name:"img_head",height:68,centerY:0},compId:21},{type:"Label",props:{y:36,x:166,width:275,visible:!1,valign:"middle",text:"XXX",scaleY:1,scaleX:1,overflow:"hidden",name:"lbl_name",height:40,fontSize:36,color:"#ffffff",align:"left"},compId:26},{type:"Label",props:{y:41,x:163,width:209,visible:!1,var:"lbl_info",valign:"middle",text:"邀请+200",scaleY:1,scaleX:1,name:"lbl_info",height:39,fontSize:36,font:"黑体",color:"#ffffff",align:"left"},compId:30,child:[{type:"Image",props:{y:-6,x:163,skin:"activity/icon_diamond.png",scaleY:.5,scaleX:.5},compId:31}]}]},{type:"Image",props:{y:23,x:449,width:244,skin:"activity/common_btn1.png",sizeGrid:"50,50,48,50",scaleY:.6,scaleX:.6,name:"btn_get",height:113},compId:22,child:[{type:"Image",props:{y:16,x:159,width:102,skin:"activity/icon_diamond.png",scaleY:.7,scaleX:.7,height:102},compId:23},{type:"Label",props:{y:35,x:45,width:95,text:"领取",strokeColor:"#af6018",stroke:4,height:44,fontSize:36,font:"黑体",color:"#ffffff",align:"center"},compId:24}]},{type:"Image",props:{y:22,x:449,width:244,visible:!1,skin:"activity/common_btn1.png",scaleY:.6,scaleX:.6,name:"btn_not",height:113,gray:!0},compId:28,child:[{type:"Label",props:{y:32.5,x:52,width:140,text:"未邀请",height:40,fontSize:36,font:"黑体",color:"#ffffff",align:"center"},compId:29}]},{type:"Label",props:{x:472,width:75,visible:!1,valign:"middle",text:"已领取",scaleY:1,scaleX:1,name:"lbl_has",height:25,fontSize:36,color:"#024181",centerY:2,align:"center"},compId:27}]}]}]}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/nn5.png","activity/btn_close.png","activity/common_btn1.png","activity/icon_diamond.png","activity/common_bg2.png","activity/icon4.png"],loadList3D:[]},e.MoonInviteUI=c,v("ui.view.MoonInviteUI",c);class p extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(p.uiView)}}p.uiView={type:"View",props:{width:750,height:1334},compId:1,child:[{type:"Box",props:{y:0,x:383,width:523,var:"levelbox",scaleY:.7,scaleX:.7,pivotX:262,height:284},compId:44,child:[{type:"Image",props:{y:172,x:259.4,width:185,visible:!0,skin:"activity/z3.png",scaleY:1,scaleX:1,pivotY:84,pivotX:92,height:185,alpha:1},compId:4},{type:"Image",props:{y:171,x:459.4,visible:!0,skin:"activity/z3.png",scaleY:.6,scaleX:.6,pivotY:84,pivotX:92,alpha:0},compId:16},{type:"Image",props:{y:174,x:259.4,scaleY:1,scaleX:1,pivotY:91,pivotX:99},compId:3,child:[{type:"Image",props:{y:98,x:98,var:"romateImg1",skin:"activity/z2.png",rotation:0,pivotY:97,pivotX:98.5},compId:37},{type:"Image",props:{y:99,x:98,width:163,var:"romateImg2",skin:"activity/z6.png",rotation:0,pivotY:82,pivotX:82,height:163},compId:33},{type:"Image",props:{y:-83,x:60,var:"b1",skin:"activity/boss.png"},compId:5},{type:"Label",props:{y:99,x:99,width:167,var:"it1",valign:"middle",text:"100",pivotY:60,pivotX:86,height:111,fontSize:80,color:"#93ffff",bold:!0,align:"center"},compId:38}]},{type:"Image",props:{y:157,x:343.4,visible:!0,skin:"activity/z5.png",scaleY:.8,scaleX:.8,pivotY:27,pivotX:15},compId:7},{type:"Image",props:{y:172,x:459.4,skin:"activity/z2.png",scaleY:.6,scaleX:.6,pivotY:91,pivotX:99},compId:9,child:[{type:"Image",props:{y:-83,x:60,var:"b2",skin:"activity/boss.png"},compId:8},{type:"Image",props:{y:16,x:17,skin:"activity/z6.png"},compId:36},{type:"Label",props:{y:104,x:100,width:190,var:"it2",valign:"middle",text:"100",pivotY:79,pivotX:97,height:137,fontSize:80,color:"#93ffff",bold:!0,align:"center"},compId:40}]},{type:"Image",props:{y:172,x:59.39999999999998,visible:!0,var:"l",skin:"activity/z2.png",scaleY:.6,scaleX:.6,pivotY:91,pivotX:99,alpha:1},compId:10,child:[{type:"Image",props:{y:-83,x:60,var:"b0",skin:"activity/boss.png"},compId:12},{type:"Image",props:{y:15,x:17,skin:"activity/z6.png"},compId:34},{type:"Label",props:{y:87,x:99,width:182,var:"it0",valign:"middle",text:"100",pivotY:61,pivotX:93,height:135,fontSize:80,color:"#93ffff",bold:!0,align:"center"},compId:39}]},{type:"Image",props:{y:152,x:512.4,skin:"activity/z2.png",scaleY:.4,scaleX:.4,pivotY:91,pivotX:99,alpha:0},compId:13,child:[{type:"Sprite",props:{y:91,x:99,var:"it3"},compId:17},{type:"Image",props:{y:-83,x:60,var:"b3",skin:"activity/boss.png"},compId:14},{type:"Text",props:{y:73,x:66,width:69,text:"text",height:42,fontSize:40,runtime:"laya.display.Text"},compId:41}]},{type:"Image",props:{y:172,x:419.4,visible:!0,skin:"activity/z5.png",scaleY:0,scaleX:0,pivotY:27,pivotX:15},compId:15},{type:"Box",props:{y:75,x:155.39999999999998,width:210,var:"area",mouseEnabled:!0,height:196},compId:20},{type:"Image",props:{y:157,x:105.39999999999998,visible:!0,var:"dotInLeft",skin:"activity/z4.png",scaleY:.8,scaleX:.8,pivotY:22,pivotX:12},compId:42}]}],animations:[{nodes:[{target:9,keyframes:{y:[{value:0,tweenMethod:"linearNone",tween:!0,target:9,key:"y",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:9,key:"y",index:30}],x:[{value:200,tweenMethod:"linearNone",tween:!0,target:9,key:"x",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:9,key:"x",index:30}],scaleY:[{value:.6,tweenMethod:"linearNone",tween:!0,target:9,key:"scaleY",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:9,key:"scaleY",index:30}],scaleX:[{value:.6,tweenMethod:"linearNone",tween:!0,target:9,key:"scaleX",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:9,key:"scaleX",index:30}]}},{target:3,keyframes:{y:[{value:0,tweenMethod:"linearNone",tween:!0,target:3,key:"y",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:3,key:"y",index:30}],x:[{value:0,tweenMethod:"linearNone",tween:!0,target:3,key:"x",index:0},{value:-200,tweenMethod:"linearNone",tween:!0,target:3,key:"x",index:30}],scaleY:[{value:1,tweenMethod:"linearNone",tween:!0,target:3,key:"scaleY",index:0},{value:.6,tweenMethod:"linearNone",tween:!0,target:3,key:"scaleY",index:30}],scaleX:[{value:1,tweenMethod:"linearNone",tween:!0,target:3,key:"scaleX",index:0},{value:.6,tweenMethod:"linearNone",tween:!0,target:3,key:"scaleX",index:30}]}},{target:10,keyframes:{y:[{value:0,tweenMethod:"linearNone",tween:!0,target:10,key:"y",index:0},{value:-20,tweenMethod:"linearNone",tween:!0,target:10,key:"y",index:30}],x:[{value:-200,tweenMethod:"linearNone",tween:!0,target:10,key:"x",index:0},{value:-253,tweenMethod:"linearNone",tween:!0,target:10,key:"x",index:30}],visible:[{value:!0,tweenMethod:"linearNone",tween:!1,target:10,key:"visible",index:0},{value:!1,tweenMethod:"linearNone",tween:!1,target:10,key:"visible",index:30}],scaleY:[{value:.6,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleY",index:0},{value:.4,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleY",index:30}],scaleX:[{value:.6,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleX",index:0},{value:.4,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleX",index:30}],alpha:[{value:1,tweenMethod:"linearNone",tween:!0,target:10,key:"alpha",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:10,key:"alpha",index:30}]}},{target:15,keyframes:{x:[{value:160,tweenMethod:"linearNone",tween:!0,target:15,key:"x",index:0},{value:160,tweenMethod:"linearNone",tween:!0,target:15,key:"x",index:20},{value:120,tweenMethod:"linearNone",tween:!0,target:15,key:"x",index:30}],visible:[{value:!0,tweenMethod:"linearNone",tween:!1,target:15,key:"visible",index:0},{value:!1,tweenMethod:"linearNone",tween:!1,target:15,key:"visible",index:30}],scaleY:[{value:0,tweenMethod:"linearNone",tween:!1,target:15,key:"scaleY",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:15,key:"scaleY",index:20},{value:1,tweenMethod:"linearNone",tween:!0,target:15,key:"scaleY",index:30}],scaleX:[{value:0,tweenMethod:"linearNone",tween:!1,target:15,key:"scaleX",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:15,key:"scaleX",index:20},{value:1,tweenMethod:"linearNone",tween:!0,target:15,key:"scaleX",index:30}]}},{target:4,keyframes:{x:[{value:0,tweenMethod:"linearNone",tween:!0,target:4,key:"x",index:0},{value:-200,tweenMethod:"linearNone",tween:!0,target:4,key:"x",index:30}],visible:[{value:!0,tweenMethod:"linearNone",tween:!1,target:4,key:"visible",index:0},{value:!1,tweenMethod:"linearNone",tween:!1,target:4,key:"visible",index:30}],scaleY:[{value:1,tweenMethod:"linearNone",tween:!0,target:4,key:"scaleY",index:0},{value:.6,tweenMethod:"linearNone",tween:!0,target:4,key:"scaleY",index:30}],scaleX:[{value:1,tweenMethod:"linearNone",tween:!0,target:4,key:"scaleX",index:0},{value:.6,tweenMethod:"linearNone",tween:!0,target:4,key:"scaleX",index:30}],alpha:[{value:1,tweenMethod:"linearNone",tween:!0,target:4,key:"alpha",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:4,key:"alpha",index:30}]}},{target:16,keyframes:{y:[{value:5,tweenMethod:"linearNone",tween:!0,target:16,key:"y",index:0}],x:[{value:138,tweenMethod:"linearNone",tween:!0,target:16,key:"x",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:16,key:"x",index:30}],visible:[{value:!0,tweenMethod:"linearNone",tween:!1,target:16,key:"visible",index:0}],scaleY:[{value:.6,tweenMethod:"linearNone",tween:!0,target:16,key:"scaleY",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:16,key:"scaleY",index:30}],scaleX:[{value:.6,tweenMethod:"linearNone",tween:!0,target:16,key:"scaleX",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:16,key:"scaleX",index:30}],alpha:[{value:0,tweenMethod:"linearNone",tween:!0,target:16,key:"alpha",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:16,key:"alpha",index:30}]}},{target:17,keyframes:{var:[{value:"t3",tweenMethod:"linearNone",tween:!1,target:17,key:"var",index:0},{value:"it3",tweenMethod:"linearNone",tween:!1,target:17,key:"var",index:30}]}},{target:7,keyframes:{y:[{value:-11,tweenMethod:"linearNone",tween:!0,target:7,key:"y",index:0},{value:-10,tweenMethod:"linearNone",tween:!0,target:7,key:"y",index:30}],x:[{value:82.5,tweenMethod:"linearNone",tween:!0,target:7,key:"x",index:0},{value:123.5,tweenMethod:"linearNone",tween:!0,target:7,key:"x",index:30}],visible:[{value:!0,tweenMethod:"linearNone",tween:!1,target:7,key:"visible",index:0},{value:!1,tweenMethod:"linearNone",tween:!1,target:7,key:"visible",index:1},{value:!0,tweenMethod:"linearNone",tween:!1,target:7,key:"visible",index:30}]}},{target:42,keyframes:{y:[{value:-21,tweenMethod:"linearNone",tween:!0,target:42,key:"y",index:0}],x:[{value:-160,tweenMethod:"linearNone",tween:!0,target:42,key:"x",index:0},{value:120,tweenMethod:"linearNone",tween:!0,target:42,key:"x",index:1},{value:-160,tweenMethod:"linearNone",tween:!0,target:42,key:"x",index:30}],visible:[{value:!0,tweenMethod:"linearNone",tween:!1,target:42,key:"visible",index:0},{value:!0,tweenMethod:"linearNone",tween:!1,target:42,key:"visible",index:30}]}}],name:"animLevel",id:1,frameRate:60,action:0},{nodes:[{target:10,keyframes:{scaleY:[{value:0,tweenMethod:"backOut",tween:!0,target:10,key:"scaleY",index:0},{value:.6,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleY",index:20}],scaleX:[{value:0,tweenMethod:"backOut",tween:!0,target:10,key:"scaleX",index:0},{value:.6,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleX",index:20}]}},{target:3,keyframes:{scaleY:[{value:0,tweenMethod:"linearNone",tween:!1,target:3,key:"scaleY",index:0},{value:0,tweenMethod:"backOut",tween:!0,target:3,key:"scaleY",index:10},{value:1,tweenMethod:"linearNone",tween:!0,target:3,key:"scaleY",index:30}],scaleX:[{value:0,tweenMethod:"linearNone",tween:!1,target:3,key:"scaleX",index:0},{value:0,tweenMethod:"backOut",tween:!0,target:3,key:"scaleX",index:10},{value:1,tweenMethod:"linearNone",tween:!0,target:3,key:"scaleX",index:30}]}},{target:9,keyframes:{scaleY:[{value:0,tweenMethod:"linearNone",tween:!1,target:9,key:"scaleY",index:0},{value:0,tweenMethod:"backOut",tween:!0,target:9,key:"scaleY",index:20},{value:.6,tweenMethod:"linearNone",tween:!0,target:9,key:"scaleY",index:40}],scaleX:[{value:0,tweenMethod:"linearNone",tween:!1,target:9,key:"scaleX",index:0},{value:0,tweenMethod:"backOut",tween:!0,target:9,key:"scaleX",index:20},{value:.6,tweenMethod:"linearNone",tween:!0,target:9,key:"scaleX",index:40}]}},{target:4,keyframes:{alpha:[{value:0,tweenMethod:"linearNone",tween:!0,target:4,key:"alpha",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:4,key:"alpha",index:10},{value:1,tweenMethod:"linearNone",tween:!0,target:4,key:"alpha",index:30}]}},{target:42,keyframes:{x:[{value:-160,tweenMethod:"linearNone",tween:!0,target:42,key:"x",index:0}]}}],name:"animLevelShow",id:2,frameRate:60,action:0},{nodes:[{target:10,keyframes:{scaleY:[{value:.6,tweenMethod:"backIn",tween:!0,target:10,key:"scaleY",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleY",index:15}],scaleX:[{value:.6,tweenMethod:"backIn",tween:!0,target:10,key:"scaleX",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:10,key:"scaleX",index:15}]}},{target:9,keyframes:{scaleY:[{value:.6,tweenMethod:"backIn",tween:!0,target:9,key:"scaleY",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:9,key:"scaleY",index:15}],scaleX:[{value:.6,tweenMethod:"backIn",tween:!0,target:9,key:"scaleX",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:9,key:"scaleX",index:15}]}},{target:3,keyframes:{scaleY:[{value:1,tweenMethod:"linearNone",tween:!1,target:3,key:"scaleY",index:0},{value:1,tweenMethod:"backIn",tween:!0,target:3,key:"scaleY",index:15},{value:0,tweenMethod:"linearNone",tween:!0,target:3,key:"scaleY",index:35}],scaleX:[{value:1,tweenMethod:"linearNone",tween:!1,target:3,key:"scaleX",index:0},{value:1,tweenMethod:"backIn",tween:!0,target:3,key:"scaleX",index:15},{value:0,tweenMethod:"linearNone",tween:!0,target:3,key:"scaleX",index:35}]}},{target:4,keyframes:{scaleY:[{value:1,tweenMethod:"linearNone",tween:!1,target:4,key:"scaleY",index:0},{value:1,tweenMethod:"backIn",tween:!0,target:4,key:"scaleY",index:15},{value:0,tweenMethod:"linearNone",tween:!0,target:4,key:"scaleY",index:35}],scaleX:[{value:1,tweenMethod:"linearNone",tween:!1,target:4,key:"scaleX",index:0},{value:1,tweenMethod:"backIn",tween:!0,target:4,key:"scaleX",index:15},{value:0,tweenMethod:"linearNone",tween:!0,target:4,key:"scaleX",index:35}]}},{target:42,keyframes:{x:[{value:-160,tweenMethod:"linearNone",tween:!0,target:42,key:"x",index:0}],scaleY:[{value:.6,tweenMethod:"linearNone",tween:!0,target:42,key:"scaleY",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:42,key:"scaleY",index:5},{value:.9,tweenMethod:"linearNone",tween:!0,target:42,key:"scaleY",index:15},{value:0,tweenMethod:"linearNone",tween:!0,target:42,key:"scaleY",index:35}],scaleX:[{value:.6,tweenMethod:"linearNone",tween:!0,target:42,key:"scaleX",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:42,key:"scaleX",index:5},{value:.9,tweenMethod:"linearNone",tween:!0,target:42,key:"scaleX",index:15},{value:0,tweenMethod:"linearNone",tween:!0,target:42,key:"scaleX",index:35}]}},{target:7,keyframes:{x:[{value:120,tweenMethod:"linearNone",tween:!0,target:7,key:"x",index:0},{value:120,tweenMethod:"linearNone",tween:!0,target:7,key:"x",index:5}],scaleY:[{value:.6,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:5},{value:.9,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:15},{value:0,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:35}],scaleX:[{value:.6,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:5},{value:.9,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:15},{value:0,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:35}]}}],name:"animLevelHide",id:3,frameRate:60,action:0}],loadList:["activity/z3.png","activity/z2.png","activity/z6.png","activity/boss.png","activity/z5.png","activity/z4.png"],loadList3D:[]},e.MoonLevelUI=p,v("ui.view.MoonLevelUI",p);class g extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(g.uiView)}}g.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",right:0,left:0,bottom:0},compId:10},{type:"Image",props:{top:0,skin:"wxlocal/bg0.png",right:0,left:0,bottom:0},compId:11},{type:"List",props:{width:715,var:"listguan",top:230,spaceY:30,spaceX:30,right:16,repeatY:15,repeatX:3,name:"render",left:19,height:1104,bottom:0},compId:13,child:[{type:"Box",props:{y:0,x:0,renderType:"render"},compId:14,child:[{type:"Sprite",props:{y:0,x:0,texture:"gui/bg_002.png"},compId:21},{type:"Label",props:{y:11,x:10,width:197,valign:"middle",text:"99",name:"lab",height:194,fontSize:100,color:"#ffffff",bold:!0,align:"center"},compId:17}]}]},{type:"Sprite",props:{y:184,x:0,width:750,texture:"activity/bg_006.png",height:30},compId:18},{type:"Button",props:{y:59,x:28,stateNum:1,skin:"activity/btn_close.png"},compId:20},{type:"Sprite",props:{y:45,x:600,var:"btn_status",texture:"activity/vibrate_on.png"},compId:22},{type:"Button",props:{y:52,x:207,width:130,var:"btn_cn",stateNum:1,skin:"gui/btn_002.png",height:80},compId:23,child:[{type:"Label",props:{y:19,x:17.5,width:95,valign:"middle",text:"中文",height:42,fontSize:35,color:"#ffffff",align:"center"},compId:24}]},{type:"Button",props:{y:52,x:399,width:130,var:"btn_en",stateNum:1,skin:"gui/btn_003.png",height:80},compId:25,child:[{type:"Label",props:{y:19,x:17.5,width:95,valign:"middle",text:"英文",height:42,fontSize:35,color:"#ffffff",align:"center"},compId:26}]}],loadList:["activity/common_bg5.png","wxlocal/bg0.png","gui/bg_002.png","activity/bg_006.png","activity/btn_close.png","activity/vibrate_on.png","gui/btn_002.png","gui/btn_003.png"],loadList3D:[]},e.MoonLevelShowUI=g,v("ui.view.MoonLevelShowUI",g);class m extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(m.uiView)}}m.uiView={type:"View",props:{width:750,height:1334},compId:1,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:4},{type:"Image",props:{width:666,var:"bg",skin:"activity/nn1.png",sizeGrid:"58,58,58,58",height:777,centerY:37,centerX:0},compId:5,child:[{type:"Image",props:{y:13,x:10,width:646,skin:"activity/bg_nn2.png",height:749},compId:127},{type:"Label",props:{y:38,x:34,width:583,var:"txt_title",text:"免费宝石",height:42,fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:52},{type:"Sprite",props:{y:-24,x:83.5,texture:"activity/nn5.png"},compId:128},{type:"Sprite",props:{y:26,x:572,var:"btn_close",texture:"activity/btn_close.png"},compId:129},{type:"Sprite",props:{y:-24,x:507,texture:"activity/nn5.png"},compId:130},{type:"Image",props:{y:139,x:43,var:"img0",skin:"activity/01.png"},compId:6,child:[{type:"Image",props:{y:0,x:0,visible:!1,var:"choosebg1",skin:"activity/05.png"},compId:56},{type:"Image",props:{y:69,x:88.5,var:"pz1",skin:"activity/icon_diamond.png",pivotY:59,pivotX:59},compId:29},{type:"Label",props:{y:142,x:88.5,width:158,var:"dt1",valign:"middle",text:"99",pivotY:20,pivotX:79,name:"dt1",height:40,fontSize:40,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:131}]},{type:"Image",props:{y:139,x:247,var:"img1",skin:"activity/01.png"},compId:7,child:[{type:"Image",props:{y:0,x:0,visible:!1,var:"choosebg2",skin:"activity/05.png"},compId:57},{type:"Image",props:{y:68,x:88.5,var:"pz2",skin:"activity/icon_diamond.png",pivotY:59,pivotX:59},compId:32},{type:"Label",props:{y:142,x:90,width:157,var:"dt2",valign:"middle",text:"99",pivotY:20,pivotX:79,name:"dt2",height:40,fontSize:40,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:19}]},{type:"Image",props:{y:139,x:450,skin:"activity/01.png"},compId:8,child:[{type:"Image",props:{y:0,x:0,visible:!1,var:"choosebg3",skin:"activity/05.png"},compId:58},{type:"Image",props:{y:68,x:88.5,var:"pz3",skin:"activity/shop2.png",pivotY:59,pivotX:59},compId:35},{type:"Label",props:{y:141,x:89,width:158,var:"dt3",valign:"middle",text:"99",pivotY:20,pivotX:79,name:"dt3",height:40,fontSize:40,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:20}]},{type:"Image",props:{y:344,x:450,skin:"activity/01.png"},compId:9,child:[{type:"Image",props:{y:0,x:0,visible:!1,var:"choosebg4",skin:"activity/05.png"},compId:59},{type:"Image",props:{y:69,x:88.5,var:"pz4",skin:"activity/shop2.png",pivotY:59,pivotX:59},compId:38},{type:"Label",props:{y:141,x:89,width:157,var:"dt4",valign:"middle",text:"99",pivotY:20,pivotX:79,name:"dt4",height:40,fontSize:40,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:21}]},{type:"Image",props:{y:551,x:450,skin:"activity/01.png"},compId:10,child:[{type:"Image",props:{y:0,x:0,visible:!1,var:"choosebg5",skin:"activity/05.png"},compId:60},{type:"Image",props:{y:68,x:88.5,var:"pz5",skin:"activity/icon_diamond.png",pivotY:59,pivotX:59},compId:41},{type:"Label",props:{y:142,x:90,width:157,var:"dt5",valign:"middle",text:"99",pivotY:20,pivotX:79,name:"dt5",height:40,fontSize:40,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:22}]},{type:"Image",props:{y:551,x:247,skin:"activity/01.png"},compId:11,child:[{type:"Image",props:{y:0,x:0,visible:!1,var:"choosebg6",skin:"activity/05.png"},compId:61},{type:"Image",props:{y:69,x:88.5,var:"pz6",skin:"activity/icon_diamond.png",pivotY:59,pivotX:59},compId:44},{type:"Label",props:{y:142,x:88,width:157,var:"dt6",valign:"middle",text:"99",pivotY:20,pivotX:79,name:"dt6",height:40,fontSize:40,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:23}]},{type:"Image",props:{y:551,x:43,skin:"activity/01.png"},compId:12,child:[{type:"Image",props:{y:0,x:0,visible:!1,var:"choosebg7",skin:"activity/05.png"},compId:62},{type:"Image",props:{y:68.5,x:88.5,var:"pz7",skin:"activity/shop2.png",pivotY:59,pivotX:59},compId:47},{type:"Label",props:{y:141,x:88,width:158,var:"dt7",valign:"middle",text:"99",pivotY:20,pivotX:79,name:"dt7",height:40,fontSize:40,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:24}]},{type:"Image",props:{y:343,x:43,skin:"activity/01.png"},compId:13,child:[{type:"Image",props:{y:0,x:0,visible:!1,var:"choosebg8",skin:"activity/05.png"},compId:63},{type:"Image",props:{y:69,x:88.5,var:"pz8",skin:"activity/shop4.png",pivotY:59,pivotX:59},compId:50},{type:"Label",props:{y:142,x:88,width:158,var:"dt8",valign:"middle",text:"99",pivotY:20,pivotX:79,name:"dt8",height:40,fontSize:40,font:"SimHei",color:"#ffffff",bold:!0,align:"center"},compId:25}]},{type:"Image",props:{y:434.5,x:336.5,width:203,var:"huxi",skin:"activity/bth_011.png",pivotY:102,pivotX:102,height:203,alpha:.6},compId:53},{type:"Image",props:{y:435.5,x:337.5,width:165,var:"startBtn",skin:"activity/bth_022.png",scaleY:1,scaleX:1,pivotY:84,pivotX:83,height:167},compId:14},{type:"Image",props:{y:131,x:37,width:191,var:"highLight",skin:"activity/04.png",height:191},compId:16},{type:"Label",props:{y:768,x:3,width:665,visible:!1,var:"chance",valign:"middle",text:"可用次数:4",strokeColor:"#ffffff",stroke:0,height:42,fontSize:32,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:17},{type:"Label",props:{y:837,x:336.5,width:555,visible:!1,var:"tip",valign:"middle",pivotY:21,pivotX:278,height:42,fontSize:32,color:"#dac8ff",align:"center"},compId:51}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/nn5.png","activity/btn_close.png","activity/01.png","activity/05.png","activity/icon_diamond.png","activity/shop2.png","activity/shop4.png","activity/bth_011.png","activity/bth_022.png","activity/04.png"],loadList3D:[]},e.MoonLuckyDrawUI=m,v("ui.view.MoonLuckyDrawUI",m);class u extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(u.uiView)}}u.uiView={type:"View",props:{width:640,mouseThrough:!0,height:1136},compId:2,child:[{type:"Panel",props:{var:"bg",top:0,right:0,left:0,bottom:0},compId:16},{type:"List",props:{width:136,var:"List_Game1",top:220,spaceY:10,runtime:"moon/core/ui/extension/ListEx.ts",repeatX:1,left:18,height:390},compId:3,child:[{type:"Box",props:{y:0,width:120,name:"render",height:120,centerX:0},compId:5,child:[{type:"Image",props:{width:120,skin:"moon/ad/icon/bg_bubble.png",height:120,centerY:0,centerX:0},compId:10},{type:"Image",props:{width:100,skin:"moon/1.png",name:"Img_Game",height:100,centerY:0,centerX:0},compId:6,child:[{type:"Image",props:{top:-3,skin:"moon/ad/icon/bg_bubble_up.png",right:-3},compId:11},{type:"Image",props:{skin:"moon/ad/icon/bg_bubble_down.png",left:-3,bottom:-3},compId:12}]}]}]},{type:"List",props:{width:136,var:"List_Game2",top:220,spaceY:10,runtime:"moon/core/ui/extension/ListEx.ts",right:18,repeatX:1,height:390},compId:4,child:[{type:"Box",props:{y:0,width:120,name:"render",height:120,centerX:0},compId:7,child:[{type:"Image",props:{width:120,skin:"moon/ad/icon/bg_bubble.png",height:120,centerY:0,centerX:0},compId:13},{type:"Image",props:{width:100,skin:"moon/1.png",name:"Img_Game",height:100,centerY:0,centerX:0},compId:8,child:[{type:"Image",props:{top:-3,skin:"moon/ad/icon/bg_bubble_up.png",right:-3},compId:14},{type:"Image",props:{skin:"moon/ad/icon/bg_bubble_down.png",left:-3,bottom:-3},compId:15}]}]}]}],loadList:["moon/ad/icon/bg_bubble.png","moon/1.png","moon/ad/icon/bg_bubble_up.png","moon/ad/icon/bg_bubble_down.png"],loadList3D:[]},e.MoonMainAdUI=u,v("ui.view.MoonMainAdUI",u);class y extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(y.uiView)}}y.uiView={type:"View",props:{width:1920,mouseThrough:!0,height:1080},compId:2,child:[{type:"Panel",props:{width:1920,var:"bg",top:0,left:-11,height:1080},compId:16},{type:"List",props:{y:180,width:136,var:"List_Game1",top:180,spaceY:10,runtime:"moon/core/ui/extension/ListEx.ts",repeatX:1,left:60,height:565},compId:17,child:[{type:"Box",props:{y:0,width:132,name:"render",height:132,centerX:0},compId:20,child:[{type:"Image",props:{width:132,skin:"moon/ad/icon/bg_bubble.png",height:132,centerY:0,centerX:0},compId:21},{type:"Image",props:{width:112,name:"Img_Game",height:112,centerY:0,centerX:0},compId:22,child:[{type:"Image",props:{top:-3,skin:"moon/ad/icon/bg_bubble_up.png",right:-3},compId:23},{type:"Image",props:{skin:"moon/ad/icon/bg_bubble_down.png",left:-3,bottom:-3},compId:24}]}]}]},{type:"List",props:{y:180,x:1748,width:132,var:"List_Game2",top:180,spaceY:10,runtime:"moon/core/ui/extension/ListEx.ts",right:40,repeatX:1,height:566},compId:18,child:[{type:"Box",props:{y:0,width:132,name:"render",height:132,centerX:0},compId:25,child:[{type:"Image",props:{width:132,skin:"moon/ad/icon/bg_bubble.png",height:132,centerY:0,centerX:0},compId:26},{type:"Image",props:{width:112,name:"Img_Game",height:112,centerY:0,centerX:0},compId:27,child:[{type:"Image",props:{top:-3,skin:"moon/ad/icon/bg_bubble_up.png",right:-3},compId:28},{type:"Image",props:{skin:"moon/ad/icon/bg_bubble_down.png",left:-3,bottom:-3},compId:29}]}]}]},{type:"List",props:{y:0,x:0,width:762,var:"List_Game3",top:37,spaceX:10,runtime:"moon/core/ui/extension/ListEx.ts",right:250,repeatY:1,height:136},compId:19,child:[{type:"Box",props:{y:0,x:10,width:132,name:"render",height:132},compId:30,child:[{type:"Image",props:{width:132,skin:"moon/ad/icon/bg_bubble.png",height:132,centerY:0,centerX:0},compId:31},{type:"Image",props:{width:112,name:"Img_Game",height:112,centerY:0,centerX:0},compId:32,child:[{type:"Image",props:{top:-3,skin:"moon/ad/icon/bg_bubble_up.png",right:-3},compId:33},{type:"Image",props:{skin:"moon/ad/icon/bg_bubble_down.png",left:-3,bottom:-3},compId:34}]}]}]},{type:"Box",props:{width:176,var:"ov_native2",top:218,left:132,height:172},compId:35,child:[{type:"Image",props:{top:0,right:0,name:"icon",left:0,bottom:0,alpha:.8},compId:37},{type:"Box",props:{width:87,var:"ov_native_close",top:-30,right:88,height:30},compId:38,child:[{type:"Box",props:{top:0,right:0,left:-3,bottom:0,bgColor:"#1b1b1b",alpha:.7},compId:39},{type:"Label",props:{text:"广告 X",fontSize:30,color:"#ffffff",centerY:0,centerX:0,bold:!0,alpha:.8},compId:40}]}]},{type:"Box",props:{width:800,var:"ov_native",top:16,height:178,centerX:310},compId:36,child:[{type:"Image",props:{width:684,top:0,right:0,name:"icon",left:0,height:178,bottom:0,alpha:.8},compId:41},{type:"Image",props:{y:0,x:0,var:"btn_close",skin:"moon/ad/results2/btn_close.png",name:"btn_close"},compId:42},{type:"Box",props:{y:118,x:585,width:99,right:0,height:60,bottom:0},compId:43,child:[{type:"Box",props:{top:0,right:0,left:0,bottom:0,bgColor:"#1b1b1b",alpha:.7},compId:44},{type:"Label",props:{text:"广告",fontSize:40,color:"#ffffff",centerY:0,centerX:0,bold:!0,alpha:.8},compId:45}]}]}],loadList:["moon/ad/icon/bg_bubble.png","moon/ad/icon/bg_bubble_up.png","moon/ad/icon/bg_bubble_down.png","moon/ad/results2/btn_close.png"],loadList3D:[]},e.MoonMainAd2UI=y,v("ui.view.MoonMainAd2UI",y);class w extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(w.uiView)}}w.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{y:0,x:0,var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:3},{type:"Image",props:{x:55,width:667,var:"bg",skin:"activity/nn1.png",height:544,centerY:0},compId:4,child:[{type:"Image",props:{y:12,x:11,width:646,skin:"activity/bg_nn2.png",height:386},compId:5,child:[{type:"Label",props:{y:12,x:86.5,width:473,var:"txt_title",valign:"middle",text:"离线收益",height:64,fontSize:42,font:"黑体",color:"#ffffff",align:"center"},compId:6}]},{type:"Button",props:{y:408,x:79,width:509,var:"btn_double",stateNum:1,skin:"activity/common_btn1.png",height:117},compId:33,child:[{type:"Label",props:{y:37,x:201,var:"lbl_double",text:"双倍领取",strokeColor:"#a86013",stroke:3,fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:34},{type:"Sprite",props:{y:22,x:75,texture:"activity/icvideo2.png",scaleY:1.3,scaleX:1.3},compId:35}]},{type:"Sprite",props:{y:24,x:574,var:"btn_close",texture:"activity/btn_close.png"},compId:14},{type:"Image",props:{width:613,skin:"activity/common_bg2.png",sizeGrid:"19,16,18,21",height:172,centerY:1,centerX:1},compId:22,child:[{type:"Sprite",props:{y:27,x:461,texture:"activity/icon_gold.png"},compId:30}]},{type:"Label",props:{y:132,x:85,width:486,var:"txt_title2",valign:"middle",text:"离线期间的收益",strokeColor:"#a86013",height:48,fontSize:36,font:"黑体",color:"#8271b7",bold:!0,align:"center"},compId:28},{type:"Label",props:{y:212,x:154,width:357,var:"coin",valign:"middle",text:"123",strokeColor:"#a86013",height:117,fontSize:55,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:29},{type:"Label",props:{y:576,x:254.5,var:"get_reward",valign:"middle",text:"普通领取",name:"get_reward",fontSize:40,font:"黑体",color:"#fbf8f8",bold:!0,align:"center"},compId:32}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/common_btn1.png","activity/icvideo2.png","activity/btn_close.png","activity/common_bg2.png","activity/icon_gold.png"],loadList3D:[]},e.MoonOffLineUI=w,v("ui.view.MoonOffLineUI",w);class f extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(f.uiView)}}f.uiView={type:"View",props:{width:750,height:1334,centerY:0,centerX:0},compId:2,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:50},{type:"Box",props:{width:717,height:860,centerY:0,centerX:0},compId:5,child:[{type:"Image",props:{y:24,x:26,width:666,skin:"activity/nn1.png",height:831},compId:6,child:[{type:"Image",props:{y:8,x:10,width:646,skin:"localext/bg_nn2.png",height:707},compId:9},{type:"WXOpenDataViewer",props:{y:122,x:43,width:582,var:"img_rank",iconSign:"wx",height:563,runtime:"laya.ui.WXOpenDataViewer"},compId:51}]},{type:"Label",props:{y:51,x:155,width:393,var:"txt_title",valign:"middle",text:"天梯好友排行",height:53,fontSize:40,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:10},{type:"Button",props:{y:749,x:116.5,width:485,var:"btn_share",stateNum:1,skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",height:95},compId:11,child:[{type:"Image",props:{y:16,x:114,width:55,skin:"activity/icshare.png",height:55},compId:12},{type:"Label",props:{y:47.5,x:200,width:207,var:"txt_share",valign:"middle",text:"邀请好友",strokeColor:"#c06c1e",stroke:3,pivotY:26,height:51,fontSize:38,font:"黑体",color:"#ffffff",bold:!0,align:"left"},compId:14}]},{type:"Label",props:{y:879,x:359,width:556,var:"txt_info",valign:"middle",text:"邀请好友得钻石",pivotY:22,pivotX:278,height:44,fontSize:32,font:"黑体",color:"#5af1ff",align:"center"},compId:15},{type:"Sprite",props:{y:-7.5,x:108,texture:"activity/nn5.png"},compId:47},{type:"Sprite",props:{y:44,x:597,var:"btn_close",texture:"activity/btn_close.png"},compId:48},{type:"Sprite",props:{y:-6,x:532,texture:"activity/nn5.png"},compId:49},{type:"Image",props:{y:157,x:79,width:560,visible:!1,skin:"activity/common_bg2.png",sizeGrid:"25,24,22,27",height:90},compId:18,child:[{type:"Label",props:{y:19,x:10,width:56,valign:"middle",text:"1",height:51,fontSize:36,color:"#f9f4f4",bold:!0,align:"center"},compId:19},{type:"Label",props:{y:45,x:158,width:148,valign:"middle",text:"只是拿来看UI的",pivotY:21,height:42,fontSize:32,font:"黑体",color:"#ffffff",align:"left"},compId:20},{type:"Label",props:{y:45,x:463,width:73,valign:"middle",text:"43关",pivotY:21,height:42,fontSize:32,font:"黑体",color:"#ffffff",align:"right"},compId:23},{type:"Image",props:{y:10,x:74,width:70,height:70},compId:24}]}]}],loadList:["activity/common_bg5.png","activity/nn1.png","localext/bg_nn2.png","activity/common_btn1.png","activity/icshare.png","activity/nn5.png","activity/btn_close.png","activity/common_bg2.png"],loadList3D:[]},e.MoonRankUI=f,v("ui.view.MoonRankUI",f);class I extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(I.uiView)}}I.uiView={type:"View",props:{width:750,height:1334,bottom:50},compId:2,child:[{type:"Image",props:{width:355,visible:!1,var:"btn_reward5",skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",height:136,centerY:-80,centerX:0},compId:7,child:[{type:"Image",props:{x:129,width:83,var:"img",skin:"activity/icon_gold.png",scaleY:.7,scaleX:.7,height:81,centerY:27},compId:8},{type:"Label",props:{y:56,x:194,width:166,var:"itCCoin1",valign:"middle",text:"0",height:80,fontSize:42,color:"#ffffff",bold:!0,align:"left"},compId:9},{type:"Label",props:{y:-10,x:141,width:170,var:"txt_five",valign:"middle",text:"5倍领取",strokeColor:"#c37d14",stroke:4,height:99,fontSize:45,font:"黑体",color:"#ffffff",bold:!1,align:"center"},compId:10},{type:"Image",props:{x:29,var:"img_video",skin:"activity/icvideo2.png",scaleY:1.5,scaleX:1.5,centerY:2},compId:52}]},{type:"Image",props:{width:355,visible:!1,var:"btn_reward1",skin:"activity/common_btn3.png",sizeGrid:"42,42,42,42",height:136,centerY:145,centerX:0},compId:55,child:[{type:"Image",props:{x:136,width:83,skin:"activity/icon_gold.png",scaleY:.7,scaleX:.7,height:81,centerY:-2},compId:56},{type:"Label",props:{y:25,x:202.5,width:112,var:"com",valign:"middle",text:"500",strokeColor:"#479722",stroke:4,height:86,fontSize:50,color:"#ffffff",bold:!0,align:"left"},compId:57},{type:"Label",props:{y:68,x:123.5,width:191,var:"txt_get",valign:"middle",text:"领取",strokeColor:"#479722",stroke:4,pivotY:37,pivotX:151,height:73,fontSize:45,color:"#ffffff",bold:!0,align:"center"},compId:62}]},{type:"Button",props:{width:355,var:"btn_skip",stateNum:1,skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",height:136,centerY:-80,centerX:0},compId:16,child:[{type:"Sprite",props:{y:33,x:30,width:70,texture:"activity/icvideo2.png",height:70},compId:51},{type:"Label",props:{y:19,x:119,width:197,var:"txt_skip",valign:"middle",text:"跳过本关",strokeColor:"#c37d14",stroke:4,height:99,fontSize:50,font:"黑体",color:"#ffffff",bold:!1,align:"center"},compId:63}]},{type:"Button",props:{width:355,var:"btn_back",stateNum:1,skin:"activity/common_btn3.png",sizeGrid:"42,42,42,42",height:136,centerY:145,centerX:0},compId:64,child:[{type:"Label",props:{width:267,var:"txt_back",valign:"middle",text:"返回首页",strokeColor:"#c37d14",stroke:4,height:99,fontSize:50,color:"#ffffff",centerY:0,centerX:0,bold:!1,align:"center"},compId:69}]},{type:"Box",props:{width:485,var:"box_bar",height:82,centerX:0,bottom:40},compId:76,child:[{type:"Sprite",props:{texture:"activity/z15.png"},compId:77},{type:"Sprite",props:{y:7.5,x:8,width:10,var:"bar",texture:"activity/z16.png"},compId:78},{type:"Sprite",props:{y:-28.5,x:454,texture:"activity/z14.png"},compId:79,child:[{type:"Sprite",props:{y:48,x:49,var:"Lucky",texture:"activity/z13.png",scaleY:1,scaleX:1,rotation:0,pivotY:43,pivotX:41},compId:80}]}]}],animations:[{nodes:[{target:80,keyframes:{y:[{value:48,tweenMethod:"linearNone",tween:!0,target:80,key:"y",index:0},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:5},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:10},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:15},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:20},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:25},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:30},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:35},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:40},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:45},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:50},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:55},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:60},{value:48,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"y",index:75}],x:[{value:49,tweenMethod:"linearNone",tween:!0,target:80,key:"x",index:0},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:5},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:10},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:15},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:20},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:25},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:30},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:35},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:40},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:45},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:50},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:55},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:60},{value:49,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"x",index:75}],scaleY:[{value:1,tweenMethod:"linearNone",tween:!0,target:80,key:"scaleY",index:0},{value:1.2,tweenMethod:"linearNone",tween:!0,target:80,key:"scaleY",index:5},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:10},{value:1.2,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:15},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:20},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:25},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:30},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:35},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:40},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:45},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:50},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:55},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:60},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleY",index:75}],scaleX:[{value:1,tweenMethod:"linearNone",tween:!0,target:80,key:"scaleX",index:0},{value:1.2,tweenMethod:"linearNone",tween:!0,target:80,key:"scaleX",index:5},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:10},{value:1.2,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:15},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:20},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:25},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:30},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:35},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:40},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:45},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:50},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:55},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:60},{value:1,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"scaleX",index:75}],rotation:[{value:0,tweenMethod:"linearNone",tween:!0,target:80,key:"rotation",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:80,key:"rotation",index:5},{value:0,tweenMethod:"linearNone",tween:!0,target:80,key:"rotation",index:10},{value:0,tweenMethod:"linearNone",tween:!0,target:80,key:"rotation",index:15},{value:0,tweenMethod:"linearNone",tween:!0,target:80,key:"rotation",index:20},{value:-25,tweenMethod:"linearNone",tween:!0,target:80,key:"rotation",index:25},{value:0,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"rotation",index:30},{value:15,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"rotation",index:35},{value:0,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"rotation",index:40},{value:-15,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"rotation",index:45},{value:0,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"rotation",index:50},{value:15,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"rotation",index:55},{value:0,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"rotation",index:60},{value:0,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"rotation",index:75}],pivotY:[{value:43,tweenMethod:"linearNone",tween:!0,target:80,key:"pivotY",index:0},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:5},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:10},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:15},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:20},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:25},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:30},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:35},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:40},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:45},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:50},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:55},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:60},{value:43,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotY",index:75}],pivotX:[{value:41,tweenMethod:"linearNone",tween:!0,target:80,key:"pivotX",index:0},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:5},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:10},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:15},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:20},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:25},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:30},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:35},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:40},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:45},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:50},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:55},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:60},{value:41,tweenMethod:"linearNone",tween:!0,target:80,label:null,key:"pivotX",index:75}]}}],name:"barShake",id:1,frameRate:24,action:0}],loadList:["activity/common_btn1.png","activity/icon_gold.png","activity/icvideo2.png","activity/common_btn3.png","activity/z15.png","activity/z16.png","activity/z14.png","activity/z13.png"],loadList3D:[]},e.MoonResultPanelUI=I,v("ui.view.MoonResultPanelUI",I);class _ extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(_.uiView)}}_.uiView={type:"View",props:{width:640,height:1136},compId:2,child:[{type:"Panel",props:{top:0,right:0,left:0,bottom:0,bgColor:"#000000",alpha:.6},compId:17},{type:"List",props:{var:"hgamelist",top:205,spaceX:20,runtime:"moon/core/ui/extension/ListEx.ts",right:40,repeatY:1,left:40},compId:4,child:[{type:"Box",props:{y:0,x:0,width:128,name:"render",height:128},compId:7,child:[{type:"Image",props:{width:128,skin:"moon/1.png",name:"Img_Game",height:128},compId:6}]}]},{type:"List",props:{width:564,var:"vgamelist",top:410,spaceY:28,spaceX:16,runtime:"moon/core/ui/extension/ListEx.ts",right:38,repeatX:2,left:38,height:716,bottom:10},compId:5,child:[{type:"Box",props:{y:0,x:0,width:280,name:"render",height:180},compId:9,child:[{type:"Image",props:{width:280,skin:"moon/2.png",name:"Img_Game",height:180,centerY:0,centerX:0},compId:8}]}]},{type:"Button",props:{width:280,var:"goon",stateNum:1,skin:"moon/ad/results/common_btn1.png",sizeGrid:"42,42,42,42",labelStrokeColor:"#c37d14",labelStroke:4,labelSize:50,labelFont:"SimHei",labelColors:"#ffffff",labelAlign:"center",label:"继续游戏",height:120,centerY:200,centerX:0},compId:10},{type:"Image",props:{width:203,top:160,skin:"moon/ad/results/bg_start.png",left:40,height:22},compId:11},{type:"Image",props:{width:227,top:160,skin:"moon/ad/results/bg_start.png",rotation:180,right:38,pivotY:11,pivotX:126,height:22},compId:12},{type:"Image",props:{top:150,skin:"moon/ad/results/img_friend.png",centerX:0},compId:13},{type:"Image",props:{top:350,skin:"moon/ad/results/img_push.png",centerX:0},compId:14},{type:"Image",props:{width:204,top:360,skin:"moon/ad/results/bg_start.png",left:40,height:22},compId:15},{type:"Image",props:{width:225,top:360,skin:"moon/ad/results/bg_start.png",rotation:180,right:40,pivotY:11,pivotX:126,height:22},compId:16}],loadList:["moon/1.png","moon/2.png","moon/ad/results/common_btn1.png","moon/ad/results/bg_start.png","moon/ad/results/img_friend.png","moon/ad/results/img_push.png"],loadList3D:[]},e.MoonResultsUI=_,v("ui.view.MoonResultsUI",_);class A extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(A.uiView)}}A.uiView={type:"View",props:{width:640,mouseThrough:!0,height:1136},compId:2,child:[{type:"Panel",props:{width:600,top:33,height:178,centerX:0},compId:12,child:[{type:"List",props:{var:"hgamelist",top:9,spaceY:10,spaceX:8,runtime:"moon/core/ui/extension/ListEx.ts",right:10,repeatX:4,left:10,bottom:10},compId:4,child:[{type:"Box",props:{width:156,name:"render",height:156},compId:7,child:[{type:"Image",props:{width:156,skin:"jumpto/icon/1.png",name:"Img_Game",left:6,height:156},compId:6}]}]},{type:"Image",props:{width:600,var:"hgamebox",skin:"moon/ad/results2/bg_frame.png",height:178,centerY:-1,centerX:0,sizeGrid:"30,30,30,30"},compId:13}]},{type:"Box",props:{width:600,var:"ov_native",top:33,height:178,centerX:0},compId:14,child:[{type:"Image",props:{top:0,right:0,name:"icon",left:0,bottom:0,alpha:.8},compId:15},{type:"Image",props:{y:0,x:0,var:"btn_close",skin:"moon/ad/results2/btn_close.png",name:"btn_close"},compId:16},{type:"Box",props:{y:118,x:585,width:99,right:0,height:60,bottom:0},compId:20,child:[{type:"Box",props:{top:0,right:0,left:0,bottom:0,bgColor:"#1b1b1b",alpha:.7},compId:21},{type:"Label",props:{text:"广告",fontSize:40,color:"#ffffff",centerY:0,centerX:0,bold:!0,alpha:.8},compId:19}]}]},{type:"Box",props:{width:128,var:"ov_native2",top:474,left:478,height:128},compId:22,child:[{type:"Image",props:{y:0,x:0,top:0,right:0,name:"icon",left:0,bottom:0,alpha:.8},compId:23},{type:"Box",props:{width:87,var:"ov_native_close",top:-30,right:41,height:30},compId:25,child:[{type:"Box",props:{top:0,right:0,left:-3,bottom:0,bgColor:"#1b1b1b",alpha:.7},compId:26},{type:"Label",props:{text:"广告 X",fontSize:30,color:"#ffffff",centerY:0,centerX:0,bold:!0,alpha:.8},compId:27}]}]}],loadList:["jumpto/icon/1.png","moon/ad/results2/bg_frame.png","moon/ad/results2/btn_close.png"],loadList3D:[]},e.MoonResults2UI=A,v("ui.view.MoonResults2UI",A);class S extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(S.uiView)}}S.uiView={type:"View",props:{width:750,mouseThrough:!0,height:1334},compId:2,child:[{type:"Button",props:{width:384,visible:!0,var:"btn_revive",stateNum:1,skin:"activity/common_btn1.png",pivotY:51,pivotX:191,labelStrokeColor:"#a35b19",labelStroke:3,labelSize:42,labelPadding:"0,0,0,0",labelFont:"黑体",labelColors:"#ffffff",labelBold:!0,height:93,centerY:3,centerX:0},compId:5,child:[{type:"Image",props:{y:18,x:22,visible:!0,var:"reskin",skin:"activity/icvideo2.png"},compId:9},{type:"Label",props:{y:25.5,x:121,var:"txt_revive",text:"看视频复活",strokeColor:"#a35b19",stroke:3,padding:"0,0,0,0",fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:20}]},{type:"Button",props:{width:200,visible:!1,var:"btn_giveup",stateNum:1,labelStrokeColor:"#95531f",labelStroke:3,labelSize:30,labelFont:"黑体",labelColors:"#ffffff",labelBold:!0,hitTestPrior:!0,height:75,centerY:100,centerX:0},compId:6,child:[{type:"Label",props:{width:200,var:"txt_giveup",valign:"middle",text:"放弃复活",strokeColor:"#95531f",stroke:3,height:75,fontSize:30,color:"#ffffff",align:"center"},compId:27}]}],animations:[{nodes:[{target:9,keyframes:{var:[{value:"reviveskin",tweenMethod:"linearNone",tween:!1,target:9,key:"var",index:0}]}}],name:"gamePause",id:1,frameRate:24,action:0}],loadList:["activity/common_btn1.png","activity/icvideo2.png"],loadList3D:[]},e.MoonReviveOneUI=S,v("ui.view.MoonReviveOneUI",S);class b extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(b.uiView)}}b.uiView={type:"View",props:{width:750,mouseThrough:!0,height:1334},compId:2,child:[{type:"Button",props:{width:200,visible:!1,var:"btn_giveup",stateNum:1,labelStrokeColor:"#95531f",labelStroke:3,labelSize:30,labelFont:"黑体",labelColors:"#ffffff",labelBold:!0,hitTestPrior:!0,height:75,centerY:100,centerX:0},compId:6,child:[{type:"Label",props:{var:"txt_giveup",valign:"middle",text:"分享复活",strokeColor:"#95531f",stroke:3,fontSize:30,color:"#ffffff",centerY:0,centerX:0,align:"center"},compId:27}]},{type:"Button",props:{width:327,visible:!1,var:"btn_share",stateNum:1,skin:"activity/common_btn1.png",pivotY:51,pivotX:191,labelStrokeColor:"#a35b19",labelStroke:3,labelSize:42,labelPadding:"0,0,0,0",labelFont:"黑体",labelColors:"#ffffff",labelBold:!0,height:93,centerY:-126,centerX:0},compId:21,child:[{type:"Image",props:{y:18,x:13,visible:!0,skin:"activity/icshare.png"},compId:22},{type:"Label",props:{y:25.5,x:104,var:"txt_share",text:"分享复活",strokeColor:"#a35b19",stroke:3,padding:"0,0,0,0",fontSize:42,font:"黑体",color:"#ffffff",bold:!0},compId:23}]},{type:"Button",props:{width:327,visible:!0,var:"btn_diamond",stateNum:1,skin:"activity/common_btn3.png",pivotY:51,pivotX:191,labelStrokeColor:"#a35b19",labelStroke:3,labelSize:42,labelPadding:"0,0,0,0",labelFont:"黑体",labelColors:"#ffffff",labelBold:!0,height:93,centerY:3,centerX:0},compId:16,child:[{type:"Image",props:{y:0,x:10,width:118,visible:!0,skin:"activity/icon_diamond.png",scaleY:.7,scaleX:.7,height:118},compId:18},{type:"Label",props:{y:25.5,x:88,var:"lab_diamond",text:"10 钻石复活",strokeColor:"#a35b19",stroke:3,padding:"0,0,0,0",fontSize:42,font:"黑体",color:"#ffffff",bold:!0},compId:19}]}],animations:[{nodes:[{target:9,keyframes:{var:[{value:"reviveskin",tweenMethod:"linearNone",tween:!1,target:9,key:"var",index:0}]}}],name:"gamePause",id:1,frameRate:24,action:0}],loadList:["activity/common_btn1.png","activity/icshare.png","activity/common_btn3.png","activity/icon_diamond.png"],loadList3D:[]},e.MoonReviveTwoUI=b,v("ui.view.MoonReviveTwoUI",b);class L extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(L.uiView)}}L.uiView={type:"View",props:{width:750,height:1334},compId:1,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:2},{type:"Image",props:{width:666,skin:"activity/nn1.png",sizeGrid:"58,58,58,58",height:1054,centerY:0,centerX:0},compId:3,child:[{type:"Image",props:{width:646,skin:"activity/bg_nn2.png",height:870,centerY:-82,centerX:0},compId:4},{type:"Label",props:{y:24,x:91.5,width:479,var:"txt_title",valign:"middle",text:"每日钻石",height:65,fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:21},{type:"Sprite",props:{y:-26.5,x:80,texture:"activity/nn5.png"},compId:23},{type:"Sprite",props:{y:22,x:573,var:"btn_close",texture:"activity/btn_close.png"},compId:24},{type:"Sprite",props:{y:-23,x:508,texture:"activity/nn5.png"},compId:25},{type:"Image",props:{width:602,skin:"activity/common_bg2.png",sizeGrid:"26,23,25,24",height:64,centerY:-366,centerX:0},compId:6},{type:"Image",props:{y:199,x:512,skin:"activity/icon_diamond.png",scaleY:.7,scaleX:.7},compId:8},{type:"Label",props:{width:602,var:"txt_title2",valign:"middle",text:"完成任务可获400钻石",height:63,fontSize:38,font:"黑体",color:"#ffffff",centerY:-367,centerX:0,bold:!1,alpha:87,align:"center"},compId:7},{type:"Label",props:{width:563,text:"第一步: 点击         进入会话",height:46,fontSize:36,font:"黑体",color:"#925c3e",centerY:-284,centerX:4,bold:!1,align:"left"},compId:9},{type:"Label",props:{width:101,text:"确认",height:38,fontSize:36,font:"黑体",color:"#ff6c34",centerY:-288,centerX:-37,bold:!1,align:"center"},compId:10},{type:"Label",props:{width:470,text:"第二步: 点击",height:71,fontSize:36,font:"黑体",color:"#925c3e",centerY:59,centerX:-39,align:"left"},compId:11},{type:"Label",props:{width:293,text:"发送小程序",height:42,fontSize:36,font:"黑体",color:"#ff6c34",centerY:45,centerX:98,bold:!1,align:"left"},compId:12},{type:"Image",props:{width:509,var:"btnGet",skin:"activity/common_btn1.png",height:128,centerY:438,centerX:2},compId:13,child:[{type:"Label",props:{y:37,x:100,width:249,var:"txt_btnGet",valign:"middle",text:"立即领钻石",strokeColor:"#bb6a13",stroke:3,height:54,fontSize:48,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:22},{type:"Image",props:{y:8,x:349,skin:"activity/icon_diamond.png",scaleY:.9,scaleX:.9},compId:17}]},{type:"Image",props:{y:402,x:333,width:708,skin:"share/service1.png",scaleY:.85,scaleX:.85,pivotY:150,pivotX:354,height:300},compId:14},{type:"Image",props:{y:722,x:333,width:708,skin:"share/service2.png",scaleY:.85,scaleX:.85,pivotY:141,pivotX:354,height:300},compId:15}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/nn5.png","activity/btn_close.png","activity/common_bg2.png","activity/icon_diamond.png","activity/common_btn1.png","share/service1.png","share/service2.png"],loadList3D:[]},e.MoonServiceUI=L,v("ui.view.MoonServiceUI",L);class x extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(x.uiView)}}x.uiView={type:"View",props:{width:750,height:1334},compId:1,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:31},{type:"Image",props:{width:666,skin:"activity/nn1.png",height:1001,centerY:-71,centerX:0},compId:2,child:[{type:"Image",props:{y:11,x:10,width:646,skin:"activity/bg_nn2.png",height:833},compId:3},{type:"Sprite",props:{y:-26.5,x:83.5,texture:"activity/nn5.png"},compId:95},{type:"Sprite",props:{y:21,x:573,visible:!1,var:"btn_close",texture:"activity/btn_close.png"},compId:96},{type:"Sprite",props:{y:-28,x:508,texture:"activity/nn5.png"},compId:97},{type:"Label",props:{y:25,x:96.5,width:473,var:"txt_title",valign:"middle",text:"签到奖励",height:64,fontSize:42,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:67},{type:"Image",props:{y:134,x:39,width:183,var:"img_0",skin:"activity/nn3.png",sizeGrid:"86,65,53,65",height:213,gray:!1},compId:6,child:[{type:"Label",props:{y:11,width:172,var:"txt_day1",valign:"middle",text:"第1天",height:43,fontSize:28,font:"黑体",color:"#ffffff",centerX:-1,align:"center"},compId:12},{type:"Label",props:{width:122,var:"txt_num0",valign:"middle",text:"x20K",height:37,fontSize:32,font:"黑体",color:"#8d5f43",centerY:71,centerX:0,bold:!0,align:"center"},compId:13},{type:"Image",props:{width:118,var:"icon0",skin:"activity/icon_diamond.png",scaleY:1,scaleX:1,pivotY:59,pivotX:59,height:118,centerY:8,centerX:0},compId:14}]},{type:"Image",props:{y:269,x:130.5,visible:!1,var:"img0",skin:"activity/hook.png",scaleY:.7,scaleX:.7},compId:56},{type:"Image",props:{y:134,x:241,width:183,var:"img_1",skin:"activity/nn3.png",sizeGrid:"86,65,53,65",height:213,gray:!1},compId:32,child:[{type:"Label",props:{y:11,width:172,var:"txt_day2",valign:"middle",text:"第2天",height:43,fontSize:28,font:"黑体",color:"#ffffff",centerX:0,align:"center"},compId:33},{type:"Label",props:{width:162,var:"txt_num1",valign:"middle",text:"x10 ",pivotY:22,pivotX:81,height:43,fontSize:32,font:"黑体",color:"#8d5f43",centerY:75,centerX:0,bold:!0,align:"center"},compId:34},{type:"Image",props:{var:"icon1",skin:"activity/icon_diamond.png",scaleY:1,scaleX:1,centerY:7,centerX:0},compId:35}]},{type:"Image",props:{y:269,x:332.5,visible:!1,var:"img1",skin:"activity/hook.png",scaleY:.7,scaleX:.7},compId:57},{type:"Image",props:{y:134,x:443,width:183,var:"img_2",skin:"activity/nn3.png",sizeGrid:"77,72,64,69",height:213,gray:!1},compId:36,child:[{type:"Label",props:{y:12,width:172,var:"txt_day3",valign:"middle",text:"第3天",height:43,fontSize:28,font:"黑体",color:"#ffffff",centerX:0,align:"center"},compId:37},{type:"Label",props:{width:169,var:"txt_num2",valign:"middle",text:"x50K",height:43,fontSize:32,font:"黑体",color:"#8d5f43",centerY:75,centerX:0,bold:!0,align:"center"},compId:38},{type:"Image",props:{y:109.5,x:92,width:118,var:"icon2",skin:"activity/icon_gold.png",scaleY:.9,scaleX:.9,pivotY:59,pivotX:59,height:118},compId:39}]},{type:"Image",props:{y:269,x:536.5,visible:!1,var:"img2",skin:"activity/hook.png",scaleY:.7,scaleX:.7},compId:58},{type:"Image",props:{y:365,x:39,width:183,var:"img_3",skin:"activity/nn3.png",sizeGrid:"86,65,53,65",height:213,gray:!1},compId:40,child:[{type:"Label",props:{y:10,width:172,var:"txt_day4",valign:"middle",text:"第4天",height:43,fontSize:28,font:"黑体",color:"#ffffff",centerX:0,align:"center"},compId:41},{type:"Label",props:{width:122,var:"txt_num3",valign:"middle",text:"x100K",height:43,fontSize:32,font:"黑体",color:"#8d5f43",centerY:76,centerX:0,bold:!0,align:"center"},compId:42},{type:"Image",props:{y:59,x:38,var:"icon3",skin:"activity/icon_gold.png",scaleY:.9,scaleX:.9},compId:43}]},{type:"Image",props:{y:502,x:130.5,visible:!1,var:"img3",skin:"activity/hook.png",scaleY:.7,scaleX:.7},compId:59},{type:"Image",props:{y:365,width:183,var:"img_4",skin:"activity/nn3.png",sizeGrid:"86,65,53,65",height:213,gray:!1,centerX:-3},compId:44,child:[{type:"Label",props:{y:12,width:172,var:"txt_day5",valign:"middle",text:"第5天",height:43,fontSize:28,font:"黑体",color:"#ffffff",centerX:0,align:"center"},compId:45},{type:"Label",props:{y:179,x:92,width:122,var:"txt_num4",valign:"middle",text:"x20 ",pivotY:22,pivotX:61,height:43,fontSize:32,font:"黑体",color:"#8d5f43",bold:!0,align:"center"},compId:46},{type:"Image",props:{y:54.5,x:32.5,var:"icon4",skin:"activity/icon_diamond.png",scaleY:1,scaleX:1},compId:47}]},{type:"Image",props:{y:502,x:328,visible:!1,var:"img4",skin:"activity/hook.png",scaleY:.7,scaleX:.7},compId:60},{type:"Image",props:{y:365,width:183,var:"img_5",skin:"activity/nn3.png",sizeGrid:"86,65,53,65",right:40,height:213,gray:!1},compId:48,child:[{type:"Label",props:{y:11,width:172,var:"txt_day6",valign:"middle",text:"第6天",height:43,fontSize:28,font:"黑体",color:"#ffffff",centerX:0,align:"center"},compId:49},{type:"Label",props:{y:179,x:92,width:122,var:"txt_num5",valign:"middle",text:"x200K",pivotY:22,pivotX:61,height:43,fontSize:32,font:"黑体",color:"#8d5f43",bold:!0,align:"center"},compId:50},{type:"Image",props:{y:57,x:40,var:"icon5",skin:"activity/icon_gold.png",scaleY:.9,scaleX:.9},compId:51}]},{type:"Image",props:{y:502,x:534.5,visible:!1,var:"img5",skin:"activity/hook.png",scaleY:.7,scaleX:.7},compId:61},{type:"Image",props:{y:601,x:41,width:585,var:"img_6",skin:"activity/nn3.png",sizeGrid:"86,65,53,65",height:213,gray:!1},compId:52,child:[{type:"Label",props:{y:11,width:563,var:"txt_day7",valign:"middle",text:"第7天",height:43,fontSize:28,font:"黑体",color:"#ffffff",centerX:0,align:"center"},compId:53},{type:"Label",props:{width:122,var:"txt_num6",text:"x30",height:48,fontSize:32,font:"黑体",color:"#8d5f43",centerY:77,centerX:0,bold:!0,align:"center"},compId:54},{type:"Image",props:{width:118,var:"icon6",skin:"activity/shop4.png",scaleY:1,scaleX:1,height:118,centerY:0,centerX:0},compId:55}]},{type:"Image",props:{y:735,x:534,visible:!1,var:"img6",skin:"activity/hook.png",scaleY:.7,scaleX:.7},compId:62},{type:"Button",props:{width:360,visible:!0,var:"btn_get",height:69,centerY:553,centerX:11},compId:23,child:[{type:"Label",props:{width:498,var:"lbl_get",text:"直接领取",height:39,fontSize:42,font:"黑体",color:"#ffffff",centerY:0,centerX:0,align:"center"},compId:26},{type:"Image",props:{y:0,x:295,visible:!0,var:"img_get_coin",skin:"activity/icon_gold.png",scaleY:.5,scaleX:.5},compId:63},{type:"Image",props:{y:0,x:295,visible:!0,var:"img_get_zs",skin:"activity/icon_diamond.png",scaleY:.5,scaleX:.5},compId:65}]},{type:"Button",props:{y:918,x:334,width:508,var:"btn_one",stateNum:1,skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",height:120,anchorY:.5,anchorX:.5},compId:98,child:[{type:"Label",props:{width:407,var:"lab_one",valign:"middle",text:"观看视频领取",strokeColor:"#b47516",stroke:3,pivotY:24,pivotX:234,height:47,fontSize:42,font:"黑体",color:"#ffffff",centerY:0,centerX:0,bold:!0,align:"center"},compId:99},{type:"Image",props:{x:406,visible:!1,var:"imgcoin",skin:"activity/icon_gold.png",scaleY:.7,scaleX:.7,centerY:-4},compId:100},{type:"Image",props:{x:406,visible:!1,var:"imgdia",skin:"activity/icon_diamond.png",scaleY:.7,scaleX:.7,centerY:-4},compId:101}]},{type:"Button",props:{y:918,x:334,width:508,visible:!1,var:"btn_share",stateNum:1,skin:"activity/common_btn1.png",sizeGrid:"42,42,42,42",height:120,anchorY:.5,anchorX:.5},compId:24,child:[{type:"Label",props:{width:407,var:"lbl_share",valign:"middle",text:"双倍领取",strokeColor:"#b47516",stroke:3,pivotY:24,pivotX:249,height:47,fontSize:42,font:"黑体",color:"#ffffff",centerY:0,centerX:0,bold:!0,align:"center"},compId:28},{type:"Image",props:{x:407,visible:!1,var:"img_share_coin",skin:"activity/icon_gold.png",scaleY:.7,scaleX:.7,centerY:-3},compId:64},{type:"Image",props:{x:407,visible:!1,var:"img_share_zs",skin:"activity/icon_diamond.png",scaleY:.7,scaleX:.7,centerY:-3},compId:66}]}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/nn5.png","activity/btn_close.png","activity/nn3.png","activity/icon_diamond.png","activity/hook.png","activity/icon_gold.png","activity/shop4.png","activity/common_btn1.png"],loadList3D:[]},e.MoonSigninUI=x,v("ui.view.MoonSigninUI",x);class M extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(M.uiView)}}M.uiView={type:"View",props:{width:750,height:1334,centerY:0,centerX:0},compId:2,child:[{type:"Image",props:{top:0,skin:"wxlocal/bg0.png",right:0,left:0,bottom:0},compId:3},{type:"Image",props:{width:602,var:"b",top:0,left:148,height:187},compId:4},{type:"Sprite",props:{y:233,x:0,width:750,texture:"activity/bg_006.png",height:51},compId:65},{type:"List",props:{width:715,var:"listskin",top:330,spaceY:30,spaceX:30,repeatX:3,name:"render",left:19,height:1005,bottom:0},compId:31,child:[{type:"Box",props:{y:0,x:0,renderType:"render"},compId:62,child:[{type:"Image",props:{y:0,x:0,skin:"activity/bg_003.png"},compId:60},{type:"Image",props:{y:41,x:39,width:140,var:"img",skin:"gskin/Ball11.png",name:"img",height:140},compId:61},{type:"Box",props:{y:41,x:45,visible:!1,var:"basket",scaleY:1.3,scaleX:1.3,name:"basket"},compId:106,child:[{type:"Image",props:{var:"one",skin:"gskin/Basket0_0.png",name:"one"},compId:107},{type:"Image",props:{var:"two",skin:"gskin/Basket0_1.png",name:"two"},compId:108}]},{type:"Image",props:{y:11.5,x:7.5,width:202,var:"skinbg",skin:"activity/z8.png",name:"skinbg",height:194},compId:75},{type:"Image",props:{y:141,x:121,visible:!1,var:"imgxuan",skin:"activity/hook.png",scaleY:.7,scaleX:.7,name:"imgxuan"},compId:115},{type:"Text",props:{y:161,x:8,width:202,valign:"middle",text:"20关解锁",strokeColor:"#b22724",stroke:4,name:"txt_lock",height:32,fontSize:28,font:"黑体",color:"#ffffff",align:"center",runtime:"laya.display.Text"},compId:116},{type:"Button",props:{y:137,x:16,width:183,stateNum:1,skin:"activity/common_btn1.png",name:"btn_video",height:78},compId:117,child:[{type:"Label",props:{y:23,x:68,width:94,text:"解锁",name:"txt_video",height:30,fontSize:30,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:119},{type:"Sprite",props:{y:14.5,x:14,texture:"activity/icvideo2.png",scaleY:.8,scaleX:.8},compId:118}]}]}]},{type:"Sprite",props:{y:68,x:232.5,texture:"gui/bg_004.png"},compId:63},{type:"Button",props:{y:60,x:35,width:82,var:"btn_jiesu",stateNum:1,skin:"activity/btn_close.png",height:82},compId:64},{type:"Button",props:{y:198,x:13,var:"btn_ball",stateNum:1,skin:"gui/btn_002.png"},compId:66,child:[{type:"Label",props:{y:40,x:11.5,width:155,var:"lab_ball",valign:"middle",text:"球",height:40,fontSize:35,font:"黑体",color:"#ffffd4",bold:!0,align:"center"},compId:56}]},{type:"Button",props:{y:198,x:195,var:"btn_wings",stateNum:1,skin:"gui/btn_003.png"},compId:67,child:[{type:"Label",props:{y:60,x:89,width:158,var:"lab_wings",valign:"middle",text:"翅膀",pivotY:22,pivotX:79,height:43,fontSize:35,font:"黑体",color:"#ffffd4",bold:!0,align:"center"},compId:52}]},{type:"Button",props:{y:198,x:377,var:"btn_basket",stateNum:1,skin:"gui/btn_003.png"},compId:68,child:[{type:"Label",props:{y:60,x:89,width:156,var:"lab_basket",valign:"middle",text:"篮圈",pivotY:19,pivotX:78,height:38,fontSize:35,font:"黑体",color:"#ffffd4",bold:!0,align:"center"},compId:54}]},{type:"Button",props:{y:198,x:559,var:"btn_flame",stateNum:1,skin:"gui/btn_003.png"},compId:69,child:[{type:"Label",props:{y:60,x:89,width:156,var:"lab_flame",valign:"middle",text:"火焰",pivotY:18,pivotX:78,height:35,fontSize:35,font:"黑体",color:"#ffffd4",bold:!0,align:"center"},compId:53}]},{type:"Image",props:{y:0,x:0,visible:!1,var:"dialogb",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:111},{type:"Box",props:{y:329.5,x:40,width:674,visible:!1,var:"check",height:675},compId:76,child:[{type:"Image",props:{y:0,x:0,width:668,visible:!0,skin:"activity/nn1.png",height:648},compId:89,child:[{type:"Image",props:{y:12,x:11,width:646,skin:"activity/bg_nn2.png",height:488},compId:90,child:[{type:"Label",props:{y:12,x:86.5,width:473,var:"txt_title",valign:"middle",text:"解锁条件",height:64,fontSize:42,font:"黑体",color:"#ffffff",align:"center"},compId:91}]},{type:"Button",props:{y:512,x:78.5,width:509,var:"btn_check",stateNum:1,skin:"activity/common_btn1.png",height:117},compId:92,child:[{type:"Label",props:{y:35.5,x:208,var:"txt_check",text:"确定",strokeColor:"#a86013",stroke:3,fontSize:42,font:"黑体",color:"#ffffff",bold:!0},compId:94}]},{type:"Image",props:{width:185,var:"buy",skin:"gskin/Ball0.png",height:185,centerY:-57,centerX:0},compId:95},{type:"Label",props:{y:410,x:16,wordWrap:!0,width:636,var:"lbl_cost",valign:"middle",text:"花费100金币购买",height:55,fontSize:34,font:"黑体",color:"#8e4f25",bold:!0,align:"center"},compId:96},{type:"Image",props:{y:28,x:554.5,var:"btn_close",skin:"activity/btn_close.png"},compId:102},{type:"Box",props:{y:206,x:267,visible:!1,var:"diabas",scaleY:1.4,scaleX:1.4},compId:112,child:[{type:"Image",props:{var:"first",skin:"gskin/Basket0_0.png",name:"first"},compId:113},{type:"Image",props:{var:"second",skin:"gskin/Basket0_1.png",name:"second"},compId:114}]}]}]}],loadList:["wxlocal/bg0.png","activity/bg_006.png","activity/bg_003.png","gskin/Ball11.png","gskin/Basket0_0.png","gskin/Basket0_1.png","activity/z8.png","activity/hook.png","activity/common_btn1.png","activity/icvideo2.png","gui/bg_004.png","activity/btn_close.png","gui/btn_002.png","gui/btn_003.png","activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","gskin/Ball0.png"],loadList3D:[]},e.MoonSkinUI=M,v("ui.view.MoonSkinUI",M);class k extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(k.uiView)}}k.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:4},{type:"Box",props:{centerY:-145,centerX:0,anchorY:.5,anchorX:.5},compId:6,child:[{type:"Animation",props:{var:"getAni",source:"animation/fx_unlock.ani"},compId:21}]},{type:"Image",props:{y:548,x:401,width:179,var:"img_ball",skin:"gskin/Ball0.png",height:179,centerY:-145,centerX:0,anchorY:.5,anchorX:.5},compId:5,child:[{type:"Image",props:{y:-1,x:0,width:179,visible:!1,var:"img_basket",skin:"gskin/Basket5_1.png",height:179},compId:10}]},{type:"Box",props:{y:377,x:375,centerY:-145,centerX:0,anchorY:.5,anchorX:.5},compId:25,child:[{type:"Animation",props:{var:"lockAni",source:"animation/fx_glow.ani"},compId:27}]},{type:"Box",props:{y:167,width:570,var:"lock_normal",height:847,centerX:0},compId:29,child:[{type:"Image",props:{var:"tip1",skin:"activity/z11.png",centerY:-424,centerX:0},compId:24},{type:"Label",props:{wordWrap:!0,width:389,var:"lab_dialog1",text:"恭喜解锁新皮肤!点击购买",leading:10,height:70,fontSize:50,color:"#ffffff",centerY:236,centerX:0,anchorY:.5,anchorX:.5,align:"center"},compId:7},{type:"Button",props:{y:754,width:385,var:"btn_check",stateNum:1,skin:"activity/common_btn1.png",height:117,centerX:0},compId:11,child:[{type:"Label",props:{y:32.5,x:159,width:182,var:"lab_coin",valign:"middle",text:"50000",strokeColor:"#a86013",stroke:3,height:52,fontSize:52,font:"黑体",color:"#ffffff",bold:!0,align:"center"},compId:12},{type:"Sprite",props:{y:17,x:64,width:106,texture:"activity/icon_gold.png",scaleY:.8,scaleX:.8,height:108},compId:13}]}]},{type:"Box",props:{y:191,width:571,visible:!1,var:"lock_video",height:835,centerX:0},compId:30,child:[{type:"Button",props:{y:730,width:385,visible:!0,var:"btn_video",stateNum:1,skin:"activity/common_btn1.png",height:117,centerX:0},compId:14,child:[{type:"Label",props:{y:30,x:145,text:"免费获得",strokeColor:"#a86013",stroke:3,fontSize:52,font:"黑体",color:"#ffffff",bold:!0},compId:15},{type:"Sprite",props:{y:11,x:41,width:106,texture:"activity/icvideo2.png",scaleY:.8,scaleX:.8,height:108},compId:16}]},{type:"Label",props:{wordWrap:!0,width:389,visible:!0,var:"lab_dialog2",valign:"middle",text:"哇噢,爆出了绝版皮肤!",strokeColor:"#235cef",stroke:2,height:90,fontSize:32,font:"SimHei",color:"#ffffff",centerY:216,centerX:0,bold:!0,anchorY:.5,anchorX:.5,align:"center"},compId:20},{type:"Image",props:{y:-181,visible:!0,var:"tip2",skin:"activity/z10.png",centerY:-447,centerX:0},compId:23}]},{type:"Label",props:{wordWrap:!0,width:389,text:"点击任意区域关闭",leading:10,height:70,fontSize:30,color:"#ffffff",centerY:441,centerX:0,anchorY:.5,anchorX:.5,align:"center"},compId:31}],animations:[{nodes:[{target:5,keyframes:{skewY:[{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"skewY",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"skewY",index:13}],skewX:[{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"skewX",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"skewX",index:13}],scaleY:[{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleY",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleY",index:13},{value:.8,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleY",index:17},{value:.8,tweenMethod:"linearNone",tween:!0,target:5,label:null,key:"scaleY",index:20}],scaleX:[{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleX",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleX",index:13},{value:.8,tweenMethod:"linearNone",tween:!0,target:5,key:"scaleX",index:17},{value:.8,tweenMethod:"linearNone",tween:!0,target:5,label:null,key:"scaleX",index:20}],rotation:[{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:17},{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:20},{value:-30,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:24},{value:30,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:29},{value:0,tweenMethod:"linearNone",tween:!0,target:5,key:"rotation",index:34}]}},{target:7,keyframes:{wordWrap:[{value:!0,tweenMethod:"linearNone",tween:!1,target:7,key:"wordWrap",index:0},{value:!0,tweenMethod:"linearNone",tween:!1,target:7,key:"wordWrap",index:34}],strokeColor:[{value:"#235cef",tweenMethod:"linearNone",tween:!1,target:7,key:"strokeColor",index:0},{value:"#235cef",tweenMethod:"linearNone",tween:!1,target:7,key:"strokeColor",index:13},{value:"#235cef",tweenMethod:"linearNone",tween:!1,target:7,key:"strokeColor",index:33}],stroke:[{value:2,tweenMethod:"linearNone",tween:!0,target:7,key:"stroke",index:0},{value:2,tweenMethod:"linearNone",tween:!0,target:7,key:"stroke",index:13},{value:2,tweenMethod:"linearNone",tween:!0,target:7,key:"stroke",index:33}],scaleY:[{value:0,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:13},{value:.8,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleY",index:17}],scaleX:[{value:0,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:13},{value:.8,tweenMethod:"linearNone",tween:!0,target:7,key:"scaleX",index:17}],font:[{value:"SimSun",tweenMethod:"linearNone",tween:!1,target:7,key:"font",index:0},{value:"SimSun",tweenMethod:"linearNone",tween:!1,target:7,key:"font",index:13},{value:"SimSun",tweenMethod:"linearNone",tween:!1,target:7,key:"font",index:33}],bold:[{value:!0,tweenMethod:"linearNone",tween:!1,target:7,key:"bold",index:0},{value:!0,tweenMethod:"linearNone",tween:!1,target:7,key:"bold",index:13},{value:!0,tweenMethod:"linearNone",tween:!1,target:7,key:"bold",index:33}]}},{target:25,keyframes:{visible:[{value:!1,tweenMethod:"linearNone",tween:!1,target:25,key:"visible",index:0}]}},{target:20,keyframes:{y:[{value:654,tweenMethod:"linearNone",tween:!0,target:20,key:"y",index:0}],x:[{value:285,tweenMethod:"linearNone",tween:!0,target:20,key:"x",index:0}],width:[{value:389,tweenMethod:"linearNone",tween:!0,target:20,key:"width",index:0},{value:445,tweenMethod:"linearNone",tween:!0,target:20,key:"width",index:10}],text:[{value:"哇噢,爆出了绝版皮肤!",tweenMethod:"linearNone",tween:!1,target:20,key:"text",index:0},{value:"哇噢,爆出了绝版皮肤!",tweenMethod:"linearNone",tween:!1,target:20,key:"text",index:10}],scaleY:[{value:0,tweenMethod:"linearNone",tween:!0,target:20,key:"scaleY",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:20,key:"scaleY",index:10}],scaleX:[{value:0,tweenMethod:"linearNone",tween:!0,target:20,key:"scaleX",index:0},{value:1,tweenMethod:"linearNone",tween:!0,target:20,key:"scaleX",index:10}],leading:[{value:0,tweenMethod:"linearNone",tween:!0,target:20,key:"leading",index:0},{value:10,tweenMethod:"linearNone",tween:!0,target:20,key:"leading",index:10}],fontSize:[{value:32,tweenMethod:"linearNone",tween:!0,target:20,key:"fontSize",index:0},{value:46,tweenMethod:"linearNone",tween:!0,target:20,key:"fontSize",index:10}],anchorY:[{value:.5,tweenMethod:"linearNone",tween:!0,target:20,key:"anchorY",index:0}],anchorX:[{value:.5,tweenMethod:"linearNone",tween:!0,target:20,key:"anchorX",index:0}],align:[{value:"center",tweenMethod:"linearNone",tween:!1,target:20,key:"align",index:0},{value:"center",tweenMethod:"linearNone",tween:!1,target:20,key:"align",index:10}]}}],name:"ani1",id:1,frameRate:30,action:0}],loadList:["activity/common_bg5.png","animation/fx_unlock.ani","gskin/Ball0.png","gskin/Basket5_1.png","animation/fx_glow.ani","activity/z11.png","activity/common_btn1.png","activity/icon_gold.png","activity/icvideo2.png","activity/z10.png"],loadList3D:[]},e.MoonSkinTipUI=k,v("ui.view.MoonSkinTipUI",k);class C extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(C.uiView)}}C.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{var:"b",top:0,skin:"activity/common_bg5.png",sizeGrid:"2,2,2,2",right:0,left:0,bottom:0,alpha:1},compId:3},{type:"Image",props:{width:670,skin:"activity/nn1.png",height:648,centerY:0,centerX:5},compId:4,child:[{type:"Image",props:{y:12,x:11,width:646,skin:"activity/bg_nn2.png",height:488},compId:5,child:[{type:"Label",props:{y:12,x:86.5,width:473,var:"txt_title",valign:"middle",text:"空投补给箱",height:64,fontSize:42,font:"黑体",color:"#ffffff",align:"center"},compId:6}]},{type:"Button",props:{y:512,x:78.5,width:509,var:"btn_play",stateNum:1,skin:"activity/common_btn1.png",height:117},compId:7,child:[{type:"Image",props:{y:27,x:138,width:57,skin:"activity/icvideo2.png",height:57},compId:8},{type:"Label",props:{y:35.5,x:208,var:"txt_open",text:"立即打开",strokeColor:"#a86013",stroke:3,fontSize:42,font:"黑体",color:"#ffffff",bold:!0},compId:9}]},{type:"Image",props:{y:140,x:146.5,skin:"activity/supply_img.png"},compId:10},{type:"Label",props:{y:379,x:15.5,wordWrap:!0,width:636,var:"txt_info1",valign:"middle",text:"发现大量空投补给箱!",height:55,fontSize:34,font:"黑体",color:"#8e4f25",bold:!0,align:"center"},compId:11},{type:"Label",props:{y:429,x:16.5,wordWrap:!0,width:636,var:"txt_info2",valign:"middle",text:"打开可获得大量钻石和金币",height:55,fontSize:34,font:"黑体",color:"#8e4f25",bold:!0,align:"center"},compId:12},{type:"Sprite",props:{y:-25,x:85.5,texture:"activity/nn5.png"},compId:13},{type:"Sprite",props:{y:24,x:574,var:"btn_close",texture:"activity/btn_close.png"},compId:14},{type:"Sprite",props:{y:-26,x:509,texture:"activity/nn5.png"},compId:15}]}],loadList:["activity/common_bg5.png","activity/nn1.png","activity/bg_nn2.png","activity/common_btn1.png","activity/icvideo2.png","activity/supply_img.png","activity/nn5.png","activity/btn_close.png"],loadList3D:[]},e.MoonSupplyUI=C,v("ui.view.MoonSupplyUI",C);class E extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(E.uiView)}}E.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Image",props:{width:100,var:"bg",skin:"common/common_bg3.png",sizeGrid:"18,14,18,16",height:100,centerY:0,centerX:0,alpha:.7},compId:7,child:[{type:"Box",props:{visible:!1,var:"box_txt",top:0,right:0,left:0,bottom:0},compId:9,child:[{type:"Label",props:{y:0,x:-325,width:750,var:"content",valign:"middle",text:"show me the money",height:100,fontSize:40,color:"#ffffff",centerY:0,centerX:0,align:"center"},compId:4}]},{type:"Box",props:{y:0,x:0,visible:!1,var:"box_icon",top:0,right:0,left:0,bottom:0},compId:10,child:[{type:"Image",props:{y:26,width:48,var:"img_icon",left:20,height:48,centerY:0},compId:8},{type:"Label",props:{y:0,var:"lbl_icon",valign:"middle",text:"show me the money",right:0,left:80,height:100,fontSize:40,color:"#ffffff",centerY:0,align:"center"},compId:11}]}]}],loadList:["common/common_bg3.png"],loadList3D:[]},e.MoonTipUI=E,v("ui.view.MoonTipUI",E);class N extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(N.uiView)}}N.uiView={type:"View",props:{width:750,mouseThrough:!0,height:1336},compId:2,child:[{type:"Box",props:{var:"money",top:65,left:45,height:56},compId:3,child:[{type:"Image",props:{y:0,x:-27,width:178,skin:"activity/add_top_bg.png",height:41},compId:4},{type:"Image",props:{y:20,x:-8,var:"img_money",skin:"activity/icon_gold.png",anchorY:.5,anchorX:.5},compId:6},{type:"Label",props:{y:21,x:64,var:"txt_money",valign:"middle",text:"999.9K",fontSize:28,font:"黑体",color:"#ffffff",bold:!0,anchorY:.5,anchorX:.5,align:"center"},compId:7},{type:"Box",props:{y:-18.5,x:89,width:83,var:"btn_addmoney",height:79},compId:14,child:[{type:"Image",props:{y:22.5,x:24.5,width:34,var:"btn",skin:"activity/plus.png",height:34},compId:5}]}]},{type:"Box",props:{y:0,x:0,width:226,visible:!1,var:"gem",top:44,left:268,height:56},compId:8,child:[{type:"Image",props:{skin:"activity/add_top_bg.png"},compId:9},{type:"Image",props:{y:25,x:31,width:60,var:"img_gem",skin:"activity/icon_diamond.png",pivotY:30,pivotX:30,height:60},compId:11},{type:"Label",props:{y:5,x:52,width:126,var:"txt_gem",valign:"middle",text:"9999",height:42,fontSize:36,font:"黑体",color:"#7b3d1f",bold:!0,align:"center"},compId:12},{type:"Box",props:{y:-17,x:129,width:110,var:"btn_addgem",height:85},compId:15,child:[{type:"Image",props:{y:25.5,x:47,skin:"activity/plus.png"},compId:10}]}]}],loadList:["activity/add_top_bg.png","activity/icon_gold.png","activity/plus.png","activity/icon_diamond.png"],loadList3D:[]},e.MoonTopBarUI=N,v("ui.view.MoonTopBarUI",N);class V extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(V.uiView)}}V.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"Box",props:{y:329,x:40,width:674,visible:!1,var:"check",height:675},compId:3,child:[{type:"Image",props:{y:0,x:0,width:668,visible:!0,skin:"activity/nn1.png",height:648},compId:4,child:[{type:"Image",props:{y:12,x:11,width:646,skin:"activity/bg_nn2.png",height:488},compId:5,child:[{type:"Label",props:{y:12,x:86.5,width:473,valign:"middle",text:"解锁条件",height:64,fontSize:42,font:"黑体",color:"#ffffff",align:"center"},compId:6}]},{type:"Button",props:{y:512,x:78.5,width:509,var:"btn_check",stateNum:1,skin:"activity/common_btn1.png",height:117},compId:7,child:[{type:"Label",props:{y:35.5,x:208,text:"确定",strokeColor:"#a86013",stroke:3,fontSize:42,font:"黑体",color:"#ffffff",bold:!0},compId:8}]},{type:"Image",props:{var:"buy",skin:"gskin/Ball0.png",centerY:-40,centerX:0},compId:9},{type:"Label",props:{y:410,x:16,wordWrap:!0,width:636,var:"lbl_cost",valign:"middle",text:"花费100金币购买",height:55,fontSize:34,font:"黑体",color:"#8e4f25",bold:!0,align:"center"},compId:10},{type:"Image",props:{y:28,x:554.5,var:"btn_close",skin:"activity/btn_close.png"},compId:11},{type:"Box",props:{y:169,x:247,visible:!1,var:"diabas",scaleY:.7,scaleX:.7},compId:12,child:[{type:"Image",props:{var:"first",skin:"gskin/Basket0_0.png",name:"first"},compId:13},{type:"Image",props:{var:"second",skin:"gskin/Basket0_1.png",name:"second"},compId:14}]}]}]}],loadList:["activity/nn1.png","activity/bg_nn2.png","activity/common_btn1.png","gskin/Ball0.png","activity/btn_close.png","gskin/Basket0_0.png","gskin/Basket0_1.png"],loadList3D:[]},e.UnlockInfoUI=V,v("ui.view.UnlockInfoUI",V)}(e.view||(e.view={}))}(e||(e={})),function(e){!function(e){class t extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(t.uiView)}}t.uiView={type:"View",props:{width:1334,top:0,right:0,left:0,height:750,bottom:0},compId:2,child:[{type:"Box",props:{y:10,x:10,var:"panel_close",top:-1,right:0,left:0,bottom:0,bgColor:"#000000",alpha:.7},compId:252},{type:"Image",props:{y:20,x:20,skin:"diy/bg_diy_01.png",centerY:7,centerX:0},compId:254,child:[{type:"Image",props:{y:-16,x:178,skin:"diy/img_diy_07.png",centerY:-276,centerX:0},compId:255,child:[{type:"Label",props:{y:42,x:190,text:"提示",fontSize:46,color:"#0198E1",bold:!0,anchorY:.5,anchorX:.5},compId:256}]},{type:"Label",props:{y:144,x:107,width:503,var:"lbl_content",text:"网络状况不佳，请检查网络后\\n重新进入游戏",leading:15,height:153,fontSize:39,color:"#3f94be"},compId:259},{type:"Button",props:{y:434,x:242.5,var:"btn_try",stateNum:1,skin:"diy/btn_diy_05.png",labelSize:40,labelPadding:"0,0,10,0",labelColors:"#20902d",labelBold:!0,label:"重试"},compId:260}]}],animations:[{nodes:[{target:229,keyframes:{y:[{value:458,tweenMethod:"linearNone",tween:!0,target:229,key:"y",index:0},{value:464,tweenMethod:"linearNone",tween:!0,target:229,key:"y",index:10},{value:443,tweenMethod:"linearNone",tween:!0,target:229,key:"y",index:20},{value:447,tweenMethod:"linearNone",tween:!0,target:229,key:"y",index:30},{value:458,tweenMethod:"linearNone",tween:!0,target:229,label:null,key:"y",index:40}],x:[{value:1015,tweenMethod:"linearNone",tween:!0,target:229,key:"x",index:0},{value:997,tweenMethod:"linearNone",tween:!0,target:229,key:"x",index:10},{value:993,tweenMethod:"linearNone",tween:!0,target:229,key:"x",index:20},{value:1018,tweenMethod:"linearNone",tween:!0,target:229,key:"x",index:30},{value:1015,tweenMethod:"linearNone",tween:!0,target:229,label:null,key:"x",index:40}],rotation:[{value:0,tweenMethod:"linearNone",tween:!0,target:229,key:"rotation",index:0},{value:0,tweenMethod:"linearNone",tween:!0,target:229,label:null,key:"rotation",index:40}]}},{target:234,keyframes:{y:[{value:375,tweenMethod:"linearNone",tween:!0,target:234,key:"y",index:0},{value:364,tweenMethod:"linearNone",tween:!0,target:234,key:"y",index:10},{value:375,tweenMethod:"linearNone",tween:!0,target:234,label:null,key:"y",index:20},{value:394,tweenMethod:"linearNone",tween:!0,target:234,key:"y",index:30},{value:375,tweenMethod:"linearNone",tween:!0,target:234,label:null,key:"y",index:40}],x:[{value:91.5,tweenMethod:"linearNone",tween:!0,target:234,key:"x",index:0},{value:91.5,tweenMethod:"linearNone",tween:!0,target:234,label:null,key:"x",index:20},{value:91.5,tweenMethod:"linearNone",tween:!0,target:234,label:null,key:"x",index:40}]}},{target:230,keyframes:{y:[{value:570,tweenMethod:"linearNone",tween:!0,target:230,key:"y",index:0},{value:560,tweenMethod:"linearNone",tween:!0,target:230,key:"y",index:10},{value:570,tweenMethod:"linearNone",tween:!0,target:230,label:null,key:"y",index:20},{value:580,tweenMethod:"linearNone",tween:!0,target:230,key:"y",index:30},{value:570,tweenMethod:"linearNone",tween:!0,target:230,label:null,key:"y",index:40}],x:[{value:284,tweenMethod:"linearNone",tween:!0,target:230,key:"x",index:0},{value:284,tweenMethod:"linearNone",tween:!0,target:230,label:null,key:"x",index:20},{value:284,tweenMethod:"linearNone",tween:!0,target:230,label:null,key:"x",index:40}]}},{target:231,keyframes:{y:[{value:327,tweenMethod:"linearNone",tween:!0,target:231,key:"y",index:0},{value:316,tweenMethod:"linearNone",tween:!0,target:231,key:"y",index:10},{value:327,tweenMethod:"linearNone",tween:!0,target:231,label:null,key:"y",index:20},{value:337,tweenMethod:"linearNone",tween:!0,target:231,key:"y",index:30},{value:327,tweenMethod:"linearNone",tween:!0,target:231,label:null,key:"y",index:40}],x:[{value:1202,tweenMethod:"linearNone",tween:!0,target:231,key:"x",index:0},{value:1202,tweenMethod:"linearNone",tween:!0,target:231,label:null,key:"x",index:20},{value:1202.5,tweenMethod:"linearNone",tween:!0,target:231,key:"x",index:30},{value:1202,tweenMethod:"linearNone",tween:!0,target:231,label:null,key:"x",index:40}]}},{target:232,keyframes:{y:[{value:166,tweenMethod:"linearNone",tween:!0,target:232,key:"y",index:0},{value:151,tweenMethod:"linearNone",tween:!0,target:232,key:"y",index:10},{value:166,tweenMethod:"linearNone",tween:!0,target:232,label:null,key:"y",index:20},{value:175,tweenMethod:"linearNone",tween:!0,target:232,key:"y",index:30},{value:166,tweenMethod:"linearNone",tween:!0,target:232,label:null,key:"y",index:40}]}},{target:236,keyframes:{y:[{value:39.5,tweenMethod:"linearNone",tween:!0,target:236,key:"y",index:0},{value:33,tweenMethod:"linearNone",tween:!0,target:236,key:"y",index:20},{value:15.5,tweenMethod:"linearNone",tween:!0,target:236,key:"y",index:30},{value:39.5,tweenMethod:"linearNone",tween:!0,target:236,label:null,key:"y",index:40}],x:[{value:1176.5,tweenMethod:"linearNone",tween:!0,target:236,key:"x",index:0},{value:1188,tweenMethod:"linearNone",tween:!0,target:236,key:"x",index:10},{value:1186,tweenMethod:"linearNone",tween:!0,target:236,key:"x",index:20},{value:1167,tweenMethod:"linearNone",tween:!0,target:236,key:"x",index:30},{value:1176.5,tweenMethod:"linearNone",tween:!0,target:236,label:null,key:"x",index:40}]}},{target:233,keyframes:{y:[{value:127,tweenMethod:"linearNone",tween:!0,target:233,key:"y",index:0},{value:105,tweenMethod:"linearNone",tween:!0,target:233,key:"y",index:20},{value:127,tweenMethod:"linearNone",tween:!0,target:233,label:null,key:"y",index:40}],x:[{value:288,tweenMethod:"linearNone",tween:!0,target:233,key:"x",index:0},{value:271,tweenMethod:"linearNone",tween:!0,target:233,key:"x",index:10},{value:260,tweenMethod:"linearNone",tween:!0,target:233,key:"x",index:20},{value:284,tweenMethod:"linearNone",tween:!0,target:233,key:"x",index:30},{value:288,tweenMethod:"linearNone",tween:!0,target:233,label:null,key:"x",index:40}]}},{target:235,keyframes:{x:[{value:119,tweenMethod:"linearNone",tween:!0,target:235,key:"x",index:0},{value:119,tweenMethod:"linearNone",tween:!0,target:235,key:"x",index:40}],rotation:[{value:0,tweenMethod:"linearNone",tween:!0,target:235,key:"rotation",index:0},{value:16,tweenMethod:"linearNone",tween:!0,target:235,key:"rotation",index:10},{value:0,tweenMethod:"linearNone",tween:!0,target:235,key:"rotation",index:20},{value:16,tweenMethod:"linearNone",tween:!0,target:235,key:"rotation",index:30},{value:0,tweenMethod:"linearNone",tween:!0,target:235,key:"rotation",index:40}]}}],name:"ani1",id:1,frameRate:24,action:0}],loadList:["diy/bg_diy_01.png","diy/img_diy_07.png","diy/btn_diy_05.png"],loadList3D:[]},e.MoonConfirmUI=t,v("ui.wxlocal.MoonConfirmUI",t);class i extends Laya.View{constructor(){super()}createChildren(){super.createChildren(),this.createView(i.uiView)}}i.uiView={type:"View",props:{y:0,x:0,width:750,height:1334},compId:2,child:[{type:"Image",props:{var:"img_bg",top:0,skin:"wxlocal/beij.jpg",right:0,left:0,bottom:0},compId:4},{type:"Image",props:{var:"img_logo",top:110,skin:"wxlocal/biaoti.png",centerX:0,alpha:0},compId:8},{type:"Box",props:{var:"activity_box",right:0,left:0,height:480,centerY:80},compId:33},{type:"Box",props:{right:0,left:0,height:200,bottom:327},compId:19,child:[{type:"Image",props:{width:463,skin:"wxlocal/loadBg.png",sizeGrid:"0,1,0,1",height:18,centerX:0,bottom:0},compId:13},{type:"Image",props:{width:463,skin:"wxlocal/loadBar.png",sizeGrid:"0,1,0,1",height:18,centerX:0,bottom:0},compId:15,child:[{type:"Image",props:{width:463,var:"bar",skin:"wxlocal/loadBar.png",sizeGrid:"0,1,0,1",renderType:"mask",height:18,centerY:0,centerX:0},compId:16}]},{type:"Text",props:{y:145,x:478,var:"tPgs",valign:"middle",text:"100%",fontSize:25,font:"Microsoft YaHei",color:"#000000",bold:!0,align:"center",runtime:"laya.display.Text"},compId:17},{type:"Label",props:{width:250,var:"loadinglbl",valign:"middle",text:"加载中...",left:133,fontSize:25,font:"Microsoft YaHei",color:"#000000",bottom:30,align:"left"},compId:24},{type:"Animation",props:{y:157.5,x:104,visible:!1,var:"loadcricle",source:"wxlocal/loadcricle.ani",autoPlay:!0},compId:32},{type:"Image",props:{y:0,x:281,skin:"preload/jiazai.png"},compId:37}]},{type:"Box",props:{right:0,left:0,height:200,bottom:0,alpha:0},compId:27,child:[{type:"Label",props:{wordWrap:!1,width:134,valign:"top",text:"版本:",right:50,overflow:"scroll",height:46,fontSize:25,font:"Microsoft YaHei",color:"#000000",bottom:10,bold:!0,align:"left"},compId:22},{type:"Label",props:{wordWrap:!1,width:107,var:"version",valign:"top",text:"10",right:0,overflow:"scroll",height:46,fontSize:25,font:"Microsoft YaHei",color:"#000000",bottom:10,bold:!0,align:"left"},compId:23},{type:"Label",props:{width:750,valign:"middle",top:30,text:"抵制不良游戏，拒绝盗版游戏。注意自我保护，谨防受骗上当。",fontSize:23,color:"#000000",centerX:0,alpha:0,align:"center"},compId:25},{type:"Label",props:{width:750,valign:"middle",top:65,text:"适度游戏益脑，沉迷游戏伤身。合理安排时间，享受健康生活。",fontSize:23,color:"#000000",centerX:0,alpha:0,align:"center"},compId:28}]}],loadList:["wxlocal/beij.jpg","wxlocal/biaoti.png","wxlocal/loadBg.png","wxlocal/loadBar.png","wxlocal/loadcricle.ani","preload/jiazai.png"],loadList3D:[]},e.MoonLoadingUI=i,v("ui.wxlocal.MoonLoadingUI",i);class n extends Laya.Scene{constructor(){super()}createChildren(){super.createChildren(),this.createView(n.uiView)}}n.uiView={type:"Scene",props:{width:750,height:1334},compId:2,child:[{type:"Script",props:{runtime:"moon/Start.ts"},compId:8}],loadList:[],loadList3D:[]},e.StartUI=n,v("ui.wxlocal.StartUI",n)}(e.wxlocal||(e.wxlocal={}))}(e||(e={})),function(e){e[e.AD_VIDEO_LEVEL=0]="AD_VIDEO_LEVEL"}(t||(t={})),function(e){e[e.AD_BANNER_1=0]="AD_BANNER_1"}(i||(i={})),function(e){e[e.AD_BOX_DEFAULT=0]="AD_BOX_DEFAULT"}(n||(n={})),function(e){e[e.AD_INTERSTITIAL_LEVEL=0]="AD_INTERSTITIAL_LEVEL"}(a||(a={})),function(e){e[e.AD_GameBanner_LEVEL=0]="AD_GameBanner_LEVEL"}(o||(o={})),function(e){e[e.AD_GamePortal_1=0]="AD_GamePortal_1"}(s||(s={})),function(e){e[e.AD_CUSTOM_GUIDE=7]="AD_CUSTOM_GUIDE"}(r||(r={}));class I{}I.MAIN_RIGHT_AD=1,I.GUIDE_RIGHT_AD=2,I.BATTLE_LEFT_AD=3,I.RESULTS_MIDDLE_AD=4,I.RESULTS_RIGHT_AD=5;class _{static get(e){let t=this.pool.get(e);return null==t&&(t=new e,this.pool.set(e,t)),t}static contains(e){return-1!=this.pool.indexOf(e)}static remove(e){return this.pool.remove(e)}static clear(){this.pool.clear()}}_.pool=new class{constructor(){this.mValues=[],this.mKeys=[]}set(e,t){let i=this.indexOf(e);i>=0?this.mValues[i]=t:(this.mKeys.push(e),this.mValues.push(t))}indexOf(e){let t=this.mKeys.indexOf(e);return t>=0?t:(e="string"==typeof e?Number(e):"number"==typeof e?e.toString():e,this.mKeys.indexOf(e))}get(e){let t=this.indexOf(e);return t<0?null:this.mValues[t]}remove(e){let t=this.indexOf(e);return t>=0&&(this.mKeys.splice(t,1),this.mValues.splice(t,1),!0)}clear(){this.mValues.length=0,this.mKeys.length=0}values(){return this.mValues}keys(){return this.mKeys}};class A{constructor(){this.mTable={},this.mCount=0}get table(){return this.mTable}add(e,t){return!this.containsKey(e)&&(this.mCount++,this.mTable[e]=t,!0)}remove(e){return!!this.containsKey(e)&&(this.mCount--,delete this.mTable[e],!0)}keys(){let e=new Array;for(let t in this.mTable)e.push(t);return e}containsKey(e){return this.mTable.hasOwnProperty(e)}values(){let e=new Array;for(let t in this.mTable)e.push(this.mTable[t]);return e}containesValue(e){for(let t in this.mTable)if(this.mTable[t]==e)return!0;return!1}get count(){return this.mCount}get(e){return this.mTable[e]}set(e,t){this.mTable[e]=t}clear(){this.mTable={},this.mCount=0}toString(){let e="{";for(let t in this.mTable)e+=`\n\t${t} : ${this.mTable[t]}`;return e+"\n}"}}class S{constructor(){this.mArray=[]}get array(){return this.mArray}get count(){return this.mArray.length}add(e){this.mArray.push(e)}unshift(e){this.mArray.unshift(e)}addRange(e){if(e)for(let t of e)this.mArray.push(t)}remove(e){let t=this.mArray.indexOf(e);return t>=0&&this.mArray.splice(t,1),!1}removeAt(e){return e<0||e>=this.mArray.length?(console.error("list removeAt error, index:",e,"this.mArray.length:",this.mArray.length),!1):(this.mArray.splice(e,1),!0)}removeRange(e,t){if(e<0||e>=this.mArray.length)return!1;let i=t+e;return i<0||i>this.mArray.length?(console.error("list removerange error,startIndex:",e,"removeCount:",t,"endIndex:",i),!1):(this.mArray.splice(e,t),!0)}indexOf(e){return this.mArray.indexOf(e)}lastIndexOf(e,t){return this.mArray.lastIndexOf(e,t)}get(e){if(!(e<0||e>=this.mArray.length))return this.mArray[e]}pop(){if(0!=this.mArray.length)return this.mArray.pop()}popFront(){if(0!=this.mArray.length)return this.mArray.shift()}contains(e){return this.mArray.indexOf(e)>=0}sort(e){e&&this.mArray.sort(e)}clear(){this.mArray.splice(0)}reverse(){this.mArray.reverse()}toString(){return"["+this.mArray.join(",")+"]"}toStringSymbol(e){return this.mArray.join(e)}removeFrom(e,t){this.mArray.splice(e,t)}length(){return this.mArray.length}}class b{constructor(e,t){this.eAction=t,this.eCaller=e}invoke(e){this.eAction&&this.eAction.call(this.eCaller,e)}equal(e,t){return this.eCaller==e&&this.eAction==t}}class L{constructor(){this.events=new S}indexOf(e,t){for(let i=0;i<this.events.count;i++){if(this.events.get(i).equal(e,t))return i}return-1}addEntity(e){this.events.add(e)}add(e,t){let i=new b(e,t);this.events.add(i)}remove(e,t){let i=this.indexOf(e,t);i>=0&&this.events.removeAt(i)}invoke(e){this.events.array.forEach((t,i)=>{t.invoke(e)})}Clear(){this.events.clear()}Dispose(){this.events=null}}class x{constructor(){this.dicEvent=new A}addEntityListener(e){let t=this.dicEvent.get(e.stringID);null==t&&(t=new L,this.dicEvent.add(e.stringID,t)),t.addEntity(e)}addListener(e,t,i){let n=this.dicEvent.get(e);null==n&&(n=new L,this.dicEvent.add(e,n)),n.add(t,i)}removeListener(e,t,i){let n=this.dicEvent.get(e);null!=n&&n.remove(t,i)}triggerListener(e,t){let i=this.dicEvent.get(e);null!=i&&i.invoke(t)}clearListener(e){let t=this.dicEvent.get(e);null!=t&&t.Dispose(),this.dicEvent.remove(e)}clearAllListener(){for(let e in this.dicEvent.table)this.dicEvent.table[e].Clear();this.dicEvent.clear()}}class M{}class k{constructor(){this.TimeOut=5e3,this.httpEventId="HttpMgr_Event_Result",this.event=new x}static get instance(){return k.getInstance()}static getInstance(){return null==k.mInstance&&(k.mInstance=new k),k.mInstance}post(e,t,i="json"){this.createHttpRequest(e).send(e,JSON.stringify(t),"post",i,["Content-Type","application/json"])}get(e,t="json",i){Laya.Browser.onVVMiniGame?window.qg.request({url:e,dataType:t,method:"GET",success:t=>{this.onComplete(e,t.data)},fail:(t,i)=>{let n={error:t,code:i};this.onError(e,n)}}):i?this.createHttpRequest(e).send(e,void 0,"get",t,i):this.createHttpRequest(e).send(e,void 0,"get",t)}createHttpRequest(e){let t=new Laya.HttpRequest;return t.http.timeout=this.TimeOut,t.once(Laya.Event.COMPLETE,this,this.onComplete,[e]),t.once(Laya.Event.ERROR,this,this.onError,[e]),t}onComplete(e,t){this.triggerListener(e,!0,t)}onError(e,t){this.triggerListener(e,!1,t)}triggerListener(e,t,i){let n=new M;n.url=e,n.result=t,n.data=i,this.event.triggerListener(this.httpEventId,n)}addListener(e,t){this.event.addListener(this.httpEventId,e,t)}removeListener(e,t){this.event.removeListener(this.httpEventId,e,t)}}class C{}C.LANG_DEFAULT="zh_cn",C.LANG_ZH_CN="zh_cn",C.LANG_ZH_TW="zh_tw",C.LANG_EN_US="en_us",C.LANG_HI_IN="hi_in",function(e){e[e.debug=0]="debug",e[e.log=1]="log",e[e.info=2]="info",e[e.warn=3]="warn",e[e.error=4]="error",e[e.none=5]="none"}(l||(l={})),function(e){e[e.dont=0]="dont",e[e.need=1]="need",e[e.must=2]="must"}(h||(h={}));class E{constructor(){this.video=[],this.banner=[],this.box=[],this.interstitial=[],this.gameportal=[],this.gameicon=[],this.gamebanner=[],this.custom=[]}}class N{constructor(){this.gamesBasePath="https://upcdn.ouku3.com/jumpto",this.basePath=[],this.ucenter="",this.matrixUrl="",this.reportUrl="",this.gms="",this.version=0,this.appId="",this.gamekey="",this.ad=null,this.jumptoGameList=[],this.lang=C.LANG_ZH_CN,this.needGetGamelist=!1,this.needGetSwitchList=!1,this.needOKStatis=!1,this.pkg="",this.app_key="",this.needAdConfFromServer=!1,this.api_gamelist="",this.logLevel=l.info,this.games_ald_ouku=!0,this.bbbsReportItemMap={},this.reportAld=!0,this.showVideo=!0,this.gamePortalAd="",this.ucenter="https://ucenter.ouku3.com",this.matrixUrl="https://taurus2.ouku3.com",this.reportUrl="https://taurus2-server.uc10d.com",this.gms="wss://party-server.ouku3.com",this.api_gamelist="/api/games/list",this.version=100,this.ad=new E,this.needAdConfFromServer=!1,this.loginLevel=h.need,this.needGetGamelist=!0,this.logLevel=l.info,this.games_ald_ouku=!0}}class V{constructor(){this.mIsDebug=!1,this.mIsGetAdConf=!1}get IsDebug(){return this.mIsDebug}getConf(){let e=this.mConfWeb;return Laya.Browser.onMiniGame?"object"==typeof tt?e=this.mConfTT:(e=this.mConfWX).needGetGamelist:Laya.Browser.onQQMiniGame?e=this.mConfQQ:Laya.Browser.onVVMiniGame?e=this.mConfVV:Laya.Browser.onQGMiniGame?e=this.mConfQG:Laya.Browser.onTTMiniGame?e=this.mConfTT:"object"==typeof OPPO?e=this.mConfOPPOH5:"object"==typeof FBInstant?"undefined"!=typeof minigame?(console.log("youwei11环境"),e=this.mConfWeiyou):(console.log("fb环境"),e=this.mConfFB):Laya.Render.isConchApp&&(Laya.Browser.onAndroid?e=this.mConfAndroid:Laya.Browser.onIOS&&(e=this.mConfiOS)),e?e.needAdConfFromServer&&!this.mIsGetAdConf&&this.getAdFromServer(e):console.error("conf is not init!"),console.log(e),e}getAdFromServer(e){k.instance.addListener(this,this.onSynCompleteAd);let t={action:9e3,gamekey:e.gamekey};k.instance.post(e.ucenter,t)}onSynCompleteAd(e){if(e.result&&0===e.data.code){this.mIsGetAdConf=!0;let t=e.data.adverts;this.setAdConfFromServer(t)}k.instance.removeListener(this,this.onSynCompleteAd)}setAdConfFromServer(e){e&&(e.video&&e.video.length>0&&0==this.getConf().ad.video.length&&(this.getConf().ad.video=e.video),e.banner&&e.banner.length>0&&0==this.getConf().ad.banner.length&&(this.getConf().ad.banner=e.banner),e.interstitial&&e.interstitial.length>0&&0==this.getConf().ad.interstitial.length&&(this.getConf().ad.interstitial=e.interstitial))}}class T{}T.ConfOK=new class extends N{constructor(){super(),this.basePath=[],this.version=106,this.appId="wx219a2bf962b528fa",this.gamekey="56-1-1-1-1",this.ad.video=["adunit-d4f663f71add299c"],this.ad.banner=["adunit-ee9bb97ead296acf"],this.ad.interstitial=["adunit-f8a9a3d7c14a5117"],this.ad.custom=["adunit-87cc63a8e760a93a","adunit-759fb7232b4d4db9","adunit-87cc63a8e760a93a","adunit-759fb7232b4d4db9","","adunit-9410f4590f71aef7","adunit-9ab0898fbe76d16b","adunit-87cc63a8e760a93a"],this.needGetGamelist=!0,this.needGetSwitchList=!0,this.needOKStatis=!0}};class D{}D.ConfOK=new class extends N{constructor(){super(),this.basePath=["https://upcdn.ouku3.com/develop/qqgame/snowball/","https://upcdn.ouku3.com/develop/qqgame/snowball/","https://upcdn.ouku3.com/develop/qqgame/snowball/"],this.version=109,this.appId="1110152385",this.gamekey="7-2",this.ad.video=["77c12c3c8649e00ac2fb10f02262eeeb","a9a03ebc342d2b045a39f3526059aede","73f418fc39797d7c8f553ca36b4e5dd0","b95b3924cbca82e747325fa2013dcee5"],this.ad.banner=["21965f66f61c860b130f4cbfde545dca","953a7e9fc25a249f4b07b8a64de0f455","2eca98b1a2bb57e2febe3c253e74bd78"],this.ad.box=["8919cde7eb6d3cb46cfdf06aec324c20"]}};class B{}B.ConfOK=new class extends N{constructor(){super(),this.basePath=["https://upcdn.ouku3.com/develop/ttgame/snowball/","https://upcdn.ouku3.com/develop/ttgame/snowball/","https://upcdn.ouku3.com/develop/ttgame/snowball/"],this.version=109,this.appId="tt1f2b699680011de5",this.gamekey="7-3",this.ad.video=["mwlmpd208k287ci7nt","4axu9w0c3p715a68c6","180kmdmn6e9f7aea78","27gg16d55d9d2ek8pr"],this.ad.banner=["f2crgd7nceb17hjkfb","489003oa98gd30kaik","1h1b249i0hije0182g"],this.ad.interstitial=["pdn4f17974b9b3aai1"]}};class G{}G.ConfOK=new class extends N{constructor(){super(),this.basePath=[],this.version=100,this.gamekey="56-309-309-100-1",this.loginLevel=h.dont,this.needOKStatis=!0,this.jumptoGameList=[{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:20,appName:"夺宝猎人",icon:"10",appId:"wxedebed20b3c68037",path:"",gamekey:"10-1"},{index:22,appName:"垃圾挑战",icon:"21",appId:"wxe59c43e3e8de5c14",path:"",gamekey:"21-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"},{index:18,appName:"守护雅典娜",icon:"7",appId:"wx0f488cdf10253325",path:"",gamekey:"7-1"},{index:19,appName:"我是弹弹高手",icon:"9",appId:"wxfa487b58a1f4b81e",path:"",gamekey:"9-1"}]}};class P{}P.ConfOK=new class extends N{constructor(){super(),this.version=111,this.appId="30549339",this.gamekey="56-6-6-1-1",this.ad.video=["334671"],this.ad.banner=["334669"],this.ad.interstitial=[],this.ad.gameportal=["334672","334672","339535","339536"],this.needAdConfFromServer=!1,this.needGetGamelist=!1,this.needGetSwitchList=!0,this.needOKStatis=!0}};class R{}R.ConfOK=new class extends N{constructor(){super(),this.version=106,this.appId="105487990",this.gamekey="56-5-5-1-1",this.ad.video=["115b0af9a6e54ef78205c0dabad5b2f4"],this.ad.banner=["0235c52b7ed0464795bc2fdcae777dc5"],this.ad.interstitial=["d0a73c60260c431f9d2f410be1411efb"],this.ad.gameportal=["6ffd23bbc11c48bba1a439045a6c2042","6ffd23bbc11c48bba1a439045a6c2042","f687af60f2ef4078a131c3cf049699d6","afe78c34ad974f5c9f9156deb076642c"],this.needAdConfFromServer=!1,this.needGetGamelist=!1,this.needGetSwitchList=!0,this.needOKStatis=!0,this.pkg="com.ouku.runrun2.vivominigame",this.app_key="4055613dc9b5638e7acd95af9b60885c"}};class O{}O.ConfOK=new class extends N{constructor(){super(),this.basePath=[],this.version=100,this.gamekey="56-299-299-100-1",this.needOKStatis=!0,this.loginLevel=h.dont,window.gamekey&&(this.gamekey=window.gamekey)}};class Y{}Y.ConfOK=new class extends N{constructor(){super(),this.basePath=[],this.version=100,this.gamekey="56-309-309-100-1",this.needOKStatis=!0,this.loginLevel=h.dont}};class X extends V{static get I(){return _.get(X)}constructor(){super(),this.mConfWeb=G.ConfOK,this.mConfWX=T.ConfOK,this.mConfQQ=D.ConfOK,this.mConfTT=B.ConfOK,this.mConfQG=P.ConfOK,this.mConfVV=R.ConfOK,this.mConfAndroid=O.ConfOK,this.mConfWeiyou=Y.ConfOK}}class U{}U.MAIN_LEFT_AD=1,U.MAIN_RIGHT_AD=2,U.RESULT_PASS_AD=3,U.RESULT_FRIEND_AD=4,U.RESULT_HOT_AD=5,U.BOX_AD=6,U.SHIP_OTHER=999;class z{}z.MAIN_TOP_AD=1,z.BATTLE_LEFT_AD=2,z.MAIN_RIGHT_AD=3;class F{}F.SKIP_OTHER=0,F.MAIN_LEFT_AD=1,F.MAIN_RIGHT_AD=2,F.MAIN_ICON_AD=3,F.BATTLE_AD=4,F.RESULT_TOP_AD=5,F.RESULT_RIGHT_AD=6;class H{}H.MATRIX_TYPE_SHOW=1,H.MATRIX_TYPE_CLIK=2,H.MATRIX_TYPE_ACT=3,H.MATRIX_TYPE_JUMP=4,function(e){e[e.Failed=0]="Failed",e[e.Normal=1]="Normal",e[e.Jump=2]="Jump"}(d||(d={})),function(e){e[e.AD_GAME_PORTAL_1=0]="AD_GAME_PORTAL_1",e[e.AD_GAME_PORTAL_HENG=1]="AD_GAME_PORTAL_HENG",e[e.AD_GAME_NATIVE=2]="AD_GAME_NATIVE",e[e.AD_GAME_SINGLE_NATIVE=3]="AD_GAME_SINGLE_NATIVE"}(c||(c={})),function(e){e[e.AD_CUSTOM_MAIN=0]="AD_CUSTOM_MAIN",e[e.AD_CUSTOM_MAIN_SINGLE_LEFT=1]="AD_CUSTOM_MAIN_SINGLE_LEFT",e[e.AD_CUSTOM_SINGLE_RIFHT2=2]="AD_CUSTOM_SINGLE_RIFHT2",e[e.AD_CUSTOM_SINGLE_LEFT=3]="AD_CUSTOM_SINGLE_LEFT",e[e.AD_CUSTOM_TOP=4]="AD_CUSTOM_TOP",e[e.AD_CUSTOM_MAIN_RIGHT=5]="AD_CUSTOM_MAIN_RIGHT",e[e.AD_CUSTOM_MAIN_MATRIX=6]="AD_CUSTOM_MAIN_MATRIX"}(p||(p={})),function(e){e[e.IMG=0]="IMG",e[e.ICON=1]="ICON"}(g||(g={}));class K{constructor(){this.uid="",this.encryptedData="",this.iv="",this.openid="",this.ip="",this.inviter_gid="",this.oToken=""}static get instance(){return _.get(K)}}class W{static clamp(e,t,i){return e>i?i:e<t?t:e}static clamp01(e){return W.clamp(e,0,1)}static lerp(e,t,i){return i>0&&i<1?(t-e)*i+e:i<=0?e:t}static random(e,t){return Math.round(Math.random()*(t-e))+e}static randomFloat(e,t){return Math.random()*(t-e)+e}static similar(e,t,i=.1){let n=e-t;return n>-i&&n<i}static isInRegion(e,t){let i,n,a,o,s,r,l=0,h=t.length;for(let d=0;d<h;d++){if(e.x==t[d].x&&e.y==t[d].y)return!0;if(i=t[d%h],n=t[(d+1)%h],a=i.x,s=n.x,(o=i.y)==(r=n.y))continue;if(e.y<Math.min(o,r))continue;if(e.y>Math.max(o,r))continue;s-(s-a)*(r-e.y)/(r-o)<e.x||l++}return l%2==1}static get2VectorAngle(e,t){let i=e.x*t.x+e.y*t.y,n=Math.sqrt(e.x*e.x+e.y*e.y)*Math.sqrt(t.x*t.x+t.y*t.y);return 0!=n?i/n:0}static getAngleByVector(e,t){if(0===t){if(e<0)return 270;if(e>=0)return 90}if(0===e)return t>=0?0:180;let i=Math.abs(t)/Math.abs(e),n=0;return t>0&&e<0?n=270+180*Math.atan(i)/Math.PI:t>0&&e>0?n=90-180*Math.atan(i)/Math.PI:t<0&&e<0?n=270-180*Math.atan(i)/Math.PI:t<0&&e>0&&(n=90+180*Math.atan(i)/Math.PI),n}static changeAngle(e,t,i){let n,a,o,s,r,l,h,d,c,p;return n=Math.cos(.5*i),a=Math.sin(.5*i),r=Math.cos(.5*t),{qx:d=n*(l=Math.sin(.5*t))*(o=Math.cos(.5*e))+a*r*(s=Math.sin(.5*e)),qy:c=n*r*s-a*l*o,qz:p=a*r*o-n*l*s,qw:h=n*r*o+a*l*s}}static getRandomArray(e,t,i){const n=[];for(let i=e;i<=t;i++)n.push(i);const a=[],o=n.length>=i?i:n.length;for(let e=0;e<=o-1;e++){const e=Math.floor(Math.random()*n.length);a.push(n[e]),n.splice(e,1)}return a}static randomArray(e,t=5){let i=e.length;for(;0!=t;){t--;let n=W.random(0,i-1),a=W.random(0,i-1),o=e[n];e[n]=e[a],e[a]=o}}static angle2rad(e){return.017453293*e}static rad2angle(e){return e/.017453293}static get2DAngle(e,t,i,n){let a=i-e,o=n-t;if(0===o){if(a<0)return 270;if(a>=0)return 90}if(0===a){if(o>=0)return 0;if(o<0)return 180}let s=0;return 0!=a&&(s=Math.atan(o/a)/Math.PI*180),a<0&&(s+=180),s<0&&(s+=360),s}static getNewUuid(){return++W.globalId}static plucker(e,t){return[e[0]*t[1]-t[0]*e[1],e[0]*t[2]-t[0]*e[2],e[0]-t[0],e[1]*t[2]-t[1]*e[2],e[2]-t[2],t[1]-e[1]]}static sideOp(e,t){return e[0]*t[4]+e[1]*t[5]+e[2]*t[3]+e[3]*t[2]+e[4]*t[0]+e[5]*t[1]}static checkLineAndTriangle(e,t,i,n,a){let o=this.plucker(n,i),s=this.plucker(a,n),r=this.plucker(i,a),l=this.plucker(e,t),h=this.sideOp(l,o),d=this.sideOp(l,s),c=this.sideOp(l,r);return 0==h&&0==d&&0==c?1:h>0&&d>0&&c>0||h<0&&d<0&&c<0?2:0==h&&d*c>0||0==d&&h*c>0||0==c&&h*d>0?3:0==h&&0==d||0==h&&0==c||0==d&&0==c?4:0}static CROSS(e,t,i){e[0]=t[1]*i[2]-t[2]*i[1],e[1]=t[2]*i[0]-t[0]*i[2],e[2]=t[0]*i[1]-t[1]*i[0]}static DOT(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}static SUB(e,t,i){e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2]}static intersect_triangle(e,t,i,n,a){let o=[],s=[],r=[],l=[],h=[];this.SUB(o,n,i),this.SUB(s,a,i),this.CROSS(l,t,s);let d=this.DOT(o,l);if(d>-W.EPSILON&&d<W.EPSILON)return[];let c=1/d;this.SUB(r,e,i);let p=this.DOT(r,l)*c;if(p<0||p>1)return[];this.CROSS(h,r,o);let g=this.DOT(t,h)*c;return g<0||p+g>1?[]:[this.DOT(s,h)*c,p,g]}}W.globalId=Math.floor(516*Math.random()),W.EPSILON=1e-10;class q{}q.MATRIX_LIST="/matrix/matrix-list",q.SKIP_STATISTICS="/api/report/matrix-data",q.AD_SWITCH_LIST="/matrix/adSwitch/list",q.DATA_STATISTICS="/api/report/log";class j{static debug(e,...t){X.I.getConf().logLevel<=l.debug&&console.debug(e,...t)}static log(e,...t){X.I.getConf().logLevel<=l.log&&console.log(e,...t)}static info(e,...t){X.I.getConf().logLevel<=l.info&&console.info(e,...t)}static warn(e,...t){X.I.getConf().logLevel<=l.warn&&console.warn(e,...t)}static error(e,...t){X.I.getConf().logLevel<=l.error&&console.error(e,...t)}}class Q{constructor(){this.mCount=0,this.mTable={}}get table(){return this.mTable}add(e,t){return this.containsKey(e)?(j.error("DictionaryNum Add error,same key already exist:",e),!1):(this.mCount++,this.mTable[e]=t,!0)}remove(e){return!!this.containsKey(e)&&(this.mCount--,delete this.mTable[e],!0)}keys(){let e=new Array;for(let t in this.mTable)e.push(Number(t));return e}containsKey(e){return this.mTable.hasOwnProperty(e.toString())}values(){let e=new Array;for(let t in this.mTable)e.push(this.mTable[t]);return e}containesValue(e){for(let t in this.mTable)if(this.mTable[t]==e)return!0;return!1}get count(){return this.mCount}get(e){return this.mTable[e]}set(e,t){this.mTable[e]=t}clear(){this.mTable={},this.mCount=0}toString(){let e="{";for(let t in this.mTable)e+=`\n\t${t} : ${this.mTable[t]}`;return e+"\n}"}}class ${constructor(){this.dicEvent=new Q}addEntityListener(e){let t=this.dicEvent.get(e.numberID);null==t&&(t=new L,this.dicEvent.add(e.numberID,t)),t.addEntity(e)}addListener(e,t,i){let n=this.dicEvent.get(e);null==n&&(n=new L,this.dicEvent.add(e,n)),n.add(t,i)}removeListener(e,t,i){let n=this.dicEvent.get(e);null!=n&&n.remove(t,i)}triggerListener(e,t){let i=this.dicEvent.get(e);null!=i&&i.invoke(t)}clearListener(e){let t=this.dicEvent.get(e);null!=t&&t.Dispose(),this.dicEvent.remove(e)}clearAllListener(){for(let e in this.dicEvent.table)this.dicEvent.table[e].Clear();this.dicEvent.clear()}}class Z{constructor(){this.triggerLock=!1,this.addList=new S,this.removeList=new S,this.triggerList=new S,this.numDispatcher=new $,this.strDispatcher=new x}static get instance(){return Z.getInstance()}static getInstance(){return null==Z.mInstance&&(Z.mInstance=new Z),Z.mInstance}addListener(e,t,i){if(this.triggerLock){let n=new b(t,i);return"number"==typeof e?n.numberID=e:"string"==typeof e&&(n.stringID=e),void this.addList.add(n)}"number"==typeof e?this.numDispatcher.addListener(e,t,i):"string"==typeof e&&this.strDispatcher.addListener(e,t,i)}removeListener(e,t,i){if(this.triggerLock){let n=new b(t,i);return"number"==typeof e?n.numberID=e:"string"==typeof e&&(n.stringID=e),void this.removeList.add(n)}"number"==typeof e?this.numDispatcher.removeListener(e,t,i):"string"==typeof e&&this.strDispatcher.removeListener(e,t,i)}triggerListener(e,t){if(this.triggerLock){let i=new b(null,null);return i.args=t,"number"==typeof e?i.numberID=e:"string"==typeof e&&(i.stringID=e),void this.triggerList.add(i)}this.triggerLock=!0,"number"==typeof e?this.numDispatcher.triggerListener(e,t):"string"==typeof e&&this.strDispatcher.triggerListener(e,t),this.triggerLock=!1,this.afterTrigger()}afterTrigger(){for(let e=0;e<this.removeList.count;e++){let t=this.removeList.get(e);t.stringID?this.strDispatcher.removeListener(t.stringID,t.eCaller,t.eAction):this.numDispatcher.removeListener(t.numberID,t.eCaller,t.eAction)}this.removeList.clear();for(let e=0;e<this.addList.count;e++){let t=this.addList.get(e);t.stringID?this.strDispatcher.addEntityListener(t):this.numDispatcher.addEntityListener(t)}this.addList.clear(),this.triggerLock=!0;let e=this.triggerList.count;for(let t=0;t<e;t++){let e=this.triggerList.get(t);e.stringID?this.strDispatcher.triggerListener(e.stringID,e.args):this.numDispatcher.triggerListener(e.numberID,e.args)}this.triggerList.removeFrom(0,e),this.triggerLock=!1,(this.triggerList.count>0||this.removeList.count>0||this.addList.count>0)&&this.afterTrigger()}clearListener(e){"number"==typeof e?this.numDispatcher.clearListener(e):"string"==typeof e&&this.strDispatcher.clearListener(e)}}class J{constructor(){Laya.Browser.onMiniGame?"object"==typeof tt?this.mSdk=window.tt:this.mSdk=window.wx:Laya.Browser.onQQMiniGame?this.mSdk=window.qq:(Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame)&&(this.mSdk=window.qg)}static get I(){return _.get(J)}getSDK(){return this.mSdk}registerBGEvent(){this.mSdk?(this.mSdk.onHide(e=>{Z.instance.triggerListener(J.GameOnHideEvent,e)}),this.mSdk.onShow(e=>{Z.instance.triggerListener(J.GameOnShowEvent,e)})):Laya.stage.on(Laya.Event.VISIBILITY_CHANGE,this,this.onVisiblityEvent)}onVisiblityEvent(){Laya.stage.isVisibility?Z.instance.triggerListener(J.GameOnShowEvent):Z.instance.triggerListener(J.GameOnHideEvent)}}J.GameOnShowEvent="GameOnShowEvent",J.GameOnHideEvent="GameOnHideEvent";class ee{}ee.GAME_SDK_CONFIG="GAME_SDK_CONFIG";class te{constructor(){this.init=!1,"undefined"!=typeof YDSDK&&(this.init=!0)}static get I(){return _.get(te)}start(){this.init&&YDSDK.start()}load(){this.init&&YDSDK.load({onSuccess:e=>{Z.instance.triggerListener(ee.GAME_SDK_CONFIG,e)}})}onGameShowEvent(e){this.init&&YDSDK.onShow()}onGameHideEvent(e){this.init&&YDSDK.onHide()}onShare(){this.init&&YDSDK.onShare({})}onLevelStatistics(e){this.init&&YDSDK.onLevelStatistics({guanqia:e.guanqia,type:e.type})}onWeidu(e){this.init&&YDSDK.onWeidu({weidu:e.weidu})}onEvent(e){this.init&&YDSDK.onEvent(e)}getSaleData(){this.init&&YDSDK.getSaleData((e,t)=>{console.log("YDSDK.getSaleData"),console.log(e),console.log(t),console.log(t.isOpenSale),console.log(t.saleData);let i=X.I.getConf();if(i.jumptoGameList=[],e&&t.isOpenSale)for(let e of t.saleData){console.log(e);let t={};t.appId=e.bAppid,t.appName=e.bName,e.piList[0].btitle&&""!=e.piList[0].btitle&&(t.appName=e.piList[0].btitle),t.icon=e.piList[0].bIcon,t.path=e.piList[0].bPath,t.page=e.lcList[0].p,t.grid=e.lcList[0].gList[0].g,t.iconId=e.lcList[0].gList[0].idx,i.jumptoGameList.push(t)}})}onSaleActionUpLoad(e,t){this.init&&YDSDK.onSaleActionUpLoad(e.page,e.grid,e.iconid,e.appid,t)}}class ie{static get I(){return _.get(ie)}constructor(){Z.instance.addListener(J.GameOnShowEvent,this,this.onGameShowEvent),Z.instance.addListener(J.GameOnHideEvent,this,this.onGameHideEvent)}start(){te.I.start(),this.onEvent({event:"game_start",time:Date.now(),scene:"load_scene"})}load(){te.I.load()}onGameShowEvent(e){te.I.onGameShowEvent(e)}onGameHideEvent(e){te.I.onGameHideEvent(e)}onShare(){te.I.onShare()}onLevelStatistics(e){te.I.onLevelStatistics(e)}onWeidu(e){te.I.onWeidu(e)}onEvent(e){te.I.onEvent(e)}getSaleData(){te.I.getSaleData()}onSaleActionUpLoad(e,t){te.I.onSaleActionUpLoad(e,t)}}!function(e){e[e.INIT=100]="INIT",e[e.VIEW_LOADING=101]="VIEW_LOADING",e[e.VIEW_INDEX=102]="VIEW_INDEX",e[e.LOGIN_SUCCESS=103]="LOGIN_SUCCESS",e[e.LV_START=200]="LV_START",e[e.LV_END=201]="LV_END",e[e.LV_TIP=202]="LV_TIP",e[e.LV_START2=203]="LV_START2",e[e.LV_END2=204]="LV_END2",e[e.LV_SKIP=205]="LV_SKIP",e[e.LV_RELIVE=206]="LV_RELIVE",e[e.ONLINE_TIME=300]="ONLINE_TIME"}(m||(m={}));class ne{static getOrAddComponent(e,t){let i=e.getComponent(t);return null==i&&(i=e.addComponent(t)),i}static removeComponent(e,t){let i=e.getComponent(t);null!=i&&i.destroy()}static isNullOrEmpty(e){return null==e||"string"==typeof e&&""===e}static getChildByName(e,t){if(!t||0==t.length)return null;let i=e,n=null;for(let e=0;e<t.length;e++){let a=t[e];if(null==(n=i.getChildByName(a)))return null;i=n}return n}}class ae{constructor(){this.D=["","K","M","B","T","P","E","Z","Y","S"],this.DLen={K:3,M:6,B:9,T:12,P:15,E:18,Z:21,Y:24,S:27},this.arr=[],this.len=0}setByShortString(e){let t,i=e.length,n=i-1,a=0;if(this.arr=[],e.charCodeAt(n)>57){for(t=e.charAt(n),n=0,a=this.DLen[t];n<a;n++)this.arr.push(0);if(n=i-3,46==e.charCodeAt(n))for(this.arr[a-1]=parseInt(e.charAt(i-2));n--;)this.arr.push(parseInt(e.charAt(n)));else for(n=i-1;n--;)this.arr.push(parseInt(e.charAt(n)))}else if(n=i-2,46==e.charCodeAt(n))for(;n--;)this.arr.push(parseInt(e.charAt(n)));else for(n=i;n--;)this.arr.push(parseInt(e.charAt(n)));return this.len=this.arr.length,this}plus(e){let t=[],i=0,n=Math.max(e.len,this.len),a=0,o=0;for(;o<n;o++)a=i,o<this.len&&(a+=this.arr[o]),o<e.len&&(a+=e.arr[o]),a>9?(i=1,a-=10):i=0,t.push(a);return 0!=i&&t.push(i),this.arr=t,this.len=this.arr.length,this}minus(e){let t=[],i=0;if(e.len>this.len||e.len==this.len&&this.arr[this.len-1]<e.arr[this.len-1])t.push(0);else{let n=0,a=this.len,o=0;for(;i<a&&(o=this.arr[i],o-=n,i<e.len&&(o-=e.arr[i]),o<0?(n=1,o+=10):n=0,!(o<0));i++)t.push(o);0!=n&&(t=[0])}i=this.len=t.length;let n=-1;for(;i--&&0==t[i];)n=Math.max(1,i);return n>=0&&t.splice(n,this.len-n),this.arr=t,this.len=this.arr.length,this}multBigUInt(e){ae.biR.zero();let t=0;for(;t<e.len;t++)ae.bi1.copy(this),ae.bi1.mult(e.arr[t]),ae.bi1.mult10(t),ae.biR.plus(ae.bi1);return this.copy(ae.biR),this}mult2(e){let t=e+"",i=t.length,n=0;for(ae.biR.zero();i--;)ae.bi1.copy(this),ae.bi1.mult(parseInt(t.charAt(i))),ae.bi1.mult10(n++),ae.biR.plus(ae.bi1);return this.copy(ae.biR),this}mult(e){let t=[],i=0,n=0,a=0;for(a=0;a<this.len;a++)(n=this.arr[a]*e+i)>9?(i=Math.floor(n/10),n%=10):i=0,t.push(n);return 0!=i&&t.push(i),this.arr=t,this.len=this.arr.length,this}mult10(e){for(void 0===e&&(e=1);e--;)this.arr.unshift(0);return this.len=this.arr.length,this}present100(e){return this.mult2(e).div10(2),this}div10(e){for(void 0===e&&(e=1);e--;)this.arr.shift();return this.len=this.arr.length,this.len<=0&&this.zero(),this}div(e){let t=!1,i=[],n=0,a=0,o=this.len,s=0;for(;o--;)s=10*n+this.arr[o],a=Math.floor(s/e),(t||a>0)&&(i.push(a),t=!0),n=s%e;return this.len=i.length,0==this.len?(this.arr=[0],this.len=1):(this.arr=i,this.arr.reverse()),this}divPresent(e){let t=this.len-e.len;if(t>=3)return 0;if(t<-3)return 10;let i=Math.max(this.len,e.len),n="",a="";for(t=Math.min(3,i);t--;)--i<this.len&&(n+=this.arr[i]),i<e.len&&(a+=e.arr[i]);return parseFloat(a)/parseFloat(n)}bigger(e){if(this.len>e.len)return!0;if(this.len<e.len)return!1;let t=this.len;for(;t--;){if(this.arr[t]>e.arr[t])return!0;if(this.arr[t]<e.arr[t])return!1}return!1}equal(e){if(this.len!=e.len)return!1;let t=this.len;for(;t--;)if(this.arr[t]!=e.arr[t])return!1;return!0}isZero(){return 1==this.len&&0==this.arr[0]}zero(){return this.arr=[0],this.len=1,this}one(){return this.arr=[1],this.len=1,this}getString(e){void 0===e&&(e="");let t=this.arr.concat();return t.reverse(),t.join(e)}getShortString(){let e=0,t=0,i="",n=0;if(1==(e=this.len)&&0==this.arr[0])return"0";for(t=e%3,n=Math.floor(e/3),0==t&&(t=3,n--),t=e-t;e-- >t;)i+=this.arr[e];return n>0&&this.arr[e]>0&&(i=i+"."+this.arr[e]),i+this.D[n]}getShortString2(){let e=0,t=0,i="",n=0;if(1==(e=this.len)&&0==this.arr[0])return"0";for(t=e%3,n=Math.floor(e/3),0==t&&(t=3,n--),t=e-t;e-- >t;)i+=this.arr[e];return n>0&&(this.arr[e]>0?(i=i+"."+this.arr[e],this.arr[e-1]>0&&(i+=this.arr[e-1])):this.arr[e-1]>0&&(i=i+"."+this.arr[e]+this.arr[e-1])),i+this.D[n]}clone(){let e=new ae;return e.arr=this.arr.concat(),e.len=this.len,e}copy(e){return this.arr=e.arr.concat(),this.len=e.len,this}}ae.bi1=new ae,ae.biR=new ae,ae.tmp=new ae;class oe{static getTimer(){return(new Date).getTime()}}oe.formatTimeMS=(e=>{let t="",i=Math.floor(e/60);return i<10&&(t+="0"),t+=i+":",(e%=60)<10&&(t+="0"),t+Math.floor(e)}),oe.get24=(()=>{let e=new Date;return e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.getTime()}),oe.getTimerOffset=(e=>{let t=new Date;return t.setDate(t.getDate()+e),t.getTime()});class se{static serialize(e,t){let i=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let a=t?`${t}[${n}]`:n,o=e[n];"object"==typeof o?i.push(this.serialize(o,a)):i.push(encodeURIComponent(a)+"="+encodeURIComponent(o))}return i.join("&")}static appendParams(e,t){if(0===Object.keys(t).length)return e;let i=e.match(/\?/)?"&":"?";return`${e}${i}${this.serialize(t)}`}static protocol(){return location.protocol.match(/^https/)?"wss":"ws"}static converGSSocket(e){return"/"!==e.charAt(0)?e:"/"===e.charAt(1)?`${se.protocol()}:${e}`:`${se.protocol()}://${location.host}${e}`}static initArgs(e){this.ucenter=e.ucenter,this.appId=e.appId,this.gsUrl=e.gsUrl,this.version=e.version,this.gamekey=e.gamekey}}class re{constructor(){this.report=!1}static get I(){return _.get(re)}init(){X.I.getConf().reportAld&&(Laya.Browser.onMiniGame&&window.wx.aldSendEvent||Laya.Browser.onQQMiniGame&&window.qq.aldSendEvent||(Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame)&&window.qg.aldSendEvent)?this.report=!0:this.report=!1}sendOpenid(e){this.report&&this.aldSendOpenid(e)}sendEvent(e,t){this.report&&this.aldSendEvent(e,t)}onStartLv(e,t){this.report&&this.aldOnStartLv(e,t)}onRunningLv(e,t,i,n){this.report&&this.aldOnRunningLv(e,t,i,n)}onEndLv(e,t){this.report&&this.aldOnEndLv(e,t)}onInitLevel(e,t,i){this.report&&this.aldOnInitLevel(e,t,i)}onSetLevel(e,t,i){this.report&&this.aldOnSetLevel(e,t,i)}aldSendOpenid(e){window.wx.aldSendOpenid(e)}aldSendEvent(e,t){window.wx.aldSendEvent(e,t)}aldOnStartLv(e,t){window.wx.aldStage.onStart({stageId:e,stageName:`第${e}关`,userId:t})}aldOnEndLv(e,t){window.wx.aldStage.onEnd({stageId:e,stageName:`第${e}关`,userId:t,event:"complete",params:{desc:"end"}})}aldOnRunningLv(e,t,i,n){window.wx.aldStage.onRunning({stageId:e,stageName:`第${e}关`,userId:n,event:t,params:{itemName:i}})}aldOnInitLevel(e,t,i){window.wx.aldLevel.onInitLevel({levelId:e,levelName:`第${e}级`,userId:i,userName:t})}aldOnSetLevel(e,t,i){window.wx.aldLevel.onSetLevel({levelId:e,levelName:`第${e}级`,userId:i,userName:t})}}re.RUNEVENT_RELIFE="复活",re.RELIFETYPE_VIDEO="视频复活",re.RELIFETYPE_SHARE="分享复活",re.RELIFETYPE_DIAMOND="钻石复活";class le{}le.INDEX_SHOW="首页曝光",le.LUCKYDRAW_SHOW="幸运转盘-弹窗曝光",le.LUCKYDRAW_CLICK="幸运转盘-抽奖按钮点击",le.GAME_SHOW="新游试玩-弹窗曝光",le.GAME_PLAY="新游试玩-",le.SIGNIN_SHOW="每日签到-弹窗曝光",le.SIGNIN_VIDEO="每日签到-视频领取",le.SIGNIN_CLICK="每日签到-直接领取",le.SERVICE_SHOW="每日钻石-弹窗曝光",le.SERVICE_BACKFLOW="每日钻石-用户回流",le.SERVICE_CLICK="每日钻石-领钻石按钮点击",le.INVITE_SHOW="邀请好礼-弹窗曝光",le.INVITE_CLICK="邀请好礼-邀请按钮点击",le.COLLECT_SHOW="收藏有礼-弹窗曝光",le.COLLECT_PROVIDE="收藏有礼-奖励发放",le.SUPPLY_VIDEO_COMPLETE="补给宝箱-激励视频播放成功",le.DAYCOIN_SHOW="每日金币-弹窗曝光",le.DAYCOIN_CLICK="每日金币-普通领取",le.DAYCOIN_SHARE="每日金币-分享领取",le.DAYCOIN_VIDEO="每日金币-视频领取",le.RANK_SHOW="好友排行-弹窗曝光",le.RANK_INVITE="好友排行-邀请好友按钮点击",le.RELIFE_SHOW="复活页-曝光",le.RELIFE_CLICK="复活页-复活按钮点击",le.RELIFE_GIVEUP="复活页-放弃复活按钮点击",le.RESULT_SHOW="结算页-曝光",le.RESULT_SUCCESS_CLICK="成功结算页-金币领取",le.RESULT_SUCCESS_GAME_SHOW="成功结算页-游戏推荐-大弹窗曝光",le.RESULT_SUCCESS_GAME_CLICK="成功结算页-游戏推荐-游戏名点击",le.RESULT_FAIL_CLICK="失败结算页-金币领取",le.RESULT_FAIL_SKIP="失败结算页-跳过本关",le.RESULT_FAIL_GAME_SHOW="失败结算页-游戏推荐-大弹窗曝光",le.RESULT_FAIL_GAME_CLICK="失败结算页-游戏推荐-游戏名点击",le.OFFLINE_SHOW="离线收益-弹窗曝光",le.OFFLINE_CLICK="离线收益-按钮点击",le.EXCHANGE_SHOW="兑换金币-弹窗曝光",le.EXCHANGE_CLICK="兑换金币-兑换按钮点击",le.EXCHANGE_CLICKALL="兑换金币-全部兑换按钮点击",le.GAME_BAT_BTN_FIREST_CLICK="进入游戏战斗按钮点击-等级1",le.GAME_BAT_BTN_CLICK="进入游戏战斗按钮点击",le.GAME_BAT_FIREST_SHOW="进入游戏战斗页面-等级1",le.GAME_BAT_SHOW="进入游戏战斗页面",le.COIN_GET="金币获得",le.COIN_USE="金币消耗",le.DIAMOND_GET="钻石获得",le.DIAMOND_USE="钻石消耗",le.MAID_AD_SHOW="导量位—首页跑马灯—曝光",le.MAID_AD_CLIK="导量位—首页跑马灯—点击",le.MAID_AD_ACT="导量位—首页跑马灯—促活",le.GAMEBOX_SHOW="导量位—新游试玩—曝光",le.GAMEBOX_CLIK="导量位—新游试玩—点击",le.GAMEBOX_ACT="导量位—新游试玩—促活",le.PASSLEVEL_SHOW="导量位—通关导量位—曝光",le.PASSLEVEL_CLICK="导量位—通关导量位—点击",le.PASSLEVEL_ACT="导量位—通关导量位—促活",le.RESAULT2_SHOW="导量位—插屏导量位—曝光",le.RESAULT2_CLICK="导量位—插屏导量位—点击",le.RESAULT2_ACT="导量位—插屏导量位—促活";class he{constructor(){this.mSaveKey="",this.mDataLocal=null,this.isSoundMute=!0,this.isMusicMute=!0,this.isVibrateMute=!0,this.coin=new ae,this.diamond=20,this.name="",this.level=1,this.logoutTime=0,this.offlineTime=-1,this.mSaveKey=he.ProductName,this.coin.setByShortString("0")}addCoinNum(e,t=!0){return ae.tmp.setByShortString(e.toString()),this.addCoin(ae.tmp,t)}addCoin(e,t=!0){return this.coin.plus(e),t&&this.save(),re.I.sendEvent(le.COIN_GET,e.getShortString()),!0}subCoinNum(e,t=!0){return ae.tmp.setByShortString(e.toString()),this.subCoin(ae.tmp,t)}subCoin(e,t=!0){return!(!this.coin.bigger(e)&&!this.coin.equal(e))&&(this.coin.minus(e),t&&this.save(),re.I.sendEvent(le.COIN_USE,e.getShortString()),!0)}addDiamondNum(e,t=!0){this.diamond+=e,t&&this.save(),re.I.sendEvent(le.DIAMOND_GET,e)}subDiamondNum(e,t=!0){return this.diamond>=e&&(this.diamond-=e,t&&this.save(),re.I.sendEvent(le.DIAMOND_USE,e),!0)}readLocal(e){let t="",i=null;Laya.LocalStorage.support&&(t+=Laya.LocalStorage.getItem(this.mSaveKey)),"{"==(t=unescape(t)).charAt(0)?this.mDataLocal=JSON.parse(t):this.mDataLocal={},ne.isNullOrEmpty(e)||(i=JSON.parse(e),ne.isNullOrEmpty(this.mDataLocal)?this.mDataLocal=i:!ne.isNullOrEmpty(this.mDataLocal.logoutTime)&&!ne.isNullOrEmpty(i.logoutTime)&&i.logoutTime>this.mDataLocal.logoutTime&&(this.mDataLocal=i)),this.applyLocal(),-1==this.offlineTime&&(this.offlineTime=oe.getTimer()-this.mDataLocal.logoutTime)}save(){this.mDataLocal={},this.saveLocal();let e=JSON.stringify(this.mDataLocal);Laya.LocalStorage.support&&Laya.LocalStorage.setItem(this.mSaveKey,e)}getLevel(){return this.level}getCurLevel(){return this.level-1}getCoin(){return this.coin.getString()}saveLocal(){this.mDataLocal.isSoundMute=this.isSoundMute,this.mDataLocal.isMusicMute=this.isMusicMute,this.mDataLocal.isVibrateMute=this.isVibrateMute,this.mDataLocal.logoutTime=oe.getTimer(),this.mDataLocal.coin=this.coin.getString(),this.mDataLocal.diamond=this.diamond,this.mDataLocal.name=this.name,this.mDataLocal.level=this.level}applyLocal(){ne.isNullOrEmpty(this.mDataLocal.isSoundMute)||(this.isSoundMute=this.mDataLocal.isSoundMute),ne.isNullOrEmpty(this.mDataLocal.isMusicMute)||(this.isMusicMute=this.mDataLocal.isMusicMute),ne.isNullOrEmpty(this.mDataLocal.isVibrateMute)||(this.isVibrateMute=this.mDataLocal.isVibrateMute),ne.isNullOrEmpty(this.mDataLocal.logoutTime)||(this.logoutTime=this.mDataLocal.logoutTime),ne.isNullOrEmpty(this.mDataLocal.coin)||this.coin.setByShortString(this.mDataLocal.coin),ne.isNullOrEmpty(this.mDataLocal.diamond)||(this.diamond=this.mDataLocal.diamond),ne.isNullOrEmpty(this.mDataLocal.name)||(this.name=this.mDataLocal.name),ne.isNullOrEmpty(this.mDataLocal.level)?this.level=1:this.level=this.mDataLocal.level}synService(){k.instance.addListener(this,this.onSynComplete);let e={action:1002,gamekey:se.gamekey,uid:K.instance.uid,data:JSON.stringify(this.mDataLocal)};k.instance.post(se.ucenter,e)}onSynComplete(e){e.data.code,k.instance.removeListener(this,this.onSynComplete)}}he.ProductName="moon";class de{constructor(){if(this.platformVersionCodeNumber=0,this.platformVersionCodeString="",this.isDY=!1,this.isTT=!1,this.isWx=!1,this.hasScreenFringe=!1,this.isIphoneX=!1,this.mStatusBarHeight=0,this.model="",this.version="",this.language="",this.sdk=J.I.getSDK(),null==this.sdk)return;if(!this.sdk.getSystemInfoSync)return;let e=this.sdk.getSystemInfoSync();this.mStatusBarHeight=e.statusBarHeight*Laya.stage.width/Laya.Browser.clientWidth,this.language=e.language,Laya.Browser.onMiniGame||Laya.Browser.onQQMiniGame?(this.platformVersionCodeString=e.SDKVersion,this.model=e.model,this.version=e.version):(Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame)&&(this.platformVersionCodeNumber=e.platformVersionCode),Laya.Browser.onMiniGame&&("object"==typeof tt?(this.isTT=!0,"DOUYIN"===e.appName.toUpperCase()&&(this.isDY=!0)):this.isWx=!0),Laya.Browser.onMiniGame&&"iPhone X"===e.model.substring(0,8)&&(this.isIphoneX=!0),Laya.Browser.onMiniGame&&(e.windowWidth>=800||e.windowWidth/e.windowHeight>2)&&(this.hasScreenFringe=!0)}static get I(){return _.get(de)}compareVersion(e){return Laya.Browser.onMiniGame||Laya.Browser.onQQMiniGame?(j.log("-------compareVersion------ wxqqtt version:",this.platformVersionCodeString),j.log("-------compareVersion------ wxqqtt vv:",e),this.compareVersionWX(this.platformVersionCodeString,e)):Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame?(j.log("-------compareVersion------ oppovivo version:",this.platformVersionCodeNumber),j.log("-------compareVersion------ oppovivo vv:",e),this.platformVersionCodeNumber>Number(e)?1:this.platformVersionCodeNumber==Number(e)?0:-1):void 0}compareVersionWX(e,t){let i=e.split("."),n=t.split(".");for(var a=Math.max(i.length,n.length);i.length<a;)i.push("0");for(;n.length<a;)n.push("0");for(var o=0;o<a;o++){var s=parseInt(i[o]),r=parseInt(n[o]);if(s>r)return 1;if(s<r)return-1}return 0}isDOUYIN(){return this.isDY}isiPhoneX(){return this.isIphoneX}isScreenFringe(){return this.hasScreenFringe}isTTMiniGame(){return this.isTT}isWxMiniGame(){return this.isWx}isQQMiniGame(){return Laya.Browser.onQQMiniGame}isOPPOH5Game(){return"object"==typeof OPPO}statusBarHeight(){return this.mStatusBarHeight}getModel(){return this.model}getVersion(){return this.version}getLanguage(){return this.language}}class ce{}class pe{constructor(){this.TimeOut=5e3,this.httpEventId="HttpMgr_Event_Result",this.event=new x}static get instance(){return pe.getInstance()}static getInstance(){return null==pe.mInstance&&(pe.mInstance=new pe),pe.mInstance}post(e,t,i="json"){this.createHttpRequest(e).send(e,JSON.stringify(t),"post",i,["Content-Type","application/json"])}get(e,t="json",i){Laya.Browser.onVVMiniGame?window.qg.request({url:e,dataType:t,method:"GET",success:t=>{this.onComplete(e,t.data)},fail:(t,i)=>{let n={error:t,code:i};this.onError(e,n)}}):i?this.createHttpRequest(e).send(e,void 0,"get",t,i):this.createHttpRequest(e).send(e,void 0,"get",t)}createHttpRequest(e){let t=new Laya.HttpRequest;return t.http.timeout=this.TimeOut,t.once(Laya.Event.COMPLETE,this,this.onComplete,[e]),t.once(Laya.Event.ERROR,this,this.onError,[e]),t}onComplete(e,t){this.triggerListener(e,!0,t)}onError(e,t){this.triggerListener(e,!1,t)}triggerListener(e,t,i){let n=new ce;n.url=e,n.result=t,n.data=i,this.event.triggerListener(this.httpEventId,n)}addListener(e,t){this.event.addListener(this.httpEventId,e,t)}removeListener(e,t){this.event.removeListener(this.httpEventId,e,t)}}class ge{deleteAll(){Laya.LocalStorage.clear()}deleteKey(e){Laya.LocalStorage.removeItem(e)}getNumber(e,t){let i=Laya.LocalStorage.getItem(e);return i?Number(i):t}setNumber(e,t){Laya.LocalStorage.setItem(e,t.toString())}getString(e,t){let i=Laya.LocalStorage.getItem(e);return i||t}setString(e,t){Laya.LocalStorage.setItem(e,t)}getBoolean(e,t){let i=Laya.LocalStorage.getItem(e);return i?"1"==i:t}setBoolean(e,t){let i=t?"1":"0";Laya.LocalStorage.setItem(e,i)}getObject(e,t){let i=Laya.LocalStorage.getJSON(e);return i||t}setObject(e,t){Laya.LocalStorage.setJSON(e,t)}}class me{constructor(){this.storage=new ge}static get instance(){return me.getInstance()}static getInstance(){return null==me.mInstance&&(me.mInstance=new me),me.mInstance}deleteAll(){this.storage.deleteAll()}deleteKey(e){this.storage.deleteKey(e)}getNumber(e,t){return this.storage.getNumber(e,t)}setNumber(e,t){return this.storage.setNumber(e,t)}getString(e,t){return this.storage.getString(e,t)}setString(e,t){this.storage.setString(e,t)}getBoolean(e,t){return this.storage.getBoolean(e,t)}setBoolean(e,t){this.storage.setBoolean(e,t)}getObject(e,t){return this.storage.getObject(e,t)}setObject(e,t){this.storage.setObject(e,t)}}class ue{constructor(e,t){this.success=e,this.identity=t}}class ye{constructor(e,t,i="",n="",a="",o=0){this.success=e,this.token=t,this.openid=i,this.unionid=n,this.name=a,this.res_version=o}}class we{constructor(e,t){this.result=e,this.res=t}}class fe{static isNullOrEmpty(e){return!e||e==fe.empty}static isNullOrWhiteSpace(e){try{return null==e||"undefined"==e||e.toString().replace(/\s/g,"").length<1}catch(e){return j.log(e),!1}}static join(e,...t){try{let i=t[0];if(Array.isArray(i)||i instanceof Array){let t=fe.empty;for(let n=0;n<i.length;n++){let a=i[n];n<i.length-1?t+=a+e:t+=a}return t}if("object"==typeof i){let t=fe.empty,n=i;return Object.keys(i).forEach(i=>{t+=n[i]+e}),t=t.slice(0,t.length-e.length)}let n=t;return fe.joinString(e,...n)}catch(e){return j.log(e),fe.empty}}static format(e,...t){try{return e.match(fe.regexNumber)?fe.formatString(fe.regexNumber,e,t):e.match(fe.regexObject)?fe.formatString(fe.regexObject,e,t,!0):e}catch(e){return j.log(e),fe.empty}}static formatString(e,t,i,n=!1){return t.replace(e,(e,t)=>{let a,o=e.split(":");return o.length>1&&(t=o[0].replace("{",""),e=o[1].replace("}","")),null==(a=n?i[0][t]:i[t])||null==a||e.match(/{\d+}/)?a:void 0!==(a=fe.parsePattern(e,a))&&null!=a?a:fe.empty})}static parsePattern(e,t){switch(e){case"L":return t=t.toLowerCase();case"U":return t=t.toUpperCase();case"d":if("string"==typeof t)return fe.getDisplayDateFromString(t);if(t instanceof Date)return fe.format("{0:00}.{1:00}.{2:0000}",t.getDate(),t.getMonth(),t.getFullYear());break;case"s":if("string"==typeof t)return fe.getSortableDateFromString(t);if(t instanceof Date)return fe.format("{0:0000}-{1:00}-{2:00}",t.getFullYear(),t.getMonth(),t.getDate());break;case"n":"string"!=typeof t&&(t=t.toString());let i=t.replace(/,/g,".");if(isNaN(parseFloat(i))||i.length<=3)break;let n=i.split(/[^0-9]+/g),a=n;n.length>1&&(a=[fe.joinString("",...n.splice(0,n.length-1)),n[n.length-1]]);let o=a[0],s=o.length%3,r=s>0?o.substring(0,s):fe.empty,l=o.substring(s).match(/.{3}/g);return t=(r=r+"."+fe.join(".",l))+(a.length>1?","+a[1]:"")}return"number"!=typeof t&&isNaN(t)||isNaN(+e)||fe.isNullOrWhiteSpace(t)?t:fe.formatNumber(t,e)}static getDisplayDateFromString(e){let t;if((t=e.split("-")).length<=1)return e;let i=t[t.length-1],n=t[t.length-2],a=t[t.length-3];return`${i=(i=i.split("T")[0]).split(" ")[0]}.${n}.${a}`}static getSortableDateFromString(e){let t=e.replace(",","").split(".");if(t.length<=1)return e;let i=t[t.length-1].split(" "),n=fe.empty;i.length>1&&(n=i[i.length-1]);let a=`${t[t.length-1].split(" ")[0]}-${t[t.length-2]}-${t[t.length-3]}`;return!fe.isNullOrWhiteSpace(n)&&n.length>1?a+=`T${n}`:a+="T00:00:00",a}static formatNumber(e,t){let i=t.length,n=e.toString();if(i<=n.length)return n;let a=i-n.length;return new Array(a+=1).join("0")+n}static joinString(e,...t){let i=fe.empty;for(let n=0;n<t.length;n++){if("string"==typeof t[n]&&fe.isNullOrWhiteSpace(t[n])||"number"!=typeof t[n]&&"string"!=typeof t[n])continue;i+=""+t[n];for(let a=n+1;a<t.length;a++)if(!fe.isNullOrWhiteSpace(t[a])){i+=e,n=a-1;break}}return i}static strlen(e){let t=0;for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);if(n<=127)t++;else if(n<=2047)t+=2;else if(n>=55296&&n<=56319){i++;let n=e.charCodeAt(i);!Number.isNaN(n)&&n>=56320&&n<=57343&&(t+=4)}else t+=n<=65535?3:4}return t}static replaceStr(e,t){if(t.length>0)for(let i=0,n=t.length;i<n;i++)e=e.split("{"+(i+1)+"}").join(t[i]);return e}}fe.regexNumber=/{(\d+(:\w*)?)}/g,fe.regexObject=/{(\w+(:\w*)?)}/g,fe.empty="";class ve{constructor(){this.params=new A}get(e){return this.params.get(e)}add(e,t){if(this.params.containsKey(e))return!1;let i=t;"object"==typeof t&&(i=JSON.stringify(t)),this.params.add(e,i)}toMap(e){if(!fe.isNullOrEmpty(e)){let t=e.split("&");for(let e in t){let t=e.split("=");this.params.add(t[0],t[1])}}}ToString(){let e="",t=0;for(let i in this.params.table){t++,e+=`${i}=${this.params.get(i)}${t==this.params.count?"":"&"}`}return e}}class Ie{constructor(){this.name="uc10d016",this.uuid="uc10d016",pe.instance.addListener(this,this.onLoginComplete),this.shareParam=me.instance.getString("H5Share_query"),fe.isNullOrEmpty(this.shareParam)||me.instance.setString("H5Share_query",""),this.name=me.instance.getString("H5Login_name",`${(new Date).getTime()}${Math.random()}`),this.uuid=me.instance.getString("H5Login_uuid",`${(new Date).getTime()}${Math.random()}`),me.instance.setString("H5Login_name",this.name),me.instance.setString("H5Login_uuid",this.uuid)}login(e,t){this.caller=e,this.func=t;let i=new ve;i.toMap(me.instance.getString("H5Share_query"));let n=i.get("invite_token");n=n||"",this.url=`${se.ucenter}/api/user/login2`;let a={uuid:this.uuid,gamekey:"0"};pe.instance.post(this.url,a)}onLoginComplete(e){if(e.url==this.url&&(j.log(e),this.caller&&this.func)){let t=e.data.data;K.instance.openid=t.union_id;let i=new we(e.result,new ye(e.data.message,t.token,t.union_id,t.union_id,this.name,e.data.res_version));this.func.call(this.caller,i)}}checkUserInfoAuthorize(e,t){t.call(e,!0)}applyUserInfoAuthorize(e,t,i,n,a,o,s){let r=new ue(!0,s);return o.call(a,!0,r),null}destroyAuthorizeBtn(e){}getUserInfo(){return null}getArea(){return""}getSex(){return 0}getLaunchShareQuery(){if(!fe.isNullOrEmpty(this.shareParam)){let e={},t=this.shareParam.split("&");for(let i in t){let t=i.split("=");e[t[0]]=t[1]}return e}return null}getLaunchReferrerInfo(){return null}getLaunchScene(){return null}}class _e{constructor(e,t){this.success=e,this.title=t}}class Ae{constructor(){Laya.stage.stage.on(Laya.Event.FOCUS,this,this.onFocus),Laya.stage.stage.on(Laya.Event.BLUR,this,this.onBLUR)}share(e,t,i,n,a){this.caller=n,this.func=a,me.instance.setString("H5Share_query",i),this.OnShareComplete(!0,e)}OnShareComplete(e,t){let i=new _e(e,t);this.func.call(this.caller,i)}setDefaultShareContent(e,t,i){}setDefaultShareHandler(e,t){}setVisibleHandler(e,t){this.visibleCaller=e,this.visibleFunc=t}onFocus(){this.visibleCaller&&this.visibleFunc.call(this.visibleCaller,!0,null)}onBLUR(){this.visibleCaller&&this.visibleFunc.call(this.visibleCaller,!1,null)}}class Se{constructor(){this.group=0,this.model="",this.version=""}initAnalysis(){this.gamekey=X.I.getConf().gamekey,this.url=`${X.I.getConf().ucenter}/api/logs/action`,""!=me.instance.getString(Se.OK_ANALYSIS_OPENID,"")&&(K.instance.openid=me.instance.getString(Se.OK_ANALYSIS_OPENID,"")),this.group=me.instance.getNumber(Se.OK_ANALYSIS_GROUP,-1),this.group++,me.instance.setNumber(Se.OK_ANALYSIS_GROUP,this.group),this.model=de.I.getModel(),this.version=de.I.getVersion()}traceEvent(e,t){let i={action_id:e,gamekey:this.gamekey,openid:K.instance.openid,model:this.model,version:this.version,group:this.group,param:t};k.instance.post(this.url,i)}updateGroup(){this.group++,me.instance.setNumber(Se.OK_ANALYSIS_GROUP,this.group)}traceNavigateEvent(e,t,i){}traceCustomEvent(e,t){}}Se.OK_ANALYSIS_GROUP="OK_ANALYSIS_GROUP",Se.OK_ANALYSIS_OPENID="OK_ANALYSIS_OPENID";class be{constructor(){this.wx=window.wx}login(e,t,i=!1){this.loginCaller=e,this.loginFunc=t,this.wx.login({success:e=>{e.code?i?this.refreshUserInfo(e.code):this.requestToken(e.code):this.onLoginComplete(!1,new ye(!1,`wx.login callback success but no code,errMsg:${e.errMsg}`))},fail:()=>{this.onLoginComplete(!1,new ye(!1,"wx.login callback fail"))}})}requestToken(e){let t={};t={appid:se.appId,code:e,gamekey:se.gamekey},j.log("requestToken loginData :",t);let i=`${se.ucenter}/api/user/login2`;this.wx.request({url:i,method:"POST",data:t,success:e=>{j.log("wx login request res:",e),e&&e.data&&200==e.data.code&&e.data.data&&e.data.data.open_id?(K.instance.openid=e.data.data.open_id,me.instance.setString(Se.OK_ANALYSIS_OPENID,K.instance.openid),this.onLoginComplete(!0,new ye(!0,e.data.data.token,e.data.data.open_id,e.data.data.union_id))):(e&&e.data&&e.data.code&&j.log("wx login request failed code:",e.data.code),e&&e.data&&e.data.message&&j.log("wx login request failed message:",e.data.message),this.onLoginComplete(!1,new ye(!1,"wx.request callback success but request not success")))},fail:e=>{j.log("fail:",e),this.onLoginComplete(!1,new ye(!1,`wx.request callback fail,${e}`))}})}requestTokenWithInfo(e){let t=this.wx.getLaunchOptionsSync(),i="";for(let e in t.query)i=`&${e}=${t.query[e]}`;let n={},a="",o="";t&&t.query&&t.query.oGamekey&&(a=t.query.oGamekey),t&&t.query&&t.query.oUid&&(o=t.query.oUid),n={appid:se.appId,code:e,gamekey:se.gamekey,o_gamekey:a,o_uid:o,encrypted_data:K.instance.encryptedData,iv:K.instance.iv},j.log("requestToken loginData :",n);let s=`${se.ucenter}/api/user/login2`;this.wx.request({url:s,method:"POST",data:n,success:e=>{j.log("wx login request res:",e),e&&e.data&&200==e.data.code&&e.data.data&&e.data.data.open_id?(K.instance.openid=e.data.data.open_id,me.instance.setString(Se.OK_ANALYSIS_OPENID,K.instance.openid),this.onLoginComplete(!0,new ye(!0,e.data.data.token,e.data.data.open_id,e.data.data.union_id))):(e&&e.data&&e.data.code&&j.log("wx login request failed code:",e.data.code),e&&e.data&&e.data.message&&j.log("wx login request failed message:",e.data.message),this.onLoginComplete(!1,new ye(!1,"wx.request callback success but request not success")))},fail:e=>{j.log("fail:",e),this.onLoginComplete(!1,new ye(!1,`wx.request callback fail,${e}`))}})}destroyAuthorizeBtn(e){e&&e.destroy()}onLoginComplete(e,t){let i=new we(e,t);this.loginFunc.call(this.loginCaller,i)}checkUserInfoAuthorize(e,t){this.userInfo?t.call(e,!0):this.wx.getSetting({success:i=>{i.authSetting["scope.userInfo"]?this.setUserInfo(e,t):t.call(e,!1)},fail:i=>{t.call(e,!1)}})}applyUserInfoAuthorize(e,t,i,n,a,o,s){if(this.userInfo){let e=new ue(!0,s);return void o.call(a,e)}let r=this.wx.createUserInfoButton({type:"text",text:"",style:{left:e,top:t,width:i,height:n,fontSize:16,color:"#ffffff",borderRadius:4}});return r.onTap(e=>{"getUserInfo:ok"==e.errMsg?(r.destroy(),this.setUserInfo(a,o,!0,s)):this.wx.showModal({title:"提示",content:"授权失败,请重试!",showCancel:!1,complete(){let e=new ue(!1,s);o.call(a,e)}})}),r}getUserInfo(){return this.userInfo}getArea(){return this.userInfo?this.userInfo.city:""}getSex(){return this.userInfo?this.userInfo.gender:0}setUserInfo(e,t,i,n){this.wx.getUserInfo({success:a=>{if(this.userInfo=a.userInfo,K.instance.encryptedData=a.encryptedData,K.instance.iv=a.iv,j.log("--- setUserInfo ---:",a),i){let i=new ue(!0,n);t.call(e,i)}else t.call(e,!0)},fail:a=>{if(i){let i=new ue(!1,n);t.call(e,i)}else t.call(e,!1)}})}getLaunchShareQuery(){let e=this.wx.getLaunchOptionsSync();return e&&e.query?e.query:null}getLaunchReferrerInfo(){let e=this.wx.getLaunchOptionsSync();return e&&e.referrerInfo?e.referrerInfo:null}getLaunchScene(){let e=this.wx.getLaunchOptionsSync();return e&&e.scene?e.scene:null}refreshUserInfo(e){this.wx.getSetting({success:t=>{t.authSetting["scope.userInfo"]&&this.wx.getUserInfo({success:t=>{this.userInfo=t.userInfo,K.instance.encryptedData=t.encryptedData,K.instance.iv=t.iv,this.requestToken(e)},fail:e=>{}})},fail:e=>{}})}}class Le{constructor(){this.wx=window.wx;let e=this.wx.getSystemInfoSync();this.platform=e.platform}pay(e,t,i){this.payCaller=t,this.payFunc=i,this.requestAddOrder(e)}requestAddOrder(e){let t=`${se.ucenter}/pay/add_wxmini_order`;this.wx.request({url:t,data:{game_id:se.appId,goods_id:e,platform:this.platform},method:"POST",header:{"Content-Type":"application/json"},success:e=>{200==e.statusCode?this.onAddOrderComplete(!0,e.data):this.onAddOrderComplete(!1,e)},fail:e=>{this.onAddOrderComplete(!1,e)}})}onAddOrderComplete(e,t){j.log("OnAddOrderComplete:",e,",res",t),e?this.requestMidasPayment(t):(j.error("AddOrder fail:",t),this.invokePayResult(!1))}requestMidasPayment(e){this.orderId=e.order_id,this.wx.requestMidasPayment({mode:"game",env:0,offerId:e.offer_id,currencyType:"CNY",platform:this.platform,buyQuantity:e.buyQuantity,zoneId:"1",success:e=>{this.onMidasPaymentComplete(!0,e)},fail:t=>{this.onMidasPaymentComplete(!1,e)}})}onMidasPaymentComplete(e,t){j.log("OnMidasPaymentComplete:",e,",res",t),e?this.requestDeliverOrder(t):(j.error("MidasPayment fail:",t),this.invokePayResult(!1))}requestDeliverOrder(e){let t=`${se.ucenter}/pay/deliver_wxmini_order`;this.wx.request({url:t,data:{order_id:this.orderId,platform:this.platform},method:"POST",header:{"Content-Type":"application/json"},success:e=>{200==e.statusCode?this.onDeliverOrderComplete(!0,e.data):this.onDeliverOrderComplete(!1,e)},fail:e=>{this.onDeliverOrderComplete(!1,e)}})}onDeliverOrderComplete(e,t){j.log("OnDeliverOrderComplete:",e,",res",t),e||j.error("DeliverOrder fail:",t),this.invokePayResult(e)}invokePayResult(e){this.payCaller&&this.payFunc&&this.payFunc.call(this.payCaller,e)}}class xe{constructor(){let e=window.wx;e&&(this.openContext=e.getOpenDataContext())}postGraphicsCmd(e,t,i){if(!this.openContext)return;let n=e.width,a=e.height;this.openContext.canvas.width=1*n,this.openContext.canvas.height=1*a;let o=new Laya.Point;o=e.localToGlobal(o);let s=Laya.stage._canvasTransform,r=new Laya.Matrix(s.a,0,0,s.d,o.x*s.a,o.y*s.d);this.openContext.postMessage({eventId:t,canvasData:{scale:1,matrix:r},extraData:i})}clearGraphicsCmd(e){this.openContext&&(this.openContext.postMessage({eventId:e}),this.shareTexture&&this.shareTexture.destroy())}openRank(e){this.postGraphicsCmd(e,u.openRank)}closeRank(){this.clearGraphicsCmd(u.closeRank)}requestRank(e,t){this.openContext&&this.openContext.postMessage({eventId:u.requestRank,requestData:{rankType:e,key:t}})}pushScore(e,t,i){this.openContext&&this.openContext.postMessage({eventId:u.pushScore,pushData:{key:e,score:t,unit:i}})}openSurpass(e,t){}closeSurpass(){}}!function(e){e[e.pushOpenId=1]="pushOpenId",e[e.pushScore=2]="pushScore",e[e.openRank=3]="openRank",e[e.requestRank=4]="requestRank",e[e.closeRank=5]="closeRank"}(u||(u={}));class Me{constructor(){this.defTime=3e3,this.curTime=0,this.wx=window.wx,this.showShareMenu()}showShareMenu(){-1!=de.I.compareVersion("2.11.3")&&Laya.Browser.onAndroid?this.wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}):this.wx.showShareMenu({withShareTicket:!0}),this.wx.aldOnShareAppMessage?this.wx.aldOnShareAppMessage(()=>(this.defaultCaller&&this.defaultFunc&&this.defaultFunc.call(this.defaultCaller),{title:this.defTitle,imageUrl:this.defImgUrl,query:this.defQuery})):this.wx.onShareAppMessage(()=>(this.defaultCaller&&this.defaultFunc&&this.defaultFunc.call(this.defaultCaller),{title:this.defTitle,imageUrl:this.defImgUrl,query:this.defQuery})),this.wx.updateShareMenu({withShareTicket:!0}),Z.instance.addListener(J.GameOnShowEvent,this,this.onGameShowEvent),Z.instance.addListener(J.GameOnHideEvent,this,this.onGameHideEvent)}onGameShowEvent(e){this.resultTitle&&(this.onShareComplete((new Date).getTime()-this.curTime>=this.defTime,this.resultTitle),this.curTime=0,this.resultTitle=void 0),this.visibleFunc.call(this.visibleCaller,!0,e)}onGameHideEvent(e){this.visibleFunc.call(this.visibleCaller,!1,e)}share(e,t,i,n,a){this.resultCaller=n,this.resultFunc=a,this.resultTitle=e,this.curTime=(new Date).getTime(),this.wx.aldShareAppMessage?this.wx.aldShareAppMessage({title:e,imageUrl:t,query:i}):this.wx.shareAppMessage({title:e,imageUrl:t,query:i})}onShareComplete(e,t){let i=new _e(e,t);this.resultFunc.call(this.resultCaller,i)}setDefaultShareContent(e,t,i){this.defTitle=e,this.defImgUrl=t,this.defQuery=i}setDefaultShareHandler(e,t){this.defaultCaller=e,this.defaultFunc=t}setVisibleHandler(e,t){this.visibleCaller=e,this.visibleFunc=t}}class ke extends be{constructor(){super(),this.wx=window.qq}requestToken(e){let t={};t={appid:se.appId,code:e,gamekey:se.gamekey},j.log("loginData:",t);let i=`${se.ucenter}/api/user/login2`;this.wx.request({url:i,method:"POST",data:t,success:e=>{j.log("qq login request res:",e),e&&e.data&&200==e.data.code&&e.data.data&&e.data.data.open_id?(K.instance.openid=e.data.data.open_id,me.instance.setString(Se.OK_ANALYSIS_OPENID,K.instance.openid),this.onLoginComplete(!0,new ye(!0,e.data.data.token,e.data.data.open_id,e.data.data.union_id))):this.onLoginComplete(!1,new ye(!1,"qq.request callback success but request not success"))},fail:e=>{j.log("fail:",e),this.onLoginComplete(!1,new ye(!1,`qq.request callback fail,${e}`))}})}}class Ce extends Me{constructor(){super(),this.wx=window.qq,this.showShareMenu()}}class Ee extends Me{constructor(){super(),this.wx=window.tt,this.showShareMenu()}}class Ne extends be{constructor(){super(),this.wx=window.tt}login(e,t){this.loginCaller=e,this.loginFunc=t,this.wx.login({force:!1,success:e=>{e?this.requestTokenTT(e.code,e.anonymousCode):this.onLoginComplete(!1,new ye(!1,`wx.login callback success but no code,errMsg:${e.errMsg}`))},fail:()=>{this.onLoginComplete(!1,new ye(!1,"wx.login callback fail"))}})}requestTokenTT(e,t){let i={};i=e?{appid:se.appId,code:e,anonymous_code:t,gamekey:se.gamekey}:{appid:se.appId,anonymous_code:t,gamekey:se.gamekey},j.log("loginData:",i);let n=`${se.ucenter}/api/user/login2`;this.wx.request({url:n,method:"POST",data:i,success:e=>{j.log("tt login request res:",e),e&&e.data&&200==e.data.code&&e.data.data&&e.data.data.open_id?(K.instance.openid=e.data.data.open_id,me.instance.setString(Se.OK_ANALYSIS_OPENID,K.instance.openid),this.onLoginComplete(!0,new ye(!0,e.data.data.token,e.data.data.open_id,e.data.data.union_id))):this.onLoginComplete(!1,new ye(!1,"qq.request callback success but request not success"))},fail:e=>{j.log("fail:",e),this.onLoginComplete(!1,new ye(!1,`qq.request callback fail,${e}`))}})}applyUserInfoAuthorize(e,t,i,n,a,o,s){if(this.userInfo){let e=new ue(!0,s);return void o.call(a,e)}let r=this;this.wx.authorize({scope:"scope.userInfo",success(e){r.wx.getUserInfo({withCredentials:!1,success(e){r.userInfo=e.userInfo;let t=new ue(!0,s);o.call(a,t)},fail(e){r.wx.showModal({title:"提示",content:"授权失败,请重试!",success(){},fail(){},complete(){let e=new ue(!1,s);o.call(a,e)}})}})},fail(e){r.wx.showModal({title:"提示",content:"授权失败,请重试!",success(){},fail(){},complete(){let e=new ue(!1,s);o.call(a,e)}})},complete(){}})}}class Ve extends xe{constructor(){super(),this.wx=window.tt,this.wx&&(this.openContext=this.wx.getOpenDataContext())}}class Te{constructor(){this.wx=window.qg}setDefaultShareContent(e,t,i){}setDefaultShareHandler(e,t){}setVisibleHandler(e,t){}showShareMenu(){}share(e,t,i,n,a){-1!=de.I.compareVersion("1056")?this.wx.share({success:function(){},fail:function(e,t){},cancel:function(){},complete:function(){}}):this.wx.showToast({message:"该功能暂不支持, 请升级平台版本"})}}class De extends be{constructor(){super(),this.wx=window.qg}login(e,t,i=!1){this.loginCaller=e,this.loginFunc=t,this.wx.login({success:e=>{e?(this.userInfo=e.data,this.userInfo.gender=this.userInfo.sex,this.userInfo.avatarUrl=this.userInfo.avatar,"F"==this.userInfo.sex?this.userInfo.gender=2:"M"==this.userInfo.sex?this.userInfo.gender=1:this.userInfo.gender=0,this.userInfo.location&&(this.userInfo.city=this.userInfo.location),K.instance.oToken=e.token,e.data&&e.data.uid?this.requestToken(e.data):this.onLoginComplete(!1,new ye(!1,"oppo id is null"))):this.onLoginComplete(!1,new ye(!1,`wx.login callback success but no code,errMsg:${e.errMsg}`))},fail:e=>{this.onLoginComplete(!1,new ye(!1,"wx.login callback fail"))}})}requestToken(e){k.instance.addListener(this,this.onLoginUcenter);let t={};t={appid:se.appId,uuid:e.uid,gamekey:se.gamekey},this.url=`${se.ucenter}/api/user/login2`,k.instance.post(this.url,t)}checkUserInfoAuthorize(e,t){t.call(e,!0)}applyUserInfoAuthorize(e,t,i,n,a,o,s){let r=new ue(!0,s);return o.call(a,!0,r),null}destroyAuthorizeBtn(e){}getUserInfo(){return this.userInfo}onLoginUcenter(e){e.url==this.url&&(k.instance.removeListener(this,this.onLoginUcenter),e&&e.data&&200==e.data.code&&e.data.data&&e.data.data.open_id?(K.instance.openid=e.data.data.open_id,me.instance.setString(Se.OK_ANALYSIS_OPENID,K.instance.openid),this.onLoginComplete(!0,new ye(!0,e.data.data.token,e.data.data.open_id,e.data.data.union_id))):this.onLoginComplete(!1,new ye(!1,"qg.request callback success but request not success")))}}class Be extends be{constructor(){super(),this.wx=window.OPPO}login(e,t,i=!1){this.loginCaller=e,this.loginFunc=t,this.wx.login({packageName:X.I.getConf().pkg,callback:e=>{e?(console.error("login:"),console.error(e),this.userInfo=e,this.userInfo.gender=this.userInfo.sex,this.userInfo.avatarUrl=this.userInfo.avatar,this.userInfo.nickName=this.userInfo.userName,"F"==this.userInfo.sex?this.userInfo.gender=2:"M"==this.userInfo.sex?this.userInfo.gender=1:this.userInfo.gender=0,K.instance.oToken=e.token,this.requestToken(e)):this.onLoginComplete(!1,new ye(!1,`oppo h5.login callback success but no code,errMsg:${e.errMsg}`))}})}requestToken(e){k.instance.addListener(this,this.onLoginUcenter);let t={};t={appid:se.appId,uuid:e.userId,gamekey:se.gamekey},this.url=`${se.ucenter}/api/user/login2`,k.instance.post(this.url,t)}checkUserInfoAuthorize(e,t){t.call(e,!0)}applyUserInfoAuthorize(e,t,i,n,a,o,s){let r=new ue(!0,s);return o.call(a,!0,r),null}destroyAuthorizeBtn(e){}getUserInfo(){return this.userInfo}onLoginUcenter(e){e.url==this.url&&(console.log("onLoginUcenter"),console.log(e),k.instance.removeListener(this,this.onLoginUcenter),e&&e.data&&200==e.data.code&&e.data.data&&e.data.data.open_id?(K.instance.openid=e.data.data.open_id,me.instance.setString(Se.OK_ANALYSIS_OPENID,K.instance.openid),this.onLoginComplete(!0,new ye(!0,e.data.data.token,e.data.data.open_id,e.data.data.union_id))):this.onLoginComplete(!1,new ye(!1,"oppo h5.request callback success but request not success")))}getLaunchShareQuery(){return null}getLaunchReferrerInfo(){return null}getLaunchScene(){return null}}class Ge extends be{constructor(){super(),this.wx=window.qg}login(e,t,i=!1){this.loginCaller=e,this.loginFunc=t,this.wx.login({success:e=>{e?(console.error("---login:",e),this.userInfo=e.data,this.userInfo.gender=this.userInfo.sex,this.userInfo.avatarUrl=this.userInfo.avatar,"F"==this.userInfo.sex?this.userInfo.gender=2:"M"==this.userInfo.sex?this.userInfo.gender=1:this.userInfo.gender=0,this.userInfo.location&&(this.userInfo.city=this.userInfo.location),K.instance.oToken=e.token,e.token?this.requestToken(e.token):(console.log("vivo id is null"),this.onLoginComplete(!1,new ye(!1,"oppo id is null")))):this.onLoginComplete(!1,new ye(!1,`wx.login callback success but no code,errMsg:${e.errMsg}`))},fail:e=>{console.log("fail:",e),this.onLoginComplete(!1,new ye(!1,"wx.login callback fail"))}})}requestToken(e){k.instance.addListener(this,this.onLoginUcenter);let t={};t={appid:se.appId,gamekey:se.gamekey,password:e,app_key:X.I.getConf().app_key,pkg_name:X.I.getConf().pkg},this.url=`${se.ucenter}/api/user/login2`,k.instance.post(this.url,t)}checkUserInfoAuthorize(e,t){t.call(e,!0)}applyUserInfoAuthorize(e,t,i,n,a,o,s){let r=new ue(!0,s);return o.call(a,!0,r),null}destroyAuthorizeBtn(e){}getUserInfo(){return this.userInfo}onLoginUcenter(e){e.url==this.url&&(j.log("--VIVO---LoginUcenter-----",e),k.instance.removeListener(this,this.onLoginUcenter),e&&e.data&&200==e.data.code&&e.data.data&&e.data.data.open_id?(K.instance.openid=e.data.data.open_id,me.instance.setString(Se.OK_ANALYSIS_OPENID,K.instance.openid),this.onLoginComplete(!0,new ye(!0,e.data.data.token,e.data.data.open_id,e.data.data.union_id))):this.onLoginComplete(!1,new ye(!1,"vv.request callback success but request not success")))}}class Pe{constructor(){this.buildSDK(),this.dispatcher=new x}static get I(){return _.get(Pe)}addListener(e,t,i){this.dispatcher.addListener(e,t,i)}removeListener(e,t,i){this.dispatcher.removeListener(e,t,i)}buildSDK(){Laya.Browser.onMiniGame?"object"==typeof tt?(this.loginSDK=new Ne,this.shareSDK=new Ee,this.rankSDK=new Ve):(this.loginSDK=new be,this.shareSDK=new Me,this.paymentSDK=new Le,this.rankSDK=new xe):Laya.Browser.onQQMiniGame?(this.loginSDK=new ke,this.shareSDK=new Ce):Laya.Browser.onVVMiniGame?(this.loginSDK=new Ge,this.shareSDK=new Te):Laya.Browser.onQGMiniGame?this.loginSDK=new De:de.I.isOPPOH5Game()?this.loginSDK=new Be:Laya.Browser.onTTMiniGame?(this.loginSDK=new Ne,this.shareSDK=new Ee,this.rankSDK=new Ve):window.FBInstant||(this.loginSDK=new Ie,this.shareSDK=new Ae),this.okAnalysis=new Se,this.setVisibleHandler()}login(e=!1){this.loginSDK&&this.loginSDK.login(this,this.onLogin,e)}onLogin(e){this.dispatcher.triggerListener(Pe.LoginApp,e)}checkUserInfoAuthorize(){this.loginSDK&&this.loginSDK.checkUserInfoAuthorize(this,this.onCheckUserInfoAuthorize)}onCheckUserInfoAuthorize(e){this.dispatcher.triggerListener(Pe.CheckUserInfoAuthorize,e)}applyUserInfoAuthorize(e,t=0){if(this.loginSDK){let i=Laya.Browser.clientWidth/Laya.stage.width,n=new Laya.Point,a=(n=e.localToGlobal(n)).x*i,o=n.y*i,s=e.width*i,r=e.height*i;return this.loginSDK.applyUserInfoAuthorize(a,o,s,r,this,this.onApplyUserInfoAuthorize,t)}return null}onApplyUserInfoAuthorize(e){this.dispatcher.triggerListener(Pe.ApplyUserInfoAuthorize,e)}destroyAuthorizeBtn(e){this.loginSDK&&this.loginSDK.destroyAuthorizeBtn(e)}getUserInfo(){return this.loginSDK?this.loginSDK.getUserInfo():null}getArea(){return this.loginSDK?this.loginSDK.getArea():""}getSex(){return this.loginSDK?this.loginSDK.getSex():0}getLaunchShareQuery(){return this.loginSDK?this.loginSDK.getLaunchShareQuery():null}getLaunchReferrerInfo(){return this.loginSDK?this.loginSDK.getLaunchReferrerInfo():null}getLaunchScene(){return this.loginSDK?this.loginSDK.getLaunchScene():null}onVisible(e,t){this.dispatcher.triggerListener(Pe.VisibleChange,{isVisible:e,res:t})}share(e,t,i){this.shareSDK&&this.shareSDK.share(e,t,i,this,this.onShare),ie.I.onShare()}onShare(e){this.dispatcher.triggerListener(Pe.ShareApp,e)}setDefaultShareContent(e,t,i){this.shareSDK&&this.shareSDK.setDefaultShareContent(e,t,i)}setDefaultShareHandler(e,t){this.shareSDK&&this.shareSDK.setDefaultShareHandler(e,t)}setVisibleHandler(){this.shareSDK&&this.shareSDK.setVisibleHandler(this,this.onVisible)}payment(e){this.paymentSDK&&this.paymentSDK.pay(e,this,this.onPayment)}onPayment(e){this.dispatcher.triggerListener(Pe.Payment,e)}openRank(e){this.rankSDK&&this.rankSDK.openRank(e)}closeRank(){this.rankSDK&&this.rankSDK.closeRank()}requestRank(e=1,t="rank"){this.rankSDK&&this.rankSDK.requestRank(e,t)}pushRank(e="rank",t,i="关"){this.rankSDK&&this.rankSDK.pushScore(e,t,i)}openSurpass(e,t){this.rankSDK&&this.rankSDK.openSurpass(e,t)}closeSurpass(){this.rankSDK&&this.rankSDK.closeSurpass()}initAnalysis(){this.okAnalysis&&this.okAnalysis.initAnalysis()}traceEvent(e,t){this.okAnalysis&&this.okAnalysis.traceEvent(e,t)}traceNavigateEvent(e,t,i){this.okAnalysis&&this.okAnalysis.traceNavigateEvent(e,t,i)}traceCustomEvent(e,t){this.okAnalysis&&this.okAnalysis.traceCustomEvent(e,t)}updateGroup(){this.okAnalysis&&this.okAnalysis.updateGroup()}}Pe.ShareApp="ShareApp",Pe.LoginApp="LoginApp",Pe.Payment="Payment",Pe.CheckUserInfoAuthorize="CheckUserInfoAuthorize",Pe.ApplyUserInfoAuthorize="ApplyUserInfoAuthorize",Pe.VisibleChange="VisibleChange";class Re extends he{constructor(){super(...arguments),this.videoCount=-1,this.hasAuthorize=!1,this.headIcon="",this.starCount=1,this.groundIndex=1,this.missileDropStartTime=0,this.groundDropStartTime=0,this.missileDropSpaceTime=0,this.groundDropSpaceTime=0,this.enemyPool=[],this.dieQueue=[]}static get I(){return _.get(Re)}applyLocal(){super.applyLocal(),ne.isNullOrEmpty(this.mDataLocal.videoCount)||(this.videoCount=this.mDataLocal.videoCount),ne.isNullOrEmpty(this.mDataLocal.starCount)?this.starCount=1:this.starCount=this.mDataLocal.starCount}saveLocal(){super.saveLocal(),this.mDataLocal.videoCount=this.videoCount,this.mDataLocal.starCount=this.starCount}getLevel(){return this.starCount}getCurLevel(){return this.starCount}saveAuthorize(){if(this.hasAuthorize)return;let e=Pe.I.getUserInfo();e?(this.hasAuthorize=!0,this.name=e.nickName,this.headIcon=e.avatarUrl):(this.hasAuthorize=!1,this.name="我",this.headIcon="head/default.png")}addStarCount(e){this.starCount+=e,this.starCount<1&&(this.starCount=1),this.save()}getSubLevelFont(e){switch(e){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV";case 5:return"V"}return"empty"}}class Oe{constructor(){if(this.deviceBrand="",this.deviceModel="",this.deviceSystem="",this.onTimeLimit=3e4,this.isOnShow=!0,this.isStartOn=!1,this.isBattle=!1,this.levelDuration=0,this.isIgnore=!1,this.sdk=J.I.getSDK(),Z.instance.addListener(J.GameOnHideEvent,this,this.onGameHideEvent),Z.instance.addListener(J.GameOnShowEvent,this,this.onGameShowEvent),k.instance.addListener(this,this.onGetConfComplete),Oe.getLoalData(Oe.localKey,e=>{ne.isNullOrEmpty(e)?(console.log("没有数据没有数据"),Oe.localData.guid=Oe.uuid(),Oe.localData.onTime=0,Oe.localData.city="",Oe.setLocalData(Oe.localKey,Oe.localData)):(console.log("有数据了",e),"{"==(e=unescape(e)).charAt(0)&&(e=JSON.parse(e)),ne.isNullOrEmpty(e.guid)?Oe.localData.guid=Oe.uuid():Oe.localData.guid=e.guid,ne.isNullOrEmpty(e.onTime)?Oe.localData.onTime=0:Oe.localData.onTime=e.onTime,ne.isNullOrEmpty(e.city)?Oe.localData.city="":Oe.localData.city=e.city,Oe.localData.openid=e.openid)}),this.sdk&&this.sdk.getSystemInfoSync){let e=this.sdk.getSystemInfoSync();this.deviceBrand=e.brand,this.deviceModel=e.model,this.deviceSystem=e.system}if(Laya.timer.frameLoop(1,this,this.addOnTime),!Laya.Browser.onMiniGame){if(Laya.Render.isConchApp)return;console.log("http://134.175.208.44:2440/ip2region"),k.instance.get("http://134.175.208.44:2440/ip2region")}}static get I(){return _.get(Oe)}addOnTime(){if(this.isStartOn&&Oe.I.isOnShow){if(this.isIgnore)return void(this.isIgnore=!1);Oe.localData.onTime+=Laya.timer.delta,Oe.localData.onTime>this.onTimeLimit?this.statisticsReport(m.ONLINE_TIME):Oe.setLocalData(Oe.localKey,Oe.localData),this.isBattle&&(this.levelDuration+=Laya.timer.delta)}}static getLoalData(e,t){var i=Laya.LocalStorage.getItem(e);t&&t(i)}static setLocalData(e,t){try{let i=JSON.stringify(t);Laya.LocalStorage.setItem(e,i)}catch(e){console.log(e)}}onGameHideEvent(){this.isOnShow=!1}onGameShowEvent(){this.isOnShow=!0,this.isIgnore=!0}statisticsReport(e,t=-1,i=-1,n=0){if(!X.I.getConf().needOKStatis)return;let a;e==m.VIEW_INDEX&&(this.isStartOn=!0),e!=m.LV_START&&e!=m.LV_START2||(this.isBattle=!0,this.levelDuration=0),null!=Oe.localData.openid&&null!=Oe.localData.openid&&""!=Oe.localData.openid&&"undefined"!=Oe.localData.openid||(Oe.localData.openid=K.instance.openid,Oe.setLocalData(Oe.localKey,Oe.localData));let o=Math.floor(Oe.localData.onTime/1e3);console.log("statisticsReport",Oe.localData),a={type:e,gamekey:X.I.getConf().gamekey,deviceModel:this.deviceModel,deviceSystem:this.deviceSystem,deviceBrand:this.deviceBrand,openid:Oe.localData.openid,guid:Oe.localData.guid,appVersion:X.I.getConf().version,appBuild:X.I.getConf().version,level:t>0?t:Re.I.getCurLevel(),levelDuration:e==m.LV_END||e==m.LV_END2?Math.floor(this.levelDuration/1e3):-1,mac:"",res:i,sex:Pe.I.getSex(),city:Laya.Browser.onMiniGame?Pe.I.getArea():Oe.localData.city,phone:"",gold:Re.I.getCoin(),score:n,net:-1,duration:o,timestamp:(new Date).getTime().toString().substr(0,10)},o>0&&(Oe.localData.onTime-=1e3*o,Oe.setLocalData(Oe.localKey,Oe.localData));let s={message:JSON.stringify(a),version:1};this.statisticsUrl=`${X.I.getConf().reportUrl}${q.DATA_STATISTICS}`,j.log(this.statisticsUrl),j.log(a),k.instance.post(this.statisticsUrl,s)}onGetConfComplete(e){"http://134.175.208.44:2440/ip2region"==e.url&&(console.log("onGetConfCompletehttp:",e),Oe.localData.city=e.data.city_name,Oe.setLocalData(Oe.localKey,Oe.localData))}static uuid(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}}Oe.localKey="okInfo",Oe.localData={guid:"",openid:"",onTime:0,city:""};class Ye{constructor(){this.matrixList={},this.adSwitchList={},k.instance.addListener(this,this.onGetConfComplete)}static get I(){return _.get(Ye)}getMatrixList(e,t=-1,i=-1){let n;this.appId=e.appId,n={version:e.version,sgamekey:e.gamekey,position:t,index:i,city:Oe.localData.city},console.log("getMatrixList",n),this.mtrixListUrl=`${e.matrixUrl}${q.MATRIX_LIST}`,k.instance.post(this.mtrixListUrl,n)}jumpStatistics(e,t,i,n,a,o=-1){let s;s={uid:t,type:i,sgamekey:e.gamekey,tgamekey:n,position:a,index:o,timestamp:(new Date).getTime().toString().substr(0,10)};let r={message:JSON.stringify(s)};this.skipStatisticsUrl=`${e.reportUrl}${q.SKIP_STATISTICS}`,console.log(s),k.instance.post(this.skipStatisticsUrl,r)}getAdSwitchList(e){let t;console.log("getAdSwitchList",Oe.localData),console.log("getAdSwitchList",Oe.localData.city),t={version:e.version,gamekey:e.gamekey,city:Oe.localData.city},console.log("getAdSwitchList",t),this.adSwitchListUrl=`${e.matrixUrl}${q.AD_SWITCH_LIST}`,k.instance.post(this.adSwitchListUrl,t)}getMatrixByPosition(e){if(null==this.matrixList[e])return null;let t=[];return Object.keys(this.matrixList[e]).forEach(i=>{t.push(this.matrixList[e][i])}),this.sort(t,"index"),t}getAdSwitchByPosition(e){return null==this.adSwitchList[e]?null:this.adSwitchList[e]}onGetConfComplete(e){if(e.url==this.mtrixListUrl){if(console.log("http:",e),e.result&&e.data&&200==e.data.code&&e.data.data)for(const t of e.data.data){let e={};for(const i of t.matrix)i.appid!=this.appId&&(e[i.index]=i);this.matrixList[t.position]=e}}else if(e.url==this.adSwitchListUrl){if(console.log("http:",e),e.result&&e.data&&200==e.data.code&&e.data.data)for(const t of e.data.data)this.adSwitchList[t.position]=t;console.log(this.adSwitchList)}}sort(e,t=null){return e.sort((e,i)=>{switch(typeof e){case"number":return e<i?-1:e>i?1:0;case"string":return e.localeCompare(i);case"object":return"number"==typeof e[t]?e[t]<i[t]?-1:e[t]>i[t]?1:0:"string"==typeof e[t]?e[t].localeCompare(i[t]):0;default:return 0}})}checkSkip(){let e=Ye.I.getAdSwitchByPosition(F.SKIP_OTHER);if(null!=e&&1==e.state&&e.pv>0){if(W.random(0,100)<=e.pv){let e=Ye.I.getMatrixByPosition(U.SHIP_OTHER);if(null!=e&&e.length>0){let t=0;for(let i=0;i<e.length;i++){t+=e[i].weight}if(t>0){let i=W.random(0,t),n=0;for(let t=0;t<e.length;t++){let a=e[t];if(i<=(n+=a.weight)){this.openGame(a,U.SHIP_OTHER);break}}}}}}}openGame(e,t){let i;de.I.isWxMiniGame()?i=window.wx:de.I.isQQMiniGame()&&(i=window.qq),null!=i&&(Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_CLIK,e.tgamekey,t,e.index),ie.I.onSaleActionUpLoad(e,1),i.navigateToMiniProgram({appId:e.appid,path:e.path,success:function(i){Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_ACT,e.tgamekey,t,e.index),ie.I.onSaleActionUpLoad(e,2)},fail:function(t){ie.I.onSaleActionUpLoad(e,3)}}))}}class Xe{constructor(){this.TIME=4e4,this.mAdMap={},this.mLastData={}}static get I(){return _.get(Xe)}createNativeAd(e,t,i){if(!Laya.Browser.onQGMiniGame)return;let n=X.I.getConf().ad.gameportal[e];i.visible=!1;let a=this;if(j.log("创建原生广告",e,i),null!=a.mAdMap[e.toString()]&&null!=a.mAdMap[e.toString()]&&this.mAdMap[e.toString()].skip&&(a.mLastData[e.toString()]=a.mAdMap[e.toString()],a.mAdMap[e.toString()].nativeAd.offLoad(null),a.mAdMap[e.toString()].nativeAd.offError(null),a.mAdMap[e.toString()].nativeAd.destroy(),a.mAdMap[e.toString()]=null),null!=a.mAdMap[e.toString()]&&null!=a.mAdMap[e.toString()]||!n||""==n)j.log("本地有数据",e,a.mAdMap),a.mAdMap[e.toString()].view=i,a.showNativeInfo(a.mAdMap[e.toString()].nativeCurrentAd,t,i),a.AddFreshAd(e,t,i);else{j.log("创建原生广告",e);let o=qg.createNativeAd({adUnitId:n});o.offLoad(null),o.offError(null),o.onLoad(function(n){let s;j.log("原生广告加载完成-onload触发",e),j.log(n),n&&n.adList&&n.adList.length>0?(s=n.adList.pop(),i&&(a.showNativeInfo(s,t,i),a.reportAdShow(o,s.adId.toString())),a.mAdMap[e.toString()]={nativeAd:o,view:i,nativeCurrentAd:s,skip:!1},a.AddFreshAd(e,t,i)):i&&null!=a.mLastData[e.toString()]&&null!=a.mLastData[e.toString()]&&(a.mAdMap[e.toString()]=a.mLastData[e.toString()],j.log("原生广告为空-使用旧的",e,a.mAdMap[e.toString()]),a.mAdMap[e.toString()].view=i,a.showNativeInfo(a.mAdMap[e.toString()].nativeCurrentAd,t,i),a.AddFreshAd(e,t,i))}),o.onError(n=>{j.log("原生广告加载异常",e,n),i&&null!=a.mLastData[e.toString()]&&null!=a.mLastData[e.toString()]&&(a.mAdMap[e.toString()]=a.mLastData[e.toString()],j.log("原生广告加载异常-使用旧的",e,a.mAdMap[e.toString()]),a.mAdMap[e.toString()].view=i,a.showNativeInfo(a.mAdMap[e.toString()].nativeCurrentAd,t,i)),a.AddFreshAd(e,t,i)}),o.load()}}showNativeInfo(e,t,i){j.log("展示原生广告",t,i),t==g.IMG?(i.skin=e.imgUrlList.length>0?e.imgUrlList[0]:e.icon,i.visible=!0):(i.skin=e.icon?e.icon:e.imgUrlList[0],i.visible=!0)}reportAdShow(e,t){j.log("上报广告曝光",t),e.reportAdShow({adId:t})}reportAdClick(e,t){return!Laya.Browser.onQGMiniGame||(j.log("上报广告点击1",e,this.mAdMap),null==this.mAdMap[e.toString()]||null==this.mAdMap[e.toString()]||null==this.mAdMap[e.toString()].nativeAd||this.mAdMap[e.toString()].skip?(j.log("不需要点击上报",this.mAdMap[e.toString()]),!1):(this.mAdMap[e.toString()].nativeAd.reportAdClick({adId:this.mAdMap[e.toString()].nativeCurrentAd.adId}),this.mAdMap[e.toString()].skip=!0,j.log("上报广告点击",this.mAdMap[e.toString()].nativeCurrentAd.adId),j.log("重新加载一次原生广告",e),this.createNativeAd(e,t,this.mAdMap[e.toString()].view),!0))}AddFreshAd(e,t,i){t==g.IMG?(Laya.timer.clear(this,this.loopCompleteAd),Laya.timer.loop(this.TIME,this,this.loopCompleteAd,[e,t,i])):(Laya.timer.clear(this,this.loopCompleteAd2),Laya.timer.loop(this.TIME,this,this.loopCompleteAd2,[e,t,i]))}loopCompleteAd(e,t,i){j.log("广告换一个",e),null!=this.mAdMap[e.toString()]&&null!=this.mAdMap[e.toString()]&&(this.mAdMap[e.toString()].skip=!0),this.createNativeAd(e,t,i)}loopCompleteAd2(e,t,i){j.log("广告换一个",e),this.mAdMap[e.toString()]&&null!=this.mAdMap[e.toString()]&&(this.mAdMap[e.toString()].skip=!0),this.createNativeAd(e,t,i)}}class Ue{constructor(){this.TIME=4e4,this.mAdMap={},this.mLastData={}}static get I(){return _.get(Ue)}createNativeAd(e,t,i){if(!Laya.Browser.onVVMiniGame)return;let n=X.I.getConf().ad.gameportal[e];i.visible=!1;let a=this;if(j.log("创建原生广告",e,a.mAdMap),null!=a.mAdMap[e.toString()]&&null!=a.mAdMap[e.toString()]&&this.mAdMap[e.toString()].skip&&(a.mLastData[e.toString()]=a.mAdMap[e.toString()],a.mAdMap[e.toString()].nativeAd.offLoad(null),a.mAdMap[e.toString()].nativeAd.offError(null),a.mAdMap[e.toString()]=null),null!=a.mAdMap[e.toString()]&&null!=a.mAdMap[e.toString()]||!n||""==n)j.log("本地有数据",e,a.mAdMap),a.mAdMap[e.toString()].view=i,a.showNativeInfo(a.mAdMap[e.toString()].nativeCurrentAd,t,i),a.AddFreshAd(e,t,i);else{j.log("创建原生广告",e);let o=qg.createNativeAd({adUnitId:n});o.offLoad(null),o.offError(null),o.onLoad(function(n){let s;j.log("原生广告加载完成-onload触发",e),j.log(n),n&&n.adList&&n.adList.length>0?(s=n.adList.pop(),i&&(a.showNativeInfo(s,t,i),a.reportAdShow(o,s.adId.toString())),a.mAdMap[e.toString()]={nativeAd:o,view:i,nativeCurrentAd:s,skip:!1},a.AddFreshAd(e,t,i)):i&&null!=a.mLastData[e.toString()]&&null!=a.mLastData[e.toString()]&&(a.mAdMap[e.toString()]=a.mLastData[e.toString()],j.log("原生广告为空-使用旧的",e,a.mAdMap[e.toString()]),a.mAdMap[e.toString()].view=i,a.showNativeInfo(a.mAdMap[e.toString()].nativeCurrentAd,t,i),a.AddFreshAd(e,t,i))}),o.onError(n=>{j.log("原生广告加载异常",e,n),i&&null!=a.mLastData[e.toString()]&&null!=a.mLastData[e.toString()]&&(a.mAdMap[e.toString()]=a.mLastData[e.toString()],j.log("原生广告加载异常-使用旧的",e,a.mAdMap[e.toString()]),a.mAdMap[e.toString()].view=i,a.showNativeInfo(a.mAdMap[e.toString()].nativeCurrentAd,t,i)),a.AddFreshAd(e,t,i)}),o.load()}}showNativeInfo(e,t,i){j.log("展示原生广告",t,e),t==g.IMG?(i.skin=e.imgUrlList[0],i.visible=!0):(i.skin=e.icon?e.icon:e.imgUrlList[0],i.visible=!0)}reportAdShow(e,t){j.log("上报广告曝光",t),e.reportAdShow({adId:t})}reportAdClick(e,t){return!Laya.Browser.onVVMiniGame||(j.log("上报广告点击1",e,this.mAdMap),null==this.mAdMap[e.toString()]||null==this.mAdMap[e.toString()]||null==this.mAdMap[e.toString()].nativeAd||this.mAdMap[e.toString()].skip?(j.log("不需要点击上报",this.mAdMap[e.toString()]),!1):(this.mAdMap[e.toString()].nativeAd.reportAdClick({adId:this.mAdMap[e.toString()].nativeCurrentAd.adId}),this.mAdMap[e.toString()].skip=!0,j.log("上报广告点击",this.mAdMap[e.toString()].nativeCurrentAd.adId),j.log("重新加载一次原生广告",e),this.createNativeAd(e,t,this.mAdMap[e.toString()].view),!0))}AddFreshAd(e,t,i){t==g.IMG?(Laya.timer.clear(this,this.loopCompleteAd),Laya.timer.loop(this.TIME,this,this.loopCompleteAd,[e,t,i])):(Laya.timer.clear(this,this.loopCompleteAd2),Laya.timer.loop(this.TIME,this,this.loopCompleteAd2,[e,t,i]))}loopCompleteAd(e,t,i){j.log("广告换一个",e),null!=this.mAdMap[e.toString()]&&null!=this.mAdMap[e.toString()]&&(this.mAdMap[e.toString()].skip=!0),this.createNativeAd(e,t,i)}loopCompleteAd2(e,t,i){j.log("广告换一个",e),this.mAdMap[e.toString()]&&null!=this.mAdMap[e.toString()]&&(this.mAdMap[e.toString()].skip=!0),this.createNativeAd(e,t,i)}}class ze{constructor(){this.isSupport=!1,this.mErrorCaller={},this.mHideCaller={},this.isSupport=de.I.isWxMiniGame(),this.isSupport&&(this.sdk=window.wx,this.mErrorCaller={},this.mErrorFunc={},this.mHideCaller={},this.mHideFunc={},this.initAdvert())}static get I(){return _.get(ze)}initAdvert(){this.initCustomAd()}initCustomAd(){this.mAdMap={}}getCustomAd(e,t,i=10){if(!this.isSupport)return;let n=X.I.getConf().ad.custom[e];if(!this.mAdMap[e.toString()]&&n&&""!=n){let a=null;if("function"==typeof this.sdk.createCustomAd&&-1!=de.I.compareVersion("2.11.1")){let o=this.sdk.getSystemInfoSync(),s=100;t&&(s=t/Laya.stage.height*o.windowHeight);let r=10;i&&(r=i/Laya.stage.width*o.windowWidth),(a=this.sdk.createCustomAd({adUnitId:n,adIntervals:30,style:{left:r,top:s,width:375,fixed:!0}})).onError(e=>{console.log("getCustomAd",n,e)}),a.onLoad(e=>{});let l=this;a.onHide(t=>{l.onHideAD(e,t)})}this.mAdMap[e.toString()]=a}return this.mAdMap[e.toString()]}showCustom(e,t,i,n,a,o,s){if(!this.isSupport)return;this.mErrorCaller[e]=n,this.mErrorFunc[e]=a,this.mHideCaller[e]=o,this.mHideFunc[e]=s;let r=this.getCustomAd(e,t,i);if(r&&!r.isShow()){let t=this;r.show().then(()=>{console.log("WX showCustom显示成功:",e)}).catch(i=>{t.onErrorAD(e,i)})}return r}hideCustom(e){if(!this.isSupport)return;let t=this.mAdMap[e.toString()];t&&t.isShow()&&t.hide()}onErrorAD(e,t){this.mErrorCaller[e]&&this.mErrorFunc[e]?this.mErrorFunc[e].call(this.mErrorCaller[e],t):console.log("onErrorAD:",t)}onHideAD(e,t){this.mHideCaller[e]&&this.mHideFunc[e]&&this.mHideFunc[e].call(this.mHideCaller[e],t)}}class Fe{constructor(){this.mBridge=null,this.mIsRVideoUseAble=!1,this.mIsBannerUseAble=!1,this.mIsNativeUseAble=!1,this.mIsInterstitialUseAble=!1,this.onVideoSuccess=null,this.onVideoFail=null,this.onVideoLoadedFail=null,Laya.Render.isConchApp&&(Laya.Browser.onAndroid?this.mBridge=window.PlatformClass.createClass("com.base.SDKHelper"):Laya.Browser.onIOS,Laya.Browser.window.callJs=(e=>{Fe.I.callJs(e)})),this.onVideoSuccess=null,this.onVideoFail=null,this.onVideoLoadedFail=null}static get I(){return _.get(Fe)}callNative(e){if(!Laya.Render.isConchApp)return;let t=JSON.stringify(e);Laya.Browser.onAndroid?this.mBridge.call("callAndroid",t):Laya.Browser.onIOS&&this.mBridge.call("calliOS:",t)}callJs(e){let t=JSON.parse(e);switch(t.action){case Fe.ACTION_ADS:switch((t=t.data).type){case Fe.ADS_BANNER:switch(t.event){case"loaded":this.mIsBannerUseAble=!0}break;case Fe.ADS_INTERSTITIAL:switch(t.event){case"loaded":this.mIsInterstitialUseAble=!0}break;case Fe.ADS_NATIVE:switch(t.event){case"loaded":this.mIsNativeUseAble=!0}break;case Fe.ADS_REWARDVIDEO:switch(t.event){case"error":this.mIsRVideoUseAble=!1;break;case Fe.ADS_EVENT_LOADED:this.mIsRVideoUseAble=!0;break;case Fe.ADS_EVENT_LOADED_FAILED:this.mIsRVideoUseAble=!1,this.onVideoLoadedFail&&this.onVideoLoadedFail();break;case Fe.ADS_EVENT_FINISH:1==t.complete?this.onVideoSuccess&&this.onVideoSuccess():this.onVideoFail&&this.onVideoFail()}}}}vibrate(e){this.callNative({action:"system",data:{method:"shake",duration:e}})}log(e){this.callNative({action:"log",data:{msg:e}})}logEvent(e,t){this.callNative({action:"event",data:{event_id:e,msg:t}})}initNative(){this.callNative({action:"init",data:{}})}preloadRewardAD(){this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_REWARDVIDEO,event:Fe.ADS_EVENT_LOAD}})}isRewardADLoaded(){return this.mIsRVideoUseAble||this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_REWARDVIDEO,event:Fe.ADS_EVENT_LOADED}}),this.mIsRVideoUseAble}playRewardAD(){this.isRewardADLoaded()&&this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_REWARDVIDEO,event:Fe.ADS_EVENT_SHOW}})}preloadInterstitialAD(e){this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_INTERSTITIAL,event:Fe.ADS_EVENT_LOAD}})}isInterstitialADLoaded(){return this.mIsInterstitialUseAble||this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_INTERSTITIAL,event:Fe.ADS_EVENT_LOADED}}),this.mIsInterstitialUseAble}playInterstitialAD(){this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_INTERSTITIAL,event:Fe.ADS_EVENT_SHOW}})}isBannerUseAble(){return this.mIsBannerUseAble||this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_BANNER,event:Fe.ADS_EVENT_LOADED}}),this.mIsBannerUseAble}playBannerAD(e){this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_BANNER,event:Fe.ADS_EVENT_SHOW}})}removeBannerAD(e){this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_BANNER,event:Fe.ADS_EVENT_HIDE}})}preloadNativeAD(){this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_NATIVE,event:Fe.ADS_EVENT_LOAD}})}isNativeADLoaded(){return this.mIsNativeUseAble||this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_NATIVE,event:Fe.ADS_EVENT_LOADED}}),this.mIsNativeUseAble}playNativeAD(e){this.callNative({action:Fe.ACTION_ADS,data:{type:Fe.ADS_NATIVE,event:Fe.ADS_EVENT_SHOW,click:e}})}}Fe.ACTION_ADS="ads",Fe.ADS_BANNER="Banner",Fe.ADS_INTERSTITIAL="Interstitial",Fe.ADS_REWARDVIDEO="RewardVideo",Fe.ADS_NATIVE="Native",Fe.ADS_EVENT_LOAD="load",Fe.ADS_EVENT_LOADED="loaded",Fe.ADS_EVENT_LOADED_FAILED="loaded_failed",Fe.ADS_EVENT_FINISH="finish",Fe.ADS_EVENT_SHOW="show",Fe.ADS_EVENT_HIDE="hide";class He{constructor(){this.initAdvert()}initAdvert(){this.initInterstitialAd(),this.mCloseVideoCallerInterstitial=null,this.mCloseVideoFuncInterstitial=null,this.mShowVideoCallerInterstitial=null,this.mShowVideoFuncInterstitial=null,this.mInterstitialCb=null}initInterstitialAd(){this.mAdInterstitialMap={},Fe.I.preloadInterstitialAD(Fe.ADS_INTERSTITIAL)}getInterstitialAd(e){return Fe.I.isInterstitialADLoaded()}showInterstitialAd(e,t,i,n,a){this.mCloseVideoCallerInterstitial=t,this.mCloseVideoFuncInterstitial=i,this.mShowVideoCallerInterstitial=n,this.mShowVideoFuncInterstitial=a,Fe.I.playInterstitialAD()}onCloseVideoInterstitial(e){let t=!1;(e&&e.isEnded||void 0===e)&&(t=!0),this.mCloseVideoCallerInterstitial&&this.mCloseVideoFuncInterstitial&&this.mCloseVideoFuncInterstitial.call(this.mCloseVideoCallerInterstitial,t)}}class Ke{constructor(){this.sdk=window.wx,this.initAdvert()}initAdvert(){this.initGameIconAd(),this.initGamePortalAd(),this.initGameBannerAd()}initGameIconAd(){this.mAdGameIconMap={}}initGamePortalAd(){this.mAdGamePortalMap={}}initGameBannerAd(){this.mAdGameBannerMap={}}getGameBannerAd(e,t,i,n){let a=Laya.Browser.clientWidth-20,o=100*Laya.Browser.clientWidth/320,s=this.sdk.getSystemInfoSync();i&&(a=i),n&&(o=n);let r=Laya.Browser.clientHeight-o-10;t&&(r=t);let l=X.I.getConf().ad.gamebanner[e];if(j.log("getGameBannerAd adUnitId:",l),!this.mAdGameBannerMap[e.toString()]&&l&&""!=l){let t=null;this.sdk.createGameBanner&&((t=this.sdk.createGameBanner({adUnitId:l,style:{left:.5*(s.windowWidth-a),top:r,width:a,height:o}}))&&(t.onLoad(()=>{t.style.left=(Laya.Browser.clientWidth-t.style.width)/2,t.style.top=r}),t.onResize(e=>{t.style.top=r,t.style.left=(Laya.Browser.clientWidth-e.width)/2}),t.onError(()=>{j.log("getGameBannerAd onError"),this.mAdGameBannerMap[e.toString()]=null})),this.mAdGameBannerMap[e.toString()]=t)}else this.mAdGameBannerMap[e.toString()]&&(this.mAdGameBannerMap[e.toString()].style.top=t);return this.mAdGameBannerMap[e.toString()]}showGameBannerAd(e,t,i,n){if(-1==de.I.compareVersion("2.7.5"))return null;let a=this.getGameBannerAd(e,t,i,n);if(a&&a){a.show().catch(e=>{j.error(e)});let e=100;t&&(e=t),a.style.top=e,a.style.left=(Laya.Browser.clientWidth-a.style.width)/2}return a}hideGameBannerAd(e){let t=this.mAdGameBannerMap[e.toString()];t&&t.hide()}getGamePortalAd(e,t){let i=X.I.getConf().ad.gameportal[e];if(j.log("getGamePortalAd adUnitId:",i),!this.mAdGamePortalMap[e.toString()]&&i&&""!=i){let n=null;this.sdk.createGamePortal?((n=this.sdk.createGamePortal({adUnitId:i}))&&(n.onLoad(()=>{}),n.onError(()=>{j.log("getGamePortalAd onError"),this.mAdGamePortalMap[e.toString()]=null})),this.mAdGamePortalMap[e.toString()]=n):this.mAdGamePortalMap[e.toString()]&&(this.mAdGamePortalMap[e.toString()].style.top=t)}return this.mAdGamePortalMap[e.toString()]}showGamePortalAd(e,t){if(-1==de.I.compareVersion("2.7.5"))return null;let i=this.getGamePortalAd(e,t);return i&&i&&i.load().then(()=>{i.show()}).catch(e=>{j.error(e)}),i}getGameIconAd(e,t){let i=X.I.getConf().ad.gameicon[e];if(!this.mAdGameIconMap[e.toString()]&&i&&""!=i){let t=null;this.sdk.createGameIcon&&(t=this.sdk.createGameIcon({adUnitId:i,count:3})),this.mAdGameIconMap[e.toString()]=t}return this.mAdGameIconMap[e.toString()]}showGameIconAd(e,t){if(-1==de.I.compareVersion("2.8.2"))return null;let i=this.getGameIconAd(e,t);i&&i&&i.load().then(()=>{i.show()}).catch(e=>{j.error(e)})}}class We{constructor(){this.mShowTTBanner=!0,this.mVVGreateBannerTime=0,this.sdk=window.wx,this.mErrorVideoCaller=null,this.mErrorVideoFunc=null,this.initAdvert()}initAdvert(){this.initBannerAd()}initBannerAd(){this.mBannerAdMap={}}setShowTTBanner(e){this.mShowTTBanner=e}clearAllBannerKey(){this.mBannerAdMap={}}clearBannerKey(e){this.mBannerAdMap[e.toString()]=null}getBannerAd(e,t,i,n,a){let o=X.I.getConf().ad.banner[e];if(j.log("WX getBannerAd adUnitId:",o),!this.mBannerAdMap[e.toString()]&&o&&""!=o&&this.sdk.createBannerAd){let s=Laya.Browser.clientWidth-20,r=100*Laya.Browser.clientWidth/320,l=this.sdk.getSystemInfoSync(),h=null;n&&(s=n),a&&(r=a);let d=Laya.Browser.clientHeight-r-10;t&&(d=t/Laya.stage.height*l.windowHeight);let c=.5*(l.windowWidth-s);i&&(c=i/Laya.stage.width*l.windowWidth),-1!=de.I.compareVersion("2.0.4")&&(h=this.sdk.createBannerAd({adUnitId:o,adIntervals:30,style:{left:c,top:d,width:s,height:r}})),h&&(h.onResize(e=>{let n=this.sdk.getSystemInfoSync(),a=n.windowHeight-e.height-10;t&&(a=t/Laya.stage.height*n.windowHeight);let o=.5*(n.windowWidth-e.width);i&&(o=i/Laya.stage.width*n.windowWidth),h.style.top=a,h.style.left=o}),h.onError(()=>{let o={};o.adkey=e,o.mTop=t,o.mLeft=i,o.mWidht=n,o.mHeight=a,this.onErrorVideo(o),j.log("getBannerAd onError")})),this.mBannerAdMap[e.toString()]=h}else this.mBannerAdMap[e.toString()]&&(this.mBannerAdMap[e.toString()].style.top=t);return this.mBannerAdMap[e.toString()]}showBannerAd(e,t,i,n,a,o,s){this.mErrorVideoCaller=o,this.mErrorVideoFunc=s;let r=this.getBannerAd(e,t,i,n,a);if(r){let o=this.sdk.getSystemInfoSync(),s=Laya.Browser.clientHeight-r.style.height-10;t&&(s=t/Laya.stage.height*o.windowHeight);let h=(Laya.Browser.clientWidth-r.style.width)/2;if(i&&(h=i/Laya.stage.width*o.windowWidth),this.mBannerAdMap[e.toString()]){var l=r.show();l&&l.then(()=>{j.log("WX  banner广告显示成功")}).catch(o=>{let s={};s.adkey=e,s.mTop=t,s.mLeft=i,s.mWidht=n,s.mHeight=a,this.onErrorVideo(s),j.log("WX  banner广告组件出现问题",o)}),r.style.top=s,r.style.left=h}else r.offLoad(),r.onLoad(()=>{if(this.mShowTTBanner){var o=r.show();o&&o.then(()=>{j.log("@122222 广告显示成功")}).catch(o=>{let s={};s.adkey=e,s.mTop=t,s.mLeft=i,s.mWidht=n,s.mHeight=a,this.onErrorVideo(s),j.log(" @122222 广告组件出现问题",o)})}r.style.top=s,r.style.left=h,this.mBannerAdMap[e.toString()]=r})}return r}hideBannerAd(e){let t=this.mBannerAdMap[e.toString()];t&&t.hide()}onErrorVideo(e){this.mErrorVideoCaller&&this.mErrorVideoFunc&&this.mErrorVideoFunc.call(this.mErrorVideoCaller,e)}}class qe extends We{constructor(){super(),this.sdk=window.tt}getBannerAd(e,t,i,n){let a=X.I.getConf().ad.banner[e];if(j.log("getBannerAd adUnitId:",a),!this.mBannerAdMap[e.toString()]&&a&&""!=a&&this.sdk.createBannerAd){let i=320,n=112,o=this.sdk.getSystemInfoSync(),s=null,r=Laya.Browser.clientHeight-n;t&&(r=t),-1!=de.I.compareVersion("1.32.0")&&(s=this.sdk.createBannerAd({adUnitId:a,adIntervals:60,style:{left:.5*(o.windowWidth-i),top:r,width:i,height:n}})),s&&(s.onResize(e=>{let i=this.sdk.getSystemInfoSync(),n=i.windowHeight-e.height;t&&(n=t),s.style.top=n,s.style.left=(i.windowWidth-e.width)/2}),s.onError(()=>{j.log("getBannerAd onError")})),this.mBannerAdMap[e.toString()]=s}return this.mBannerAdMap[e.toString()]}showBannerAd(e,t,i,n,a,o){if(de.I.isDOUYIN())return null;let s=this.getBannerAd(e,t);if(s){let i=Laya.Browser.clientHeight-s.style.height;if(t&&(i=t),this.mBannerAdMap[e.toString()]){var r=s.show();r&&r.then(()=>{j.log("@11111 广告显示成功")}).catch(e=>{j.log("@111 广告组件出现问题",e)})}else s.offLoad(),s.onLoad(()=>{if(this.mShowTTBanner){var t=s.show();t&&t.then(()=>{j.log("@122222 广告显示成功")}).catch(e=>{j.log(" @122222 广告组件出现问题",e)})}s.style.top=i,s.style.left=(Laya.Browser.clientWidth-s.style.width)/2,this.mBannerAdMap[e.toString()]=s})}return s}}class je extends We{constructor(){super(),this.sdk=window.qq}getBannerAd(e,t,i,n){let a=X.I.getConf().ad.banner[e];if(j.log("QQ getBannerAd adUnitId:",a),!this.mBannerAdMap[e.toString()]&&a&&""!=a&&this.sdk.createBannerAd){let i=320,n=112,o=Laya.Browser.clientHeight-n;t&&(o=t);let s=this.sdk.getSystemInfoSync(),r=this.sdk.createBannerAd({adUnitId:a,style:{left:.5*(s.windowWidth-i),top:o,width:i,height:n}});r&&(r.onResize(e=>{let i=this.sdk.getSystemInfoSync(),n=i.windowHeight-e.height;t&&(n=t),r.style.top=n,r.style.left=(i.windowWidth-e.width)/2}),r.onError(()=>{j.log("getBannerAd onError")})),this.mBannerAdMap[e.toString()]=r}else this.mBannerAdMap[e.toString()]&&(this.mBannerAdMap[e.toString()].style.top=t);return this.mBannerAdMap[e.toString()]}}class Qe extends We{constructor(){super(),this.sdk=window.qg}getBannerAd(e,t,i,n){let a=X.I.getConf().ad.banner[e];if(j.log("getBannerAd adUnitId:",a),!this.mBannerAdMap[e.toString()]&&a&&""!=a){let i=null;-1!=de.I.compareVersion("1031")&&(t?(j.log("~~~~mTop  getBannerAd adUnitId:",a),i=this.sdk.createBannerAd({posId:a})):(j.log("~~~~no mTop  getBannerAd adUnitId:",a),i=this.sdk.createBannerAd({posId:a,style:{}})),i&&(i.offClose(),i.onClose(()=>{j.log("getBannerAd onClose"),i=null,this.mBannerAdMap[e.toString()]=null}),i.offError(),i.onError(t=>{j.log(t),this.mBannerAdMap[e.toString()]=null}))),this.mBannerAdMap[e.toString()]=i}return this.mBannerAdMap[e.toString()]}showBannerAd(e,t,i,n,a,o){if((new Date).getTime()-this.mVVGreateBannerTime<=3e3)return null;this.mVVGreateBannerTime=(new Date).getTime();let s=this.getBannerAd(e,t);if(s&&this.mBannerAdMap[e.toString()]){var r=s.show();r&&r.then(()=>{j.log("@11111 广告显示成功")})}return s}hideBannerAd(e){j.log("banner广告");let t=this.mBannerAdMap[e.toString()];if(t){j.log("banner广告存在");var i=t.hide();i&&i.then(()=>{this.mBannerAdMap[e.toString()]=null,j.log("banner广告隐藏成功")}).catch(e=>{j.log("banner广告销隐藏失败",e)})}}}class $e extends We{constructor(){super(),this.sdk=window.qg}getBannerAd(e,t,i,n){let a=X.I.getConf().ad.banner[e];if(j.log("getBannerAd adUnitId:",a),!this.mBannerAdMap[e.toString()]&&a&&""!=a&&this.sdk.createBannerAd){let i=null;-1!=de.I.compareVersion("1051")&&((i=this.sdk.createBannerAd({adUnitId:a})).offLoad(),i.onLoad(function(){console.log("banner 广告加载成功");let e=Laya.Browser.clientHeight-i.style.height;t&&(e=t),i.style.top=e,i.style.left=(Laya.Browser.clientWidth-i.style.width)/2}),i.offHide(),i.onHide(function(){console.log("banner 广告隐藏")}),i.offError(),i.onError(e=>{console.log("banner 广告出错",e),i.destroy(),i=null,this.mBannerAdMap[a]=null}),i.offResize(),i.onResize(function(e){console.log("banner 宽度："+e.width+", banner 高度："+e.height)})),this.mBannerAdMap[e.toString()]=i}else this.mBannerAdMap[e.toString()]&&(this.mBannerAdMap[e.toString()].style.top=t);return this.mBannerAdMap[e.toString()]}showBannerAd(e,t,i,n,a,o){let s=this.getBannerAd(e,t);if(s&&-1!=de.I.compareVersion("1051")){var r=s.show();r&&r.then(()=>{j.log("banner 广告显示成功")})}return s}hideBannerAd(e){j.log("banner广告");let t=this.mBannerAdMap[e.toString()];t&&t.hide()}clearBannerKey(e){}}class Ze{constructor(){if(this.mDestroyWhenStop=!1,Z.instance.addListener(J.GameOnShowEvent,this,this.onGameShowEvent),Z.instance.addListener(J.GameOnHideEvent,this,this.onGameHideEvent),J.I.getSDK()&&J.I.getSDK().onAudioInterruptionEnd&&J.I.getSDK().onAudioInterruptionBegin){let e=this;J.I.getSDK().onAudioInterruptionEnd(function(){e.onAudioInterruptionEnd()}),J.I.getSDK().onAudioInterruptionBegin(function(){e.onAudioInterruptionBegin()})}}static get I(){return Ze.getInstance()}static getInstance(){return null==Ze.instance&&(Ze.instance=new Ze),Ze.instance}onGameShowEvent(){console.log("不静音"),Laya.SoundManager.musicMuted=!1,Laya.SoundManager.soundMuted=!1}onGameHideEvent(){Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0}onAudioInterruptionBegin(){Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0}onAudioInterruptionEnd(){console.log("不静音"),Laya.SoundManager.musicMuted=!1,Laya.SoundManager.soundMuted=!1,this.playOldMusic()}playOldMusic(){console.log("播放隐约++++"),Ze.mOldBgmName&&(Laya.SoundManager.stopMusic(),Laya.SoundManager.playMusic(`music/${Ze.mOldBgmName}.mp3`,0,null,null))}init(e,t=!1){Laya.SoundManager.autoStopMusic=!0,this.mDestroyWhenStop=t,this.playBGM(e)}playBGM(e){Laya.Browser.onVVMiniGame&&de.I.compareVersion("1063")<=0?console.log("VIVO低于1063屏蔽背景音乐"):Re.I.isMusicMute&&Ze.mOldBgmName!=e&&(Laya.SoundManager.playMusic(`music/${e}.mp3`,0,null,null),this.mDestroyWhenStop&&null!=Ze.mOldBgmName&&Laya.SoundManager.destroySound(`music/${Ze.mOldBgmName}.mp3`),Ze.mOldBgmName=e)}stopBGM(){Laya.SoundManager.stopMusic(),this.mDestroyWhenStop&&null!=Ze.mOldBgmName&&Laya.SoundManager.destroySound(`music/${Ze.mOldBgmName}.mp3`),Ze.mOldBgmName=null}playSound(e,t,i,n,a,o){if(Re.I.isSoundMute)return Laya.Render.isConchApp&&(t=".wav"),null==t&&(t=".mp3"),e+=t,e=Laya.Render.isConchApp?`sound/native/${e}`:`sound/default/${e}`,Laya.SoundManager.playSound(e,i,n,a,o)}stopSound(e,t){Laya.Render.isConchApp&&(t=".wav"),null==t&&(t=".mp3"),e+=t,e=Laya.Render.isConchApp?`sound/native/${e}`:`sound/default/${e}`,Laya.SoundManager.stopSound(e)}setMusicVolume(e){Laya.SoundManager.setMusicVolume(e)}setSoundVolume(e){Laya.SoundManager.setSoundVolume(e)}}Ze.mOldBgmName=null,function(e){e[e.InviteFriend=1e4]="InviteFriend",e[e.DoubleCoin=10001]="DoubleCoin",e[e.Rank=10002]="Rank"}(y||(y={}));class Je{constructor(){Pe.I.addListener(Pe.ShareApp,this,this.onShareApp)}static get I(){return _.get(Je)}initDefaultShare(){Pe.I.setDefaultShareHandler(this,this.randomDefaultShareContent)}randomDefaultShareContent(){let e,t=Je.ShareList.length;if(t>0){let i=W.random(1,t);e=Je.ShareList[i-1]}let i=new ve;K.instance.uid&&""!=K.instance.uid&&i.add("inviter_gid",K.instance.uid),Pe.I.setDefaultShareContent(e.des,this.toShareImgUrl(e.icon),i.ToString())}toShareImgUrl(e){return Laya.ResourceVersion.manifest&&Laya.ResourceVersion.manifest[e]&&(e=Laya.ResourceVersion.manifest[e]),e}share(e,t,i,n){if(Laya.Browser.onMiniGame);else if(Laya.Browser.onQQMiniGame);else if(!Laya.Browser.onVVMiniGame)return Laya.Browser.onQGMiniGame,!1;let a,o=Je.ShareList.length;if(o>0){let e=W.random(1,o);a=Je.ShareList[e-1]}t&&(a.des=t),i&&(a.icon=i);let s=new ve;return a.share_id?s.add("share_id",a.share_id):s.add("share_id",e),n&&(n.room_id&&s.add("room_id",n.room_id),n.port&&s.add("port",n.port),n.room_index&&s.add("room_index",n.room_index)),K.instance.uid&&""!=K.instance.uid&&s.add("inviter_gid",K.instance.uid),Pe.I.share(a.des,this.toShareImgUrl(a.icon),s.ToString()),!0}onShareApp(e){let t=new _e;t.success=!1,e.success?Laya.timer.once(this.getStayTime(),this,this.shareSuccess,[t]):(t.success=!1,Z.instance.triggerListener("shareApp",t))}shareSuccess(e){e.success=!0,Z.instance.triggerListener("shareApp",e)}getStayTime(){return Je.ShareTime}}Je.ShareList=[],Je.ShareTime=1e3;class et{constructor(){this.mVidePlayTime=0,this.sdk=window.wx,this.initAdvert()}initAdvert(){this.initVideoAd(),this.mCloseVideoCaller=null,this.mCloseVideoFunc=null,this.mShowVideoCaller=null,this.mShowVideoFunc=null,this.mCb=null,this.mHideFlag=0,this.mVidePlayTime=0,Z.instance.addListener("shareApp",this,this.onShareResultEvent),Z.instance.addListener(J.GameOnShowEvent,this,this.gameOnShowEvent),Z.instance.addListener(J.GameOnHideEvent,this,this.gameOnHideEvent)}initVideoAd(){this.mAdVideoMap={}}gameOnShowEvent(e){2==this.mHideFlag&&(this.mHideFlag=3)}gameOnHideEvent(e){1==this.mHideFlag&&(this.mHideFlag=2)}getVideoAd(e){let t=X.I.getConf().ad.video[e];if(j.log("getVideoAd key:",t),!this.mAdVideoMap[e.toString()]&&t&&""!=t&&this.sdk.createRewardedVideoAd){j.log("createVideoAd adkey:"+t);let i=this.sdk.createRewardedVideoAd({adUnitId:t});this.mAdVideoMap[e.toString()]=i}return this.mAdVideoMap[e.toString()]}showVideoAd(e,t,i,n,a){this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0,Ze.I.setSoundVolume(0),Ze.I.stopBGM();let o=this.getVideoAd(e);o?(o.onLoad(()=>{j.log("激励视频 广告加载成功")}),this.mCb&&o.offClose(this.mCb),this.mCb=(e=>{this.onCloseVideo(e)}),o.onClose(this.mCb),o.offError(),o.onError(e=>{this.videoAdErrfun(e)}),this.mHideFlag=1,o.show().then(()=>{j.log("激励视频 广告显示成功")}).catch(()=>{o.load().then(()=>o.show().catch(e=>{this.mHideFlag=0,this.onVideoLoadFail(),j.log("激励视频 广告显示失败"+e)}))})):(this.onVideoLoadFail(),this.mHideFlag=0)}videoAdErrfun(e){this.onVideoLoadFail(),this.mHideFlag=0,j.log("激励视频 报错 res:",e)}onVideoLoadFail(){this.mIsListenShare=!1,Je.I.share(y.InviteFriend)?this.mIsListenShare=!0:this.onCloseVideo({isEnded:!1})}onShareResultEvent(e){this.mIsListenShare&&(this.mIsListenShare=!1,this.onCloseVideo({isEnded:e.success}))}onCloseVideo(e){let t=!1;(e&&e.isEnded||void 0===e)&&(t=!0),Laya.SoundManager.soundMuted=!1,Ze.I.setSoundVolume(1),console.log("播音乐++++");let i=d.Failed;t&&(i=3==this.mHideFlag?d.Jump:d.Normal),this.mHideFlag=0,this.mCloseVideoCaller&&this.mCloseVideoFunc&&this.mCloseVideoFunc.call(this.mCloseVideoCaller,i)}}class it extends et{constructor(){super(),this.sdk=window.tt}showVideoAd(e,t,i,n,a){this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0,Ze.I.setSoundVolume(0),Ze.I.stopBGM();let o=this.getVideoAd(e);o?(o.offError(this.videoAdErrfun.bind(this)),o.onError(this.videoAdErrfun.bind(this)),o.show().then(()=>{}).catch(e=>{o.load().then(()=>{o.show()})})):Je.I.share(y.InviteFriend)||this.onCloseVideo({isEnded:!0})}}class nt extends et{constructor(){super(),this.sdk=window.qq}}class at{}at.MoonGameBoxPanel="MoonGameBoxPanel",at.MoonGuideGesturePanel="MoonGuideGesturePanel",at.MoonTipPanel="MoonTipPanel",at.MoonConfirmPanel="MoonConfirmPanel",at.MoonMainAdPanel="MoonMainAdPanel",at.MoonMainAd2Panel="MoonMainAd2Panel",at.MoonResultsPanel="MoonResultsPanel",at.MoonResults2Panel="MoonResults2Panel";class ot extends at{}ot.LoadingPanel="LoadingPanel",ot.BattleFailPanel="BattleFailPanel",ot.BattleWinPanel="BattleWinPanel",ot.BattleMainPanel="BattleMainPanel",ot.BattleGesturePanel="BattleGesturePanel",ot.BattlePipeiPanel="BattlePipeiPanel",ot.BattleFreeUsePanel="BattleFreeUsePanel",ot.BattleRandomPanel="BattleRandomPanel",ot.BattleCountDownPanel="BattleCountDownPanel",ot.TopBarPanel="TopBarPanel",ot.AddCoinPanel="AddCoinPanel",ot.BattleOfflinePanel="BattleOfflinePanel",ot.BattleMedalPanel="BattleMedalPanel",ot.ContactGMPanel="ContactGMPanel",ot.BattleSettingPanel="BattleSettingPanel",ot.BattleWarnningPanel="BattleWarnningPanel",function(e){e[e.Normal=0]="Normal",e[e.Top=1]="Top",e[e.Dialog=2]="Dialog",e[e.Waiting=3]="Waiting",e[e.Last=4]="Last"}(w||(w={}));class st{constructor(){this.dicLayerNode=new Q}static get instance(){return st.getInstance()}static getInstance(){return null==st.mInstance&&(st.mInstance=new st),st.mInstance}get uiRoot(){return this.mRoot}init(e){this.mRoot=this.createNode("UIRoot"),e.addChild(this.mRoot);for(let e=0;e<w.Last;e++){let t=this.createNode(w[e]);this.uiRoot.addChild(t),this.dicLayerNode.add(e,t)}}createNode(e){let t=new Laya.UIComponent;return t.mouseEnabled=!0,t.mouseThrough=!0,t.left=0,t.right=0,t.top=0,t.bottom=0,t.name=e,t}getLayer(e){return this.dicLayerNode.get(e)}enableEvent(e){for(let t in this.dicLayerNode.table){this.dicLayerNode.get(t).mouseEnabled=e}}}!function(e){e[e.Idle=0]="Idle",e[e.Preparing=1]="Preparing",e[e.Success=2]="Success",e[e.Fail=3]="Fail"}(f||(f={}));class rt{constructor(e,t){this.mPath=e,this.mCtrl=t,this.state=f.Idle,this.mIsShow=!1}get path(){return this.mPath}get ctrl(){return this.mCtrl}get view(){return this.mView}get isShow(){return this.mIsShow}initial(){this.mCtrl.initial(),this.prepareView()}dispose(){this.state==f.Success&&this.mCtrl.end(),this.mCtrl.dispose(),this.mCtrl=null,this.state==f.Success&&(this.viewParent.removeChild(this.mView),this.mView.destroy(),this.mView=null)}show(e){if(this.args=e,this.mIsShow){if(this.viewParent){this.mView.visible||(this.mView.visible=!0);let e=this.viewParent.numChildren;e=e>0?e-1:0,this.viewParent.setChildIndex(this.mView,e)}}else this.mIsShow=!0,this.state==f.Success?this.onShow():this.prepareView()}hide(){this.mIsShow&&(this.mIsShow=!1,this.state==f.Success&&(this.mCtrl.hide(),this.viewParent.removeChild(this.mView)))}update(e){this.state==f.Success&&this.mIsShow&&this.mCtrl.update(e)}visiable(e){this.mView&&this.mView.visible!=e&&this.mIsShow&&(this.mView.visible=e)}resize(){this.state==f.Success&&this.mCtrl.resize()}prepareView(){this.state!=f.Idle&&this.state!=f.Fail||(this.state=f.Preparing,this.mCtrl.prepare(this,this.onViewComplete))}onViewComplete(e,t,i){e?(this.state=f.Success,this.mView=t,this.viewParent=st.instance.getLayer(i),this.mView.name=this.mPath,this.mCtrl.start(),this.mCtrl.resize(),this.mIsShow&&this.onShow()):this.state=f.Fail}onShow(){this.viewParent.addChild(this.mView),this.mCtrl.show(this.args),this.args=null}}class lt{constructor(){this.PathPattern=/(?:\/)/g,this.dicPanels=new A}static get instance(){return lt.getInstance()}static getInstance(){return null==lt.mInstance&&(lt.mInstance=new lt),lt.mInstance}init(e){this.panelCreator=e}show(e,t){let i=this.dicPanels.get(e);null==i&&(i=new rt(e,this.panelCreator.createPanel(e)),this.dicPanels.add(e,i),i.initial()),i.show(t)}hide(e){let t=this.dicPanels.get(e);null!=t&&t.hide()}destroy(e){let t=this.dicPanels.get(e);null!=t&&(t.hide(),t.dispose(),this.dicPanels.remove(e))}update(e){for(let t in this.dicPanels.table)this.dicPanels.table[t].update(e)}visiable(e,t){let i=this.dicPanels.get(e);null!=i&&i.visiable(t)}resize(){for(let e in this.dicPanels.table)this.dicPanels.table[e].resize()}getPanel(e){let t=this.dicPanels.get(e);return null!=t?t.ctrl:null}isShow(e){return!!this.dicPanels.containsKey(e)&&this.dicPanels.get(e).isShow}findChild(e,t){if(!t)return null;let i=t.split(this.PathPattern),n=e,a=i.length;for(;a>0&&n;){let e=i[i.length-a];n="."==e?n.parent:n.getChildByName(e),a--}return n}}class ht extends et{constructor(){super(),this.mVVGreateVideoTime=0,this.sdk=window.qg}getVideoAd(e){let t=X.I.getConf().ad.video[e];if(j.log("VVgetVideoAd key:",t),!this.mAdVideoMap[e.toString()]&&t&&""!=t&&this.sdk.createRewardedVideoAd){j.log("VVcreateVideoAd adkey:"+t);let i=null;-1!=de.I.compareVersion("1041")&&(i=this.sdk.createRewardedVideoAd({posId:t})),this.mAdVideoMap[e.toString()]=i}return this.mAdVideoMap[e.toString()]}showVideoAd(e,t,i,n,a){if(this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,(new Date).getTime()-this.mVVGreateVideoTime<=3e3)return lt.instance.show(ot.MoonTipPanel,"暂无视频, 请稍后再试!!!!!"),null;this.mVVGreateVideoTime=(new Date).getTime(),Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0,Ze.I.setSoundVolume(0),Ze.I.stopBGM();let o=this.getVideoAd(e);if(o){this.mKey=e,o.offError(this.videoAdErrfun.bind(this)),o.onError(this.videoAdErrfun.bind(this));const t=e=>{this.onCloseVideo(e)};o.offClose(t),o.onClose(t),o.offLoad(),o.onLoad(()=>{j.log("VV激励视频加载完成");let e=o.show();e&&e.then(()=>{console.log("VV激励视频广告展示完成")}).catch(e=>{this.videoAdErrfun(JSON.stringify(e)),j.log("VV激励广告展示失败"+JSON.stringify(e))})});let i=o.load();i&&i.catch(e=>{j.log("vv激励广告load失败"+JSON.stringify(e)),this.videoAdErrfun(JSON.stringify(e))})}else this.onCloseVideo({isEnded:!0})}videoAdErrfun(e){lt.instance.show(ot.MoonTipPanel,"暂无视频, 请稍后再试"),this.onVideoLoadFail(),this.mHideFlag=0}onVideoLoadFail(){this.onCloseVideo({isEnded:!1})}}class dt extends et{constructor(){super(),this.sdk=window.qg}getVideoAd(e){let t=X.I.getConf().ad.video[e];if(j.log("getVideoAd key:",t),!this.mAdVideoMap[e.toString()]&&t&&""!=t&&this.sdk.createRewardedVideoAd){j.log("createVideoAd adkey:"+t);let i=null;-1!=de.I.compareVersion("1051")&&(j.log("onQGMiniGame createVideoAd adkey:"+t),i=this.sdk.createRewardedVideoAd({adUnitId:t})),i&&(this.mCb&&i.offClose(this.mCb),this.mCb=(e=>{this.onCloseVideo(e),(e&&e.isEnded||void 0===e)&&(i.offLoad(null),i.load())}),i.onClose(this.mCb),i.load()),this.mAdVideoMap[e.toString()]=i}return this.mAdVideoMap[e.toString()]}showVideoAd(e,t,i,n,a){this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,console.log("打开静音"),Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0,Ze.I.setSoundVolume(0),Ze.I.stopBGM();let o=this.getVideoAd(e);o?(this.mKey=e,o.offError(this.videoAdErrfun.bind(this)),o.onError(this.videoAdErrfun.bind(this)),-1!=de.I.compareVersion("1051")&&(o.load(),o.onLoad(()=>{o.show()}))):Je.I.share(y.InviteFriend)||this.onCloseVideo({isEnded:!0})}videoAdErrfun(e){if(super.videoAdErrfun(e),lt.instance.show(ot.MoonTipPanel,"暂无视频, 请稍后再试"),this.mAdVideoMap[this.mKey.toString()]){let e=this.mAdVideoMap[this.mKey.toString()];e&&(e.destroy(),e=null),this.mAdVideoMap[this.mKey.toString()]=null}}}class ct{constructor(){this.sdk=window.wx,this.lastTime=0,this.initAdvert()}initAdvert(){this.initInterstitialAd(),this.mCloseVideoCallerInterstitial=null,this.mCloseVideoFuncInterstitial=null,this.mShowVideoCallerInterstitial=null,this.mShowVideoFuncInterstitial=null,this.mInterstitialCb=null}initInterstitialAd(){this.mAdInterstitialMap={}}getInterstitialAd(e){let t=X.I.getConf().ad.interstitial[e];if(!this.mAdInterstitialMap[e.toString()]&&t&&""!=t){j.log("createInterstitialoAd key:"+t);let i=null;(i=this.sdk.createInterstitialAd({adUnitId:t}))&&(i.onLoad(()=>{j.log("WX 插屏 广告加载成功")}),this.mInterstitialCb&&i.offClose(this.mInterstitialCb),this.mInterstitialCb=(e=>{this.onCloseVideoInterstitial(e)}),i.onClose(this.mInterstitialCb)),this.mAdInterstitialMap[e.toString()]=i}return this.mAdInterstitialMap[e.toString()]}showInterstitialAd(e,t,i,n,a){}onCloseVideoInterstitial(e){let t=!1;e&&e.isEnded||void 0===e?(t=!0,j.log("正常播放结束，可以下发游戏奖励")):j.log("关闭播放结束，不可以下发游戏奖励"),this.mCloseVideoCallerInterstitial&&this.mCloseVideoFuncInterstitial&&this.mCloseVideoFuncInterstitial.call(this.mCloseVideoCallerInterstitial,t)}}class pt extends ct{constructor(){super(),this.mVVGreateInterstitialTime=0,this.sdk=window.qg}getInterstitialAd(e){let t=X.I.getConf().ad.interstitial[e];if(!this.mAdInterstitialMap[e.toString()]&&t&&""!=t){j.log("createInterstitialoAd key:"+t);let i=null;this.sdk.createInterstitialAd&&-1!=de.I.compareVersion("1031")&&(i=this.sdk.createInterstitialAd({posId:t})),i&&(i.onLoad(()=>{}),this.mInterstitialCb&&i.offClose(this.mInterstitialCb),this.mInterstitialCb=(e=>{this.onCloseVideoInterstitial(e)}),i.onClose(this.mInterstitialCb)),this.mAdInterstitialMap[e.toString()]=i}return this.mAdInterstitialMap[e.toString()]}showInterstitialAd(e,t,i,n,a){this.mCloseVideoCallerInterstitial=t,this.mCloseVideoFuncInterstitial=i,this.mShowVideoCallerInterstitial=n,this.mShowVideoFuncInterstitial=a;let o=this.getInterstitialAd(e),s=!0;if((new Date).getTime()-this.mVVGreateInterstitialTime<=3e3&&(s=!1),o&&s){o.offError(),o.onError(e=>{this.onCloseVideoInterstitial({isEnded:!0})});let t=o.show();this.mVVGreateInterstitialTime=(new Date).getTime(),t&&t.then(()=>{j.log("插屏广告展示成功")}).catch(t=>{switch(this.mAdInterstitialMap[e.toString()]=null,t.code){case 30003:j.log("新用户1天内不能曝光Banner，请将手机时间调整为1天后，退出游戏重新进入");break;case 30009:j.log("10秒内调用广告次数超过1次，10秒后再调用");break;case 30002:j.log("load广告失败，重新加载广告"),this.vivoRetryShow(e);break;case 3e4:j.log("广告对象长时间不用会被回收导致或者是创建初始化未完成或未初始化 (等待初始化首次加载完成)"),this.vivoRetryShow(e);break;default:j.log("插屏广告展示失败"),j.log(JSON.stringify(t))}})}else this.onCloseVideoInterstitial({isEnded:!0})}vivoRetryShow(e){let t=X.I.getConf().ad.interstitial[e];if(!this.mAdInterstitialMap[e.toString()]&&this.sdk.createInterstitialAd&&t&&""!=t){let e=this.sdk.createInterstitialAd({posId:t}).show();e&&e.then(()=>{j.log("插屏广告展示成功")}).catch(e=>{j.log("插屏广告展示失败-重试"),j.log(JSON.stringify(e))})}}}class gt extends ct{constructor(){super(),this.sdk=window.qg}getInterstitialAd(e){let t=X.I.getConf().ad.interstitial[e];if(!this.mAdInterstitialMap[e.toString()]&&t&&""!=t){j.log("createInterstitialoAd key:"+t);let i=null;this.sdk.createInsertAd&&-1!=de.I.compareVersion("1051")&&(j.log("onQGMiniGame createInterstitialoAd key:"+t),i=this.sdk.createInsertAd({adUnitId:t})),i&&(this.mInterstitialCb&&i.offClose(this.mInterstitialCb),this.mInterstitialCb=(e=>{this.onCloseVideoInterstitial(e)}),i.onClose(this.mInterstitialCb)),this.mAdInterstitialMap[e.toString()]=i}return this.mAdInterstitialMap[e.toString()]}showInterstitialAd(e,t,i,n,a){this.mCloseVideoCallerInterstitial=t,this.mCloseVideoFuncInterstitial=i,this.mShowVideoCallerInterstitial=n,this.mShowVideoFuncInterstitial=a;let o=this.getInterstitialAd(e);o?(o.offError(),o.onError(e=>{this.onCloseVideoInterstitial({isEnded:!0})}),-1!=de.I.compareVersion("1051")&&(o.load(),o.onLoad(()=>{o.show()}))):this.onCloseVideoInterstitial({isEnded:!0})}}class mt{constructor(){this.sdk=window.wx,this.initAdvert()}initAdvert(){this.initBoxAd()}initBoxAd(){this.mAdBoxMap={}}getBoxAd(e,t){let i=X.I.getConf().ad.box[e];if(!this.mAdBoxMap[e.toString()]&&i&&""!=i){let t=null;"function"==typeof this.sdk.createGridAd&&((t=this.sdk.createGridAd({adUnitId:X.I.getConf().ad.box[e],adTheme:"white",gridCount:5,style:{left:(Laya.Browser.clientWidth-330)/2,top:(Laya.Browser.clientHeight-100)/2,width:330,opacity:.8}})).style.left=(Laya.Browser.clientWidth-t.style.width)/2,t.style.top=(Laya.Browser.clientHeight-100)/2),this.mAdBoxMap[e.toString()]=t}return this.mAdBoxMap[e.toString()]}showBox(e){let t=this.getBoxAd(e);return t&&(t.show(),t.style.top=120),t}hideBox(e){let t=this.getBoxAd(e);t&&t.hide()}}class ut extends mt{constructor(){super(),this.sdk=window.qq}getBoxAd(e,t){let i=X.I.getConf().ad.box[e];if(!this.mAdBoxMap[e.toString()]&&i&&""!=i){let t=this.sdk.createAppBox({adUnitId:X.I.getConf().ad.box[e]});this.mAdBoxMap[e.toString()]=t}return this.mAdBoxMap[e.toString()]}showBox(e){let t=this.getBoxAd(e);return t&&t.load().then(()=>{t.show()}),t}hideBox(e){}}class yt extends ct{constructor(){super(),this.sdk=window.qq}getInterstitialAd(e){let t=X.I.getConf().ad.interstitial[e];if(!this.mAdInterstitialMap[e.toString()]&&t&&""!=t&&-1!=de.I.compareVersion("1.12.0")){j.log("QQ createInterstitialoAd key:"+t);let i=null;(i=this.sdk.createInterstitialAd({adUnitId:t}))&&(j.log("QQ 222 createInterstitialoAd key:"+t),i.load().catch(e=>{j.error("QQ 222 createInterstitialoAd load error",e)}),i.onLoad(()=>{j.log("WX 插屏 广告加载成功")}),this.mInterstitialCb&&i.offClose(this.mInterstitialCb),this.mInterstitialCb=(e=>{this.onCloseVideoInterstitial(e)}),i.onClose(this.mInterstitialCb)),this.mAdInterstitialMap[e.toString()]=i}return this.mAdInterstitialMap[e.toString()]}showInterstitialAd(e,t,i,n,a){this.mCloseVideoCallerInterstitial=t,this.mCloseVideoFuncInterstitial=i,this.mShowVideoCallerInterstitial=n,this.mShowVideoFuncInterstitial=a;let o=this.getInterstitialAd(e);o?(o.offError(),o.onError(e=>{this.onCloseVideoInterstitial({isEnded:!0}),j.log("QQ插屏视频 广告加载失败 res:",e)}),o.show().catch(()=>{o.load().then(()=>o.show()).catch(e=>{this.onCloseVideoInterstitial({isEnded:!0}),j.log("QQ 插屏 广告显示失败"+e)})})):this.onCloseVideoInterstitial({isEnded:!0})}}class wt{constructor(){this.initAdvert()}initAdvert(){this.initVideoAd(),this.mCloseVideoCaller=null,this.mCloseVideoFunc=null,this.mShowVideoCaller=null,this.mShowVideoFunc=null,this.mCb=null}initVideoAd(){this.mAdVideoMap={},Fe.I.preloadRewardAD()}getVideoAd(e){return Fe.I.isRewardADLoaded()}showVideoAd(e,t,i,n,a){this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,Fe.I.onVideoSuccess=(()=>{this.onCloseVideo({isEnded:!0})}),Fe.I.onVideoFail=(()=>{this.videoAdErrfun(null)}),Fe.I.onVideoLoadedFail=(()=>{this.videoAdErrfun(null)}),Fe.I.playRewardAD()}videoAdErrfun(e){this.onCloseVideo({isEnded:!1})}onCloseVideo(e){let t=!1;(e&&e.isEnded||void 0===e)&&(t=!0),this.mCloseVideoCaller&&this.mCloseVideoFunc&&this.mCloseVideoFunc.call(this.mCloseVideoCaller,t)}}class ft{constructor(){this.mVidePlayTime=0,this.sdk=window.wx,this.initAdvert()}initAdvert(){this.initVideoAd(),this.mCloseVideoCaller=null,this.mCloseVideoFunc=null,this.mShowVideoCaller=null,this.mShowVideoFunc=null,this.mCb=null,this.mHideFlag=0,this.mVidePlayTime=0}initVideoAd(){if(this.mAdVideoMap={},X.I.getConf().ad.video.length>0)for(let e=0;e<X.I.getConf().ad.video.length;e++){let t=X.I.getConf().ad.video[e];YDSDK.initShareVideo({moduleId:t,onUpdate:(e,t)=>{console.error("YDSDK.initShareVideo"),console.error(e),console.error(t)}})}}getVideoAd(e){let t=X.I.getConf().ad.video[e];return console.error("getVideoAd"),console.error("adkey:"+e),console.error("key:"+t),null}showVideoAd(e,t,i,n,a){this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0,Ze.I.setSoundVolume(0),Ze.I.stopBGM();let o=X.I.getConf().ad.video[e];console.error("showVideoAd"),console.error("adkey:"+e),console.error("videoAd:"+o),YDSDK.onShareVideo({moduleId:o,onFail:(e,t,i)=>{console.log("===onFail=m===",e),console.log("===onFail=type===",t),console.log("===onFail=errCode===",i),this.onCloseVideo({isEnded:!1})},onSuccess:(e,t,i)=>{console.log("===onSuccess=m===",e),console.log("===onSuccess=type===",t),console.log("===onSuccess=type===",i),this.onCloseVideo({isEnded:!0})}})}onCloseVideo(e){let t=!1;(e&&e.isEnded||void 0===e)&&(t=!0),console.log("不静音"),Laya.SoundManager.musicMuted=!1,Laya.SoundManager.soundMuted=!1,Ze.I.setSoundVolume(1),console.log("播音乐++++"),Ze.I.playBGM("bgm");let i=d.Failed;t&&(i=3==this.mHideFlag?d.Jump:d.Normal),this.mHideFlag=0,this.mCloseVideoCaller&&this.mCloseVideoFunc&&this.mCloseVideoFunc.call(this.mCloseVideoCaller,i)}}class vt{constructor(){this.mVidePlayTime=0,this.gameGad=!1,this.timestamp=0,this.sdk=window.wx,this.initAdvert()}initAdvert(){this.initVideoAd(),this.mCloseVideoCaller=null,this.mCloseVideoFunc=null,this.mShowVideoCaller=null,this.mShowVideoFunc=null,this.mCb=null,this.mHideFlag=0,this.mVidePlayTime=0}initVideoAd(){this.mAdVideoMap={}}getVideoAd(e){let t=X.I.getConf().ad.video[e];if(j.log("getVideoAd key:",t),!this.mAdVideoMap[e.toString()]&&t&&""!=t&&this.sdk.createRewardedVideoAd){j.log("createVideoAd adkey:"+t);let i=this.sdk.createRewardedVideoAd({adUnitId:t});i&&(i.onLoad(()=>{this.mVidePlayTime=(new Date).getTime(),console.log("激励视频 广告加载成功")}),i.onError(e=>{console.log("激励视频 广告加载失败 res:",e)}),this.mCb&&i.offClose(this.mCb),this.mCb=(e=>{this.onCloseVideo(e),(e&&e.isEnded||void 0===e)&&i.load()}),i.onClose(this.mCb),i.load()),this.mAdVideoMap[e.toString()]=i}return this.mAdVideoMap[e.toString()]}showVideoAd(e,t,i,n,a){this.gameGad=!0,this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0,Ze.I.setSoundVolume(0),Ze.I.stopBGM();let o=this.getVideoAd(e);o?(o.offError(this.videoAdErrfun.bind(this)),o.onError(this.videoAdErrfun.bind(this)),this.mHideFlag=1,o.show().catch(()=>{o.load().then(()=>o.show().catch(e=>{this.mHideFlag=0,this.onVideoLoadFail()}))})):(this.onVideoLoadFail(),this.mHideFlag=0)}videoAdErrfun(e){this.onVideoLoadFail(),this.mHideFlag=0}onVideoLoadFail(){this.mIsListenShare=!1;let e=this;this.gameGad&&(this.gameGad=!1,wx.getGameGad(t=>{"LOOKSUC"==t.msg?(this.mHideFlag=3,e.onCloseVideo({isEnded:!0})):"LOOKFAIL"==t.msg?e.onCloseVideo({isEnded:!1}):"SHOWADFAIL"==t.msg?e.onCloseVideo({isEnded:!1}):"NAVIGATEFAIL"==t.msg&&e.onCloseVideo({isEnded:!1})}))}onCloseVideo(e){let t=!1;(e&&e.isEnded||void 0===e)&&(t=!0),console.log("不静音"),Laya.SoundManager.musicMuted=!1,Laya.SoundManager.soundMuted=!1,Ze.I.setSoundVolume(1),Ze.I.playBGM("bgm");let i=d.Failed;t&&(i=3==this.mHideFlag?d.Jump:d.Normal),this.mHideFlag=0,this.mCloseVideoCaller&&this.mCloseVideoFunc&&this.mCloseVideoFunc.call(this.mCloseVideoCaller,i)}}class It extends ct{constructor(){super(),this.sdk=window.tt}}class _t{constructor(){this.sdk=window.wx,this.initAdvert()}initAdvert(){this.initVideoAd(),this.mCloseVideoCaller=null,this.mCloseVideoFunc=null,this.mShowVideoCaller=null,this.mShowVideoFunc=null,Z.instance.addListener("shareApp",this,this.onShareResultEvent),Z.instance.addListener(J.GameOnShowEvent,this,this.gameOnShowEvent),Z.instance.addListener(J.GameOnHideEvent,this,this.gameOnHideEvent)}initVideoAd(){this.mAdVideoMap={}}gameOnShowEvent(e){}gameOnHideEvent(e){}getVideoAd(e){let t=X.I.getConf().ad.video[e];if(j.log("getVideoAd key:",t),!this.mAdVideoMap[e.toString()]&&t&&""!=t&&this.sdk.createRewardedVideoAd){j.log("createVideoAd adkey:"+t);let i=this.sdk.createRewardedVideoAd({adUnitId:t});this.mAdVideoMap[e.toString()]=i}return this.mAdVideoMap[e.toString()]}showVideoAd(e,t,i,n,a){this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0,Ze.I.setSoundVolume(0),Ze.I.stopBGM();let o=this.getVideoAd(e);if(o){o.onLoad(()=>{console.log("激励视频 广告加载成功")});try{o.errorFunc&&o.offError(o.errorFunc)}catch(e){console.warn("--------------videoAd.errorFunc error:"),console.error(e)}o.errorFunc=(e=>{this.videoAdErrorfun(e)}),o.onError(o.errorFunc);try{o.closeFunc&&o.offClose(o.closeFunc)}catch(e){console.warn("--------------videoAd.offClose error:"),console.error(e)}o.closeFunc=(e=>{this.videoAdClosefun(e)}),o.onClose(o.closeFunc),o.show().catch(()=>{o.load().then(()=>o.show()).catch(e=>{console.log("激励视频 广告显示失败")})})}else console.log("创建激励视频广告实例失败"),this.onVideoShowFail(null)}videoAdClosefun(e){console.log("激励视频 广告关闭");let t=!1;e&&e.isEnded||void 0===e?(t=!0,this.onVideoBack(t,e)):this.onVideoBack(t,"closeAD")}videoAdErrorfun(e){console.log("激励视频错误事件。",e),this.onVideoShowFail(e)}onVideoShowFail(e){this.mIsListenShare=!1,Je.I.share(y.InviteFriend)?(this.mIsListenShare=!0,this.ErrorRes=e):this.onVideoBack(!1,e)}onShareResultEvent(e){this.mIsListenShare&&(this.mIsListenShare=!1,this.onVideoBack(e.success,this.ErrorRes))}onVideoBack(e,t){console.log("不静音"),Laya.SoundManager.musicMuted=!1,Laya.SoundManager.soundMuted=!1,Ze.I.setSoundVolume(1),console.log("播音乐++++"),Ze.I.playBGM("bgm"),this.mCloseVideoCaller&&this.mCloseVideoFunc&&(console.log("回调参数",e,t),this.mCloseVideoFunc.call(this.mCloseVideoCaller,e,t))}}class At extends We{constructor(){super(),this.sdk=window.qg}getBannerAd(e,t,i,n){let a=X.I.getConf().ad.banner[e];if(j.log("getBannerAd adUnitId:",a,"---",e),a&&!this.mBannerAdMap[a]&&""!=a){let e=null;-1!=de.I.compareVersion("1031")&&(t?(j.log("~~~~mTop  getBannerAd adUnitId:",a),e=this.sdk.createBannerAd({posId:a,style:{left:240,top:850}})):(j.log("~~~~no mTop  getBannerAd adUnitId:",a),e=this.sdk.createBannerAd({posId:a,style:{}})),e&&(this.mVVGreateBannerTime=(new Date).getTime(),e.offClose(),e.onClose(()=>{j.log("getBannerAd onClose"),e.destroy(),e=null,this.mBannerAdMap[a]=null}),e.offError(),e.onError(t=>{j.log(t),e.destroy(),e=null,this.mBannerAdMap[a]=null}))),this.mBannerAdMap[a]=e}return this.mBannerAdMap[a]}showBannerAd(e,t,i,n,a,o){if((new Date).getTime()-this.mVVGreateBannerTime<=3e3)return null;this.mVVGreateBannerTime=(new Date).getTime();let s=X.I.getConf().ad.banner[e],r=this.getBannerAd(e,t);if(r&&this.mBannerAdMap[s]){var l=r.show();l&&l.then(()=>{j.log("banner 广告显示成功")})}return r}hideBannerAd(e){let t=X.I.getConf().ad.banner[e],i=this.mBannerAdMap[t];if(i){var n=i.hide();n&&n.then(()=>{i.destroy(),this.mBannerAdMap[t]=null,j.log("banner广告--隐藏成功--第一次")}).catch(e=>{j.log("banner广告销--隐藏失败--第一次",e);var n=i.hide();n&&n.then(()=>{i.destroy(),this.mBannerAdMap[t]=null,j.log("banner广告--隐藏成功--第2次")}).catch(e=>{j.log("banner广告--隐藏失败----第2次",e),i.destroy(),this.mBannerAdMap[t]=null})})}}}class St{}St.UPDATE_COIN=1001,St.UPDATE_DIAMOND=1002,St.RED_POINT=1003,St.MUSIC_ON=1004,St.MUSIC_OFF=1005,St.MUSIC_DOWN=1006,St.LUCKY_DRAW=1007,St.BOX_REWARD=1008,St.UPDATE_TI=1009,St.NEW_LEVEL=2e3,St.START_LEVEL=2001,St.GAME_OVER=2002,St.REVIVE=2003,St.BACK_MENU=2004,St.LEVEL_INIT=600,St.LEVEL_BEGIN=601,St.LEVEL_GIVEUP=602,St.LEVEL_FAILGET=603,St.LEVEL_WINGET=604,St.LEVEL_GAMEEND=605,St.VIVO_AD_TOOMUCH="VIVO_AD_TOOMUCH",St.MOOM_MAINAD_CLICK="MOOM_MAINAD_CLICK";class bt{constructor(){this.mVVGreateVideoTime=0,this.sdk=window.qg,this.initAdvert()}initAdvert(){this.initVideoAd(),this.mCloseVideoCaller=null,this.mCloseVideoFunc=null,this.mShowVideoCaller=null,this.mShowVideoFunc=null}initVideoAd(){this.mAdVideoMap={}}getVideoAd(e){let t=X.I.getConf().ad.video[e];if(j.log("getVideoAd key:",t),!this.mAdVideoMap[e.toString()]&&t&&""!=t&&this.sdk.createRewardedVideoAd){j.log("createVideoAd adkey:"+t);let i=null;-1!=de.I.compareVersion("1041")&&(i=this.sdk.createRewardedVideoAd({posId:t})),this.mAdVideoMap[e.toString()]=i}return this.mAdVideoMap[e.toString()]}showVideoAd(e,t,i,n,a){if(this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,(new Date).getTime()-this.mVVGreateVideoTime<=1e3)return lt.instance.show(ot.MoonTipPanel,"暂无视频, 请稍后再试"),Z.instance.triggerListener(St.VIVO_AD_TOOMUCH,this.mVVGreateVideoTime),null;this.mVVGreateVideoTime=(new Date).getTime(),Laya.SoundManager.musicMuted=!0,Laya.SoundManager.soundMuted=!0,Ze.I.setSoundVolume(0),Ze.I.stopBGM();let o=this.getVideoAd(e);if(o){this.mKey=e,o.offError(this.videoAdErrorfun.bind(this)),o.onError(this.videoAdErrorfun.bind(this)),o.offClose(this.videoAdClosefun.bind(this)),o.onClose(this.videoAdClosefun.bind(this));let t=o.load();t&&t.catch(e=>{j.log("激励广告load失败"+JSON.stringify(e))}),o.offLoad(),o.onLoad(()=>{let e=o.show();e&&e.catch(e=>{j.log("激励广告展示失败"+JSON.stringify(e))})})}else console.log("创建激励视频广告实例失败"),this.onVideoShowFail(null)}videoAdClosefun(e){console.log("激励视频 广告关闭回调",e);let t=!1;e&&e.isEnded||void 0===e?(t=!0,this.onVideoBack(t,e)):this.onVideoBack(t,"closeAD")}videoAdErrorfun(e){if(lt.instance.show(ot.MoonTipPanel,"暂无视频, 请稍后再试"),this.mAdVideoMap[this.mKey.toString()]){let e=this.mAdVideoMap[this.mKey.toString()];e&&(e.destroy(),e=null),this.mAdVideoMap[this.mKey.toString()]=null}this.onVideoShowFail(e)}onVideoBack(e,t){console.log("不静音"),Laya.SoundManager.musicMuted=!1,Laya.SoundManager.soundMuted=!1,Ze.I.setSoundVolume(1),Ze.I.playBGM("MAINBG"),this.mCloseVideoCaller&&this.mCloseVideoFunc&&(console.log("回调参数",e,t),this.mCloseVideoFunc.call(this.mCloseVideoCaller,e,t))}onVideoShowFail(e){this.onVideoBack(!1,e)}}function __awaiter(e,t,i,n){return new(i||(i=Promise))(function(a,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n.throw(e))}catch(e){o(e)}}function step(e){e.done?a(e.value):new i(function(t){t(e.value)}).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})}class Lt{constructor(e,t){this._lastShowTime=0,this._refreshInterval=0,this._refreshInterval=e>0?e:0,this._lastShowTime=0,t>0&&(this._lastShowTime=Date.now()+1e3*t-1e3*this._refreshInterval)}isReadyToRefresh(){return this.getNextRefreshInterval()<=0}getNextRefreshInterval(){let e=0;if(this._refreshInterval>0&&this._lastShowTime>0){let t=Date.now();e=this._refreshInterval-(t-this._lastShowTime)/1e3}return e}updateLastShowTime(){this._lastShowTime=Date.now()}}function getOption(e,t,i){return e&&void 0!==e[t]?e[t]:i}class xt{constructor(e,t,i,n){this._maxLoadError=0,this._errorCounter=0,this._fatalError=!1,this._sharedTimer=null,this._adId=e,this._state=Bt.NONE,this._type=t,this._sharedTimer=i,this._fatalError=!1,console.assert(!!i,"sharedTimer is invalid",i),this._maxLoadError=getOption(n,"maxLoadError",0)}getStateName(){return function(e){let t="NONE";switch(e){case Bt.NEW:t="NEW";break;case Bt.LOADING:t="LOADING";break;case Bt.LOADED:t="LOADED";break;case Bt.PLAYING:t="PLAYING"}return t}(this._state)}getAdTypeName(){return this._type==Dt.INTERSTITIAL?"插屏广告":this._type==Dt.REWARDED_VIDEO?"激励视频广告":this._type==Dt.BANNER?"Banner":"UNKNOWN"}getInfo(){return`[${this.getAdTypeName()}:${this._adId}:${this.getStateName()}]`}isReadyToRefresh(){return this._sharedTimer.isReadyToRefresh()}getNextRefreshInterval(){return this._sharedTimer.getNextRefreshInterval()}updateLastShowTime(){this._sharedTimer.updateLastShowTime()}increaseErrorCounter(){this._errorCounter++}resetErrorCounter(){this._errorCounter=0}setFatalError(){this._fatalError=!0}isErrorTooMany(){return this._fatalError||this._maxLoadError>0&&this._errorCounter>=this._maxLoadError}}class Mt extends xt{constructor(e,t,i){super(e,Dt.BANNER,t,i)}showAsync(){return __awaiter(this,void 0,void 0,function*(){if(!this.isReadyToRefresh())throw console.log("播放太频繁，还需间隔"+this.getNextRefreshInterval()+" 秒: "+this.getInfo()),Ft;if(this.isErrorTooMany())throw console.log("太多错误，停止加载: "+this.getInfo()),Kt;try{this._state=Bt.PLAYING,console.log("开始显示广告: "+this.getInfo()),yield FBInstant.loadBannerAdAsync(this._adId),console.log("显示广告成功: "+this.getInfo()),this.updateLastShowTime(),this.resetErrorCounter()}catch(e){throw console.error("显示广告失败: "+this.getInfo(),e),e.code==qt||(e.code==jt?(console.error("广告无法填充，不再继续请求: "+this.getInfo()),this.setFatalError()):this.increaseErrorCounter()),e}})}hideAsync(){return __awaiter(this,void 0,void 0,function*(){if(this._state!=Bt.PLAYING)throw console.log("广告没有在播放中: "+this.getInfo()),Ht;try{console.log("隐藏广告: "+this.getInfo()),yield FBInstant.hideBannerAdAsync(),this._state=Bt.NONE}catch(e){throw console.error("隐藏广告失败: "+this.getInfo(),e),e}})}}class kt extends xt{constructor(e,t,i,n){super(e,t,i,n),this._adInstance=null,this._autoLoadOnPlay=getOption(n,"autoLoadOnPlay",!1)}loadAsync(){return __awaiter(this,void 0,void 0,function*(){if(null==this._adInstance){if(this._state!=Bt.NONE)return void console.log("当前状态未满足加载条件, 正在获取广告对象: "+this.getInfo());this._state=Bt.NEW,console.log("获取广告对象: "+this.getInfo()),this._adInstance=yield this.createAdInstanceAsync(this._adId)}if(this._state!=Bt.NEW)throw console.log("当前状态未满足加载条件: "+this.getInfo()),this._state==Bt.LOADING?(console.log("广告正在加载中，不要重复加载"+this.getInfo()),Ot):Rt;if(this.isErrorTooMany())throw console.log("太多错误，停止加载: "+this.getInfo()),Kt;try{return this._state=Bt.LOADING,console.log("开始加载广告: "+this.getInfo()),yield this._adInstance.loadAsync(),this._state=Bt.LOADED,this.resetErrorCounter(),console.log("广告加载成功: "+this.getInfo()),!0}catch(e){if(console.error("广告加载失败: "+this.getInfo(),e),e.code==jt)console.error("广告无法填充，不再继续请求: "+this.getInfo()),this.setFatalError();else{this.increaseErrorCounter(),this._state=Bt.NEW;let e=10*this._errorCounter+Tt;console.log("延迟"+e+"秒后, 自动重新加载: "+this.getInfo()),waitTimeSecond(e,this.loadAsync.bind(this))}throw e}})}isReady(){return null!=this._adInstance&&this._state==Bt.LOADED}showAsync(){return __awaiter(this,void 0,void 0,function*(){if(!this.isReady())throw console.log("当前状态未满足播放条件: "+this.getInfo()),this._state==Bt.PLAYING?Xt:Yt;if(!this.isReadyToRefresh())throw console.log("播放太频繁，还需间隔"+this.getNextRefreshInterval()+" 秒: "+this.getInfo()),Ft;try{return this._state=Bt.PLAYING,console.log("开始播放广告: "+this.getInfo()),yield this._adInstance.showAsync(),console.log("播放广告完毕: "+this.getInfo()),this._adInstance=null,this._state=Bt.NONE,this.updateLastShowTime(),this._autoLoadOnPlay&&(console.log("延迟"+Tt+"秒后, 自动重新加载: "+this.getInfo()),waitTimeSecond(Tt,this.loadAsync.bind(this))),!0}catch(e){throw console.log("播放广告失败: "+this.getInfo(),e),e.code==qt?this._state=Bt.LOADED:(this._adInstance=null,this._state=Bt.NONE,this._autoLoadOnPlay&&(console.log("延迟"+Tt+"秒后, 自动重新加载: "+this.getInfo()),waitTimeSecond(Tt,this.loadAsync.bind(this)))),e}})}}class Ct extends kt{constructor(e,t,i){super(e,Dt.INTERSTITIAL,t,i)}createAdInstanceAsync(e){return __awaiter(this,void 0,void 0,function*(){return yield FBInstant.getInterstitialAdAsync(this._adId)})}}class Et extends kt{constructor(e,t,i){super(e,Dt.REWARDED_VIDEO,t,i)}createAdInstanceAsync(e){return __awaiter(this,void 0,void 0,function*(){return yield FBInstant.getRewardedVideoAsync(this._adId)})}}const Nt=3,Vt=3,Tt=1;var Dt,Bt;function waitTimeSecond(e,t){return __awaiter(this,void 0,void 0,function*(){return new Promise((i,n)=>{setTimeout(()=>{t&&t(),i()},1e3*e)})})}!function(e){e[e.INTERSTITIAL=0]="INTERSTITIAL",e[e.REWARDED_VIDEO=1]="REWARDED_VIDEO",e[e.BANNER=2]="BANNER"}(Dt||(Dt={})),function(e){e[e.NONE=0]="NONE",e[e.NEW=1]="NEW",e[e.LOADING=2]="LOADING",e[e.LOADED=3]="LOADED",e[e.PLAYING=4]="PLAYING"}(Bt||(Bt={}));const Gt={code:"EXCEED_MAX_AD_INSTANCE",message:"广告对象不允许超过 "+Nt},Pt={code:"NO_READY_AD_INSTANCE",message:"没有加载完毕的广告，或者广告播放太频繁"},Rt={code:"NOT_READY_FOR_LOAD",message:"当前状态不允许再次加载"},Ot={code:"AD_IS_LOADING",message:"广告正在加载"},Yt={code:"NOT_READY_FOR_PLAYING",message:"没有可以播放的广告"},Xt={code:"AD_IS_PLAYING",message:"广告正在播放"},Ut={code:"NO_BANNER_AD",message:"没有添加Banner广告"},zt={code:"API_NOT_SUPPORT",message:"广告接口不支持"},Ft={code:"TOO_FAST_SHOW",message:"广告播放太频繁"},Ht={code:"NOT_PLAYING",message:"广告没有播放"},Kt={code:"TOO_MANY_ERRORS",message:"太多错误, 停止操作"},Wt="loadBannerAdAsync",qt="RATE_LIMITED",jt="ADS_NO_FILL";class Qt{static getVersion(){return"1.0.2"}static addInterstitial(e,t=Vt){null==this._interstitialTimer&&(this._interstitialTimer=new Lt(this.defaultInterstitialTimerOption.refreshInterval,this.defaultInterstitialTimerOption.delayForFirstAd));for(let i=0;i<t;i++){if(this._interstitialAds.length>=Nt)throw console.log("添加插屏广告失败, 超出限制: "+this._interstitialAds.length,e),Gt;let t=new Ct(e,this._interstitialTimer,this.defaultInterstitialOption);this._interstitialAds.push(t),console.log("添加插屏广告: "+e,"count: "+this._interstitialAds.length)}return this._interstitialAds.length}static addRewardedVideo(e,t=Vt){null==this._rewardedVideoTimer&&(this._rewardedVideoTimer=new Lt(this.defaultRewardedVideoTimerOption.refreshInterval,this.defaultRewardedVideoTimerOption.delayForFirstAd));for(let i=0;i<t;i++){if(this._rewardedVideos.length>=Nt)throw console.log("添加激励视频广告失败, 超出限制: "+this._rewardedVideos.length,e),Gt;let t=new Et(e,this._rewardedVideoTimer,this.defaultRewardedVideoOption);this._rewardedVideos.push(t),console.log("添加激励视频广告: "+e,"count: "+this._rewardedVideos.length)}return this._rewardedVideos.length}static addBanner(e){null==this._bannerTimer&&(this._bannerTimer=new Lt(this.defaultBannerTimerOption.refreshInterval,this.defaultBannerTimerOption.delayForFirstAd));let t=new Mt(e,this._bannerTimer,this.defaultBannerOption);return this._banners.push(t),console.log("添加Banner广告: "+e,"count: "+this._banners.length),t}static loadAll(){return __awaiter(this,void 0,void 0,function*(){return console.log("初始化广告队列"),yield this.loadAllAsync()})}static loadAllAsync(){return __awaiter(this,void 0,void 0,function*(){console.log("FBAdManager Version: "+this.getVersion()),console.log("初始化广告队列");for(let e=0;e<this._rewardedVideos.length;e++){const t=this._rewardedVideos[e];e>0&&(yield waitTimeSecond(.1));try{yield t.loadAsync()}catch(e){}}for(let e=0;e<this._interstitialAds.length;e++){const t=this._interstitialAds[e];e>0&&(yield waitTimeSecond(.1));try{yield t.loadAsync()}catch(e){}}})}static _isAdReady(e){let t=e==Dt.INTERSTITIAL?this._interstitialAds:this._rewardedVideos,i=!1;for(let e=0;e<t.length;e++){const n=t[e];if(n.isReady()&&n.isReadyToRefresh()){i=!0;break}}return i}static _showAsync(e){let t=e==Dt.INTERSTITIAL?this._interstitialAds:this._rewardedVideos,i=null;for(let e=0;e<t.length;e++){const n=t[e];if(n.isReady()&&n.isReadyToRefresh()){i=n;break}}if(null!=i)return i.showAsync();throw Pt}static _getAdTimer(e){return e==Dt.INTERSTITIAL?this._interstitialTimer:e==Dt.REWARDED_VIDEO?this._rewardedVideoTimer:this._bannerTimer}static isInterstitialAdReady(){return this._isAdReady(Dt.INTERSTITIAL)}static showInterstitialAd(){return __awaiter(this,void 0,void 0,function*(){return yield this._showAsync(Dt.INTERSTITIAL)})}static isRewardedVideoReady(){return this._isAdReady(Dt.REWARDED_VIDEO)}static showRewardedVideo(){return __awaiter(this,void 0,void 0,function*(){return yield this._showAsync(Dt.REWARDED_VIDEO)})}static checkApiSupport(e){return FBInstant.getSupportedAPIs().indexOf(e)>=0}static isBannerSupport(){return void 0===this._bannerSupport&&(this._bannerSupport=this.checkApiSupport(Wt)),this._bannerSupport}static isBannerReady(){if(this._banners.length<=0)throw Ut;return this._banners[0].isReadyToRefresh()}static showBannerAsync(){return __awaiter(this,void 0,void 0,function*(){if(!this.isBannerSupport())throw zt;if(this._banners.length<=0)throw Ut;let e=this._banners[0];return yield e.showAsync()})}static hideBannerAsync(){return __awaiter(this,void 0,void 0,function*(){if(!this.isBannerSupport())throw zt;if(this._banners.length<=0)throw Ut;let e=this._banners[0];return yield e.hideAsync()})}}Qt._interstitialAds=[],Qt._rewardedVideos=[],Qt._banners=[],Qt._interstitialTimer=null,Qt._rewardedVideoTimer=null,Qt._bannerTimer=null,Qt._bannerSupport=void 0,Qt.defaultInterstitialOption={autoLoadOnPlay:!0,maxLoadError:3},Qt.defaultRewardedVideoOption={autoLoadOnPlay:!0,maxLoadError:3},Qt.defaultBannerOption={autoLoadOnPlay:!0,maxLoadError:1},Qt.defaultInterstitialTimerOption={refreshInterval:45,delayForFirstAd:45},Qt.defaultRewardedVideoTimerOption={refreshInterval:0,delayForFirstAd:0},Qt.defaultBannerTimerOption={refreshInterval:40,delayForFirstAd:0};class $t extends We{constructor(){super(),this.sdk=window.FBAdManager}getBannerAd(e,t,i,n){let a=X.I.getConf().ad.banner[e];if(j.log("getBannerAd adUnitId:",a),!this.mBannerAdMap[e.toString()]&&a&&""!=a){let t=Qt.addBanner(a);this.mBannerAdMap[e.toString()]=t}return this.mBannerAdMap[e.toString()]}showBannerAd(e,t,i,n,a,o){let s=this.getBannerAd(e,t);return s&&Qt.isBannerReady()&&Qt.showBannerAsync().then(()=>{}).catch(e=>{j.log("显示Banner广告: 失败，原因: "+e.message)}),s}hideBannerAd(e){j.log("banner广告"),this.mBannerAdMap[e.toString()]&&Qt.hideBannerAsync().then(()=>{}).catch(e=>{j.log("隐藏Banner广告: 失败，原因: "+e.message)})}}class Zt extends ct{constructor(){super(),this.sdk=window.FBAdManager}getInterstitialAd(e){let t=X.I.getConf().ad.interstitial[e];return!this.mAdInterstitialMap[e.toString()]&&t&&""!=t&&(j.log("createInterstitialoAd key:"+t),Qt.addInterstitial(t,1),this.mAdInterstitialMap[e.toString()]=t),this.mAdInterstitialMap[e.toString()]}showInterstitialAd(e,t,i,n,a){Qt.isInterstitialAdReady()&&Qt.showInterstitialAd().then(()=>{}).catch(e=>{})}}class Jt extends et{constructor(){super(),this.sdk=window.FBAdManager}getVideoAd(e){let t=X.I.getConf().ad.video[e];return j.log("getVideoAd key:",t),!this.mAdVideoMap[e.toString()]&&t&&""!=t&&(j.log("createVideoAd adkey:"+t),Qt.addRewardedVideo(t,1),this.mAdVideoMap[e.toString()]=t),this.mAdVideoMap[e.toString()]}showVideoAd(e,t,i,n,a){if(this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,Qt.isRewardedVideoReady()){let e=this;Qt.showRewardedVideo().then(()=>{e.mCloseVideoCaller&&e.mCloseVideoFunc&&e.mCloseVideoFunc.call(e.mCloseVideoCaller,d.Normal)}).catch(t=>{e.videoAdErrfun(null)})}else this.videoAdErrfun(null)}videoAdErrfun(e){super.videoAdErrfun(e),lt.instance.show(ot.MoonTipPanel,"ad load fail, wait a minute")}}class ei{constructor(){this.mShowTTBanner=!0,this.mVVGreateBannerTime=0,this.mErrorVideoCaller=null,this.mErrorVideoFunc=null,this.initAdvert()}initAdvert(){this.initBannerAd()}initBannerAd(){this.mBannerAdMap={}}setShowTTBanner(e){this.mShowTTBanner=e}clearAllBannerKey(){this.mBannerAdMap={}}clearBannerKey(e){this.mBannerAdMap[e.toString()]=null}getBannerAd(e,t,i,n,a){return Fe.I.isBannerUseAble()}showBannerAd(e,t,i,n,a,o,s){return this.mErrorVideoCaller=o,this.mErrorVideoFunc=s,Fe.I.playBannerAD("banner"),e}hideBannerAd(e){Fe.I.removeBannerAD("banner")}onErrorVideo(e){this.mErrorVideoCaller&&this.mErrorVideoFunc&&this.mErrorVideoFunc.call(this.mErrorVideoCaller,e)}}class ti extends We{constructor(){super(),this.sdk=typeof minigame}getBannerAd(e,t,i,n){}showBannerAd(e,t,i,n,a,o){MiniGameAds.isBannerReady()?MiniGameAds.showBanner().then(()=>{console.info("新接口播放横幅广告: 成功")}).catch(e=>{console.error("新接口播放横幅广告: 失败，原因: "+e.message)}):console.info("横幅广告没有加载成功，无法播放")}hideBannerAd(e){MiniGameAds.hideBanner().then(()=>{console.info("新接口隐藏激励广告: 成功")}).catch(e=>{console.error("新接口隐藏激励广告: 失败，原因: "+e.message)})}}class ii extends et{constructor(){super(),this.sdk=typeof minigame}getVideoAd(e){return!0}showVideoAd(e,t,i,n,a){this.mCloseVideoCaller=t,this.mCloseVideoFunc=i,this.mShowVideoCaller=n,this.mShowVideoFunc=a,MiniGameAds.isRewardvideoReady()?MiniGameAds.showRewardedVideo().then(()=>{console.info("新接口播放激励广告: 成功"),this.onCloseVideo({isEnded:!0})}).catch(e=>{console.error("新接口播放激励广告: 失败，原因: "+e.message)}):console.info("激励视频没有加载成功，无法播放")}videoAdErrfun(e){}}class ni extends ct{constructor(){super(),this.sdk=typeof minigame}getInterstitialAd(e){}showInterstitialAd(e,t,i,n,a){this.mCloseVideoCallerInterstitial=t,this.mCloseVideoFuncInterstitial=i,this.mShowVideoCallerInterstitial=n,this.mShowVideoFuncInterstitial=a,MiniGameAds.isInterstitialReady()?MiniGameAds.showInterstitial().then(()=>{console.info("新接口播放插屏广告: 成功")}).catch(e=>{console.error("新接口播放插屏广告: 失败，原因: "+e.message)}):console.info("插屏广告没有加载成功，无法播放")}}class ai{constructor(){this.gameAdvertSDK=null,this.bannerAdvertSDK=null,this.videoAdvertSDK=null,this.interstitialAdvertSDK=null,this.boxAdvertSDK=null,this.nativeAdvertSDK=null,Laya.Render.isConchApp?(this.videoAdvertSDK=new wt,this.interstitialAdvertSDK=new He,this.bannerAdvertSDK=new ei):Laya.Browser.onMiniGame?"object"==typeof tt?(j.log("init广告sdk 头条"),this.bannerAdvertSDK=new qe,this.videoAdvertSDK=new it):(j.log("init广告sdk 微信"),this.bannerAdvertSDK=new We,"undefined"!=typeof YDSDK?this.videoAdvertSDK=new ft:wx.getGameGad?this.videoAdvertSDK=new vt:wx.leuok?this.videoAdvertSDK=new _t:this.videoAdvertSDK=new et,this.interstitialAdvertSDK=new ct,this.gameAdvertSDK=new Ke,this.boxAdvertSDK=new mt):Laya.Browser.onQQMiniGame?(j.log("init广告sdk QQ"),this.bannerAdvertSDK=new je,this.videoAdvertSDK=new nt,this.interstitialAdvertSDK=new yt,this.boxAdvertSDK=new ut):Laya.Browser.onVVMiniGame?(j.log("init广告sdk vivo"),qg.leuok?(console.error("--=====-=--LYVVBannerAdvert=-==-=-=-=-=-"),this.videoAdvertSDK=new bt,this.bannerAdvertSDK=new At):(this.bannerAdvertSDK=new Qe,this.videoAdvertSDK=new ht),this.interstitialAdvertSDK=new pt):Laya.Browser.onQGMiniGame?(j.log("init广告sdk oppo"),this.bannerAdvertSDK=new $e,this.videoAdvertSDK=new dt,this.interstitialAdvertSDK=new gt):Laya.Browser.onTTMiniGame?(j.log("init广告sdk 头条"),this.bannerAdvertSDK=new qe,this.videoAdvertSDK=new it,this.interstitialAdvertSDK=new It):"object"==typeof FBInstant?"undefined"!=typeof minigame?(this.bannerAdvertSDK=new ti,this.videoAdvertSDK=new ii,this.interstitialAdvertSDK=new ni):(this.bannerAdvertSDK=new $t,this.videoAdvertSDK=new Jt,this.interstitialAdvertSDK=new Zt):j.error("init广告sdk 错误!")}static get I(){return _.get(ai)}getGameBannerAd(e,t){return this.gameAdvertSDK?this.gameAdvertSDK.getGameBannerAd(e,t):null}showGameBannerAd(e,t){return this.gameAdvertSDK?this.gameAdvertSDK.showGameBannerAd(e,t):null}hideGameBannerAd(e){this.gameAdvertSDK&&this.gameAdvertSDK.hideGameBannerAd(e)}getGamePortalAd(e,t){return this.gameAdvertSDK?this.gameAdvertSDK.getGamePortalAd(e,t):null}showGamePortalAd(e,t){return this.gameAdvertSDK?this.gameAdvertSDK.showGamePortalAd(e,t):null}getGameIconAd(e,t){return this.gameAdvertSDK?this.gameAdvertSDK.getGameIconAd(e,t):null}showGameIconAd(e,t){return this.gameAdvertSDK?this.gameAdvertSDK.showGameIconAd(e,t):null}setShowTTBanner(e){if(this.bannerAdvertSDK)return this.bannerAdvertSDK.setShowTTBanner(e)}getBannerAd(e,t,i,n){return this.bannerAdvertSDK?this.bannerAdvertSDK.getBannerAd(e,t,i,n):null}showBannerAd(e,t,i,n,a,o,s){if(this.bannerAdvertSDK){let r=null;return r=o&&s?this.bannerAdvertSDK.showBannerAd(e,t,i,n,a,o,s):this.bannerAdvertSDK.showBannerAd(e,t,i,n,a,this,this.onBannerError)}return null}onBannerError(e){if(this.gameAdvertSDK&&e)return this.gameAdvertSDK.showGameBannerAd(e.adkey,e.mTop,e.mWidht,e.mHeight)}showBannerAdByPro(e,t,i,n){if(this.bannerAdvertSDK){let a=null,o=0;n&&(o=n);let s=Laya.Browser.clientWidth-o,r=Laya.Browser.clientWidth*t/i;return this.showBannerAd(e,a,s,r)}return null}hideBannerAd(e){this.bannerAdvertSDK&&this.bannerAdvertSDK.hideBannerAd(e),this.gameAdvertSDK&&this.hideGameBannerAd(e)}clearBannerKey(e){this.bannerAdvertSDK&&this.bannerAdvertSDK.clearBannerKey(e)}clearAllBannerKey(){this.bannerAdvertSDK&&this.bannerAdvertSDK.clearAllBannerKey()}getVideoAd(e){return this.videoAdvertSDK?this.videoAdvertSDK.getVideoAd(e):null}showVideoAd(e,t,i,n,a){if(X.I.getConf().showVideo){if(this.videoAdvertSDK)return this.videoAdvertSDK.showVideoAd(e,t,i,n,a);null!=t&&null!=i&&i.call(t,!0)}else null!=t&&null!=i&&i.call(t,!0)}getInterstitialAd(e){return this.interstitialAdvertSDK?this.interstitialAdvertSDK.getInterstitialAd(e):null}showInterstitialAd(e,t,i,n,a){return this.interstitialAdvertSDK?this.interstitialAdvertSDK.showInterstitialAd(e,t,i,n,a):(null!=t&&null!=i&&i.call(t,!1),null)}existInterstitialAd(){return null!=this.interstitialAdvertSDK}getBoxAd(e,t){return this.boxAdvertSDK?this.boxAdvertSDK.getBoxAd(e,t):null}showBox(e){return this.boxAdvertSDK?this.boxAdvertSDK.showBox(e):null}hideBox(e){this.boxAdvertSDK&&this.boxAdvertSDK.hideBox(e)}preloadNativeAD(){return this.nativeAdvertSDK?this.nativeAdvertSDK.preloadNativeAD():null}isNativeADLoaded(){return!!this.nativeAdvertSDK&&this.nativeAdvertSDK.isNativeADLoaded()}playNativeAD(e){return this.nativeAdvertSDK?this.nativeAdvertSDK.playNativeAD(e):null}}class oi extends e.AgainViewUI{constructor(){super(),this.isBanner=!0,this.height=Laya.stage.height}onOpened(e){if(this.isBanner=!0,Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame){this.imgGame.visible=!1;let e=Ye.I.getAdSwitchByPosition(I.RESULTS_MIDDLE_AD);if(null==e||0==e.state)this.ov_native.visible=!1;else{this.ov_native.visible=!0;let e=this.ov_native.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_NATIVE,g.IMG,e):Xe.I.createNativeAd(c.AD_GAME_NATIVE,g.IMG,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG):Xe.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG)}),this.btn_close.on(Laya.Event.CLICK,this,()=>{this.ov_native.visible=!1})}if(null==(e=Ye.I.getAdSwitchByPosition(I.RESULTS_RIGHT_AD))||0==e.state)this.isBanner=!1,this.ov_native2.visible=!1;else{this.ov_native2.visible=!0;let e=this.ov_native2.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e):Xe.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON):Xe.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON)}),this.ov_native_close.on(Laya.Event.CLICK,this,()=>{this.ov_native2.visible=!1})}}else if(Laya.Browser.onMiniGame){this.ov_native.visible=!1,this.ov_native2.visible=!1;let e=Ye.I.getMatrixByPosition(U.BOX_AD);if(null==e||e.length<=0)this.imgGame.visible=!1;else{this.imgGame.visible=!0;let t=[];for(const i of e)t.push(i.tgamekey);this.list.vScrollBarSkin="",this.list.elasticEnabled=!1,this.list.scrollBar.rollRatio=0,this.list.renderHandler=new Laya.Handler(this,this.onRenderItem),this.list.array=e,this.list.setAutoScroll(1,1,500),Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_SHOW,t.join(","),U.BOX_AD)}let t=Ye.I.getAdSwitchByPosition(F.RESULT_RIGHT_AD);null!=t&&1==t.state&&ze.I.showCustom(p.AD_CUSTOM_SINGLE_RIFHT2,t.topMargin,t.leftMargin,this,null)}this.isBanner&&(j.log("AgainView-showBannerAd"),ai.I.showBannerAd(i.AD_BANNER_1))}onRenderItem(e,t){let i=e.dataSource;e.getChildByName("img_icon").skin=i.icon,e.off(Laya.Event.CLICK,this,this.openGame),e.on(Laya.Event.CLICK,this,this.openGame,[i])}openGame(e){let t=window.wx;Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_CLIK,e.tgamekey,U.BOX_AD,e.index),t.navigateToMiniProgram({appId:e.appid,path:e.path,success:function(t){Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_ACT,e.tgamekey,U.BOX_AD,e.index)},fail:function(e){}})}onClosed(){if(this.isBanner&&(j.log("AgainView-hideBannerAd"),ai.I.hideBannerAd(i.AD_BANNER_1)),Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.RESULT_RIGHT_AD);null!=e&&1==e.state&&ze.I.hideCustom(p.AD_CUSTOM_SINGLE_RIFHT2)}this.timer.clearAll(this),super.onClosed()}}class si extends Laya.List{constructor(){super(),this.mIsAutoScroll=!1,this.mAutoScrollSpeed=0,this.mAutoScrollDir=1,this.mAutoWaitTime=500}onEnable(){super.onEnable(),Laya.timer.frameLoop(1,this,this.onAutoScroll)}onDisable(){super.onDisable(),Laya.timer.clear(this,this.onAutoScroll)}setAutoScroll(e,t,i){this.scrollBar.max<50?this.mAutoScrollSpeed=0:(this.mAutoScrollSpeed=e,this.mAutoScrollDir=t,this.mAutoWaitTime=i)}onAutoScroll(){if(0==this.mAutoScrollSpeed)return;if(this.mAutoWaitTime>0)return void(this.mAutoWaitTime-=Laya.timer.delta);let e=this.scrollBar,t=e.value+1*this.mAutoScrollDir;e.value=t,t>=e.max?this.mAutoScrollDir>0&&(this.mAutoWaitTime=500,this.mAutoScrollDir=-1):t<=e.min&&this.mAutoScrollDir<0&&(this.mAutoWaitTime=500,this.mAutoScrollDir=1)}}class ri{constructor(){this.isLoad=!1,this.isShow=!1,this.support=!1,this.gamePortalAd=null,this.support=Laya.Browser.onQGMiniGame&&qg.getSystemInfoSync().platformVersionCode>=1076,this.initDrawerGameAd()}static get I(){return _.get(ri)}isSupport(){return this.support}initDrawerGameAd(){if(!this.support)return;if(0==X.I.getConf().ad.gameportal.length||null==X.I.getConf().ad.gameportal[0])return;this.gamePortalAd=qg.createGamePortalAd({adUnitId:X.I.getConf().ad.gameportal[0]});let e=this;this.gamePortalAd.onLoad(()=>{console.error("onLoad","互推盒子九宫格广告加载成功 this.isLoad:"+e.isShow),e.isLoad=!0,e.isShow&&e.gamePortalAd.show().then(()=>{console.error("gamePortalAd show success")}).catch(t=>{console.error("gamePortalAd show fail with:"+t.errCode+","+t.errMsg),e.onClose()})}),this.gamePortalAd.onClose(()=>{e.onClose(),console.error("互推盒子九宫格广告关闭")}),this.gamePortalAd.onError(t=>{e.onClose(),console.error("互推盒子九宫格广告出错"),console.error(t)})}showPlatformDrawerGameAd(e,t){if(!this.support)return;e&&(this.mCloseCaller=e),t&&(this.mCloseFunc=t);let i=this;this.isShow=!0,this.isLoad?this.gamePortalAd.show().then(()=>{}).catch(e=>{i.onClose()}):this.gamePortalAd.load().then(()=>{}).catch(e=>{i.onClose()})}onClose(){this.mCloseCaller&&this.mCloseFunc&&this.mCloseFunc.call(this.mCloseCaller),this.mCloseCaller=null,this.mCloseFunc=null,this.isLoad=!1,this.isShow=!1,this.gamePortalAd.load().then(()=>{}).catch(e=>{})}}class li{constructor(){this.isSupport=!1,this.isSupport=Laya.Browser.onVVMiniGame,this.isSupport&&(this.mErrorCaller=null,this.mErrorFunc=null,this.mHideCaller=null,this.mHideFunc=null,this.initAdvert())}static get I(){return _.get(li)}initAdvert(){this.initCustomAd()}initCustomAd(){this.reloadTimes={},this.mAdMap={}}getBoxPoralAd(e,t,i=10){if(!this.isSupport)return;let n=this,a=X.I.getConf().ad.gameportal[e];if(!n.mAdMap[e.toString()]&&a&&""!=a)if(qg.createBoxPortalAd){let o=null;(o=qg.createBoxPortalAd({posId:a,marginTop:t})).onLoad(()=>{n.reloadTimes[e]=0,console.error("onLoad","互推盒子九宫格广告加载成功")}),o.onError(a=>{console.log("盒子九宫格广告加载失败",a),null==n.reloadTimes[e]&&(n.reloadTimes[e]=0),n.reloadTimes[e]<3&&(console.log("加载次数:",n.reloadTimes[e]),Laya.timer.once(1500,n,n.showBoxPoralAd,[e,t,i]),n.reloadTimes[e]=n.reloadTimes[e]+1)}),o.onClose(e=>{console.log("互推盒子九宫格广告关闭"),o.show().then(e=>{console.log("show success")}).catch(t=>{console.log("show fail with:"+t.errCode+","+t.errMsg),n.onErrorAD(e)})}),n.mAdMap[e.toString()]=o}else console.log("暂不支持互推盒子相关 API");return n.mAdMap[e.toString()]}showBoxPoralAd(e,t,i,n,a,o,s){if(!this.isSupport)return;this.mErrorCaller=n,this.mErrorFunc=a,this.mHideCaller=o,this.mHideFunc=s;let r=this.getBoxPoralAd(e,t,i);if(r){let e=this;r.show().then(e=>{console.log("show success")}).catch(t=>{console.log("show fail with:"+t.errCode+","+t.errMsg),e.onErrorAD(t)})}return r}hideBoxPoralAd(e){if(!this.isSupport)return;let t=this.mAdMap[e.toString()];t&&t.hide()}onErrorAD(e){this.mErrorCaller&&this.mErrorFunc&&this.mErrorFunc.call(this.mErrorCaller,e)}onHideAD(e){this.mHideCaller&&this.mHideFunc&&this.mHideFunc.call(this.mHideCaller,e)}}class hi extends e.BeginViewUI{constructor(){super(),this.height=Laya.stage.height,Laya.Browser.onVVMiniGame&&(this.img_logo.visible=!1,this.btnMoreGame.visible=!1),this.btnMoreGame.on(Laya.Event.CLICK,this,this.onGameboxEvent),Oe.I.statisticsReport(m.VIEW_INDEX)}onOpened(e){if(this.ov_native.visible=!1,Laya.Browser.onQGMiniGame||Laya.Browser.onVVMiniGame){let e=Ye.I.getAdSwitchByPosition(I.MAIN_RIGHT_AD);if(null==e||0==e.state)this.ov_native.visible=!1;else{this.ov_native.visible=!0;let e=this.ov_native.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e):Xe.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON):Xe.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON)}),this.ov_native_close.on(Laya.Event.CLICK,this,()=>{this.ov_native.visible=!1})}j.log("BeginView-showBannerAd"),ai.I.showBannerAd(i.AD_BANNER_1)}if(Laya.Browser.onVVMiniGame){this.img_logo.visible=!1,this.btnMoreGame.visible=!1;let e=1e3;if(qg.getSystemInfoSync){e=qg.getSystemInfoSync().screenHeight/2-100}li.I.showBoxPoralAd(c.AD_GAME_PORTAL_1,e,1,this,null)}(Laya.Browser.onMiniGame||Laya.Browser.onVVMiniGame)&&ai.I.showInterstitialAd(a.AD_INTERSTITIAL_LEVEL,this,this.closeInterstitialAd)}closeInterstitialAd(){Laya.Browser.onMiniGame&&lt.instance.show(ot.MoonMainAdPanel,{adEnum:i.AD_BANNER_1})}onGameboxEvent(){let e={};if(e.adEnum=i.AD_BANNER_1,Laya.Browser.onMiniGame){let t=Ye.I.getMatrixByPosition(U.BOX_AD);null==t||t.length<=0?(lt.instance.hide(ot.MoonMainAdPanel),ze.I.showCustom(p.AD_CUSTOM_MAIN_MATRIX,250,1,this,this.onErrorCoustBoxAd,this,this.onHideCoustBoxAd)):(lt.instance.show(ot.MoonGameBoxPanel,e),ai.I.showInterstitialAd(a.AD_INTERSTITIAL_LEVEL,this,null))}else Laya.Browser.onQGMiniGame&&ri.I.showPlatformDrawerGameAd()}onErrorCoustBoxAd(e){lt.instance.show(ot.MoonTipPanel,"加载数据失败,请稍后重试."),Laya.Browser.onMiniGame&&lt.instance.show(ot.MoonMainAdPanel,{adEnum:i.AD_BANNER_1})}onHideCoustBoxAd(e){Laya.Browser.onMiniGame&&lt.instance.show(ot.MoonMainAdPanel,{adEnum:i.AD_BANNER_1})}onClosed(){this.timer.clearAll(this),super.onClosed(),Laya.Browser.onMiniGame?lt.instance.hide(ot.MoonMainAdPanel):(Laya.Browser.onQGMiniGame||Laya.Browser.onVVMiniGame)&&(j.log("BeginView-hideBannerAd"),ai.I.hideBannerAd(i.AD_BANNER_1)),Laya.Browser.onVVMiniGame&&li.I.hideBoxPoralAd(c.AD_GAME_PORTAL_1)}}class di extends Laya.Vector3{constructor(e,t,i){super(e,t,i)}add(e,t){Laya.Vector3.add(e,t,this)}subtract(e,t){Laya.Vector3.subtract(e,t,this)}normalize(e,t,i){di.temp.reset(e,t,i),Laya.Vector3.normalize(di.temp,this)}copyV(e){e&&(this.x=e.x,this.y=e.y,this.z=e.z)}copyXyz(e,t,i){this.x=e,this.y=t,this.z=i}copyToV(e){e&&(e.x=this.x,e.y=this.y,e.z=this.z)}reset(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}static copyV1ToV2(e,t){if(e&&t)return t.x=e.x,t.y=e.y,t.z=e.z,t}static scaleV(e,t,i,n,a){return di.temp.reset(e,t,i),di.temp1.reset(),Laya.Vector3.scale(di.temp,n,di.temp1),di.temp1.copyToV(a),a}static lerpV(e,t,i,n){return di.temp.reset(),Laya.Vector3.lerp(e,t,i,di.temp),di.temp.copyToV(n),n}static addV(e,t,i){return di.temp.reset(),Laya.Vector3.add(e,t,di.temp),di.temp.copyToV(i),i}static subAndQuat(e,t,i){return di.temp.reset(),Laya.Vector3.subtract(e,t,di.temp),di.temp1.reset(),Laya.Vector3.transformQuat(di.temp,i,di.temp1),di.temp1.copyToV(e),e}static scaleAndAdd(e,t,i){return di.temp.reset(),Laya.Vector3.scale(e,i,di.temp),di.temp1.reset(),Laya.Vector3.add(t,di.temp,di.temp1),di.temp1.copyToV(t),t}static resetV(e,t=0,i=0,n=0){return e.x=t,e.y=i,e.z=n,e}}di.temp=new di(0,0),di.temp1=new di(0,0),di.temp2=new di(0,0),di.temp3=new di(0,0),di.temp4=new di(0,0),di.temp5=new di(0,0);class ci extends Laya.Script3D{constructor(){super(),this._skyPosZ=0,this._seaParentPosZ=0,this._seaMinZ=0}onEnable(){}onDisable(){}init(e,t){this._player=e.mainPlayer,this._sky=e.sky,this._seaParent=e.seaParent,this._seaArr=e.seaArr,this.gameObject=t,this._startV=this.gameObject.transform.position.clone(),this._playerStartV=this._player.transform.position.clone(),this._chaV=new Laya.Vector3,this._jiaV=new Laya.Vector3,this._skyPosZ=this._sky.transform.position.z,this._seaParentPosZ=this._seaParent.transform.position.z;let i=this._seaArr.length;this._seaMinZ=0;for(let e=0;e<i;e++){let t=this._seaArr[e].transform.localPosition.z;t<this._seaMinZ&&(this._seaMinZ=t)}}reset(){this._jiaV&&di.resetV(this._jiaV)}onUpdate(){super.onUpdate();let e=this._player.playerScript;if(e&&this._jiaV.y>=-.01){if(di.resetV(this._chaV),di.subtract(this._player.transform.position,this._playerStartV,this._chaV),di.resetV(this._jiaV),di.addV(this._startV,this._chaV,this._jiaV),this.gameObject.transform.position=this._jiaV,e.isRuning&&(e.score=Math.floor(10*this._chaV.z)),this._sky){let e=this._sky.transform.position;e.z=this._skyPosZ+this._chaV.z,this._sky.transform.position=e}if(this._seaParent){let e=this._seaParent.transform.position;e.z=this._seaParentPosZ+this._chaV.z,this._seaParent.transform.position=e}}if(this._seaArr){let e=this._seaArr.length,t=0,i=-1;for(let n=0;n<e;n++){let e=this._seaArr[n];if(!e)continue;let a=e.transform.localPosition;a.z-=.015,a.z<this._seaMinZ?i=n:e.transform.localPosition=a,(0==n||a.z>t)&&(t=a.z)}i>=0&&(this._seaArr[i].transform.localPosition.z=t+6)}}}class pi{constructor(){}init(e,t){this._sceneRoot=e,this.owner=t,this.posInitV=this.owner.transform.localPosition.clone(),this.posV=new di,this.posV.y=this.posInitV.y}get transform(){return this.owner.transform}getBoxCollider(){return null}removeBoxCollider(){this._boxCollider&&(this.boxColliderEnable=!1)}set boxColliderEnable(e){if(e){let t=this.getBoxCollider();t&&t.owner&&(t.enabled=e)}else this._boxCollider&&(this._boxCollider.enabled=e)}createRigidbody(){return this._rigidBody||(this._rigidBody=this.owner.getComponent(Laya.Rigidbody3D),this._rigidBody,this._rigidBody.enabled=!0),this._rigidBody}removeRigidbody(){this._rigidBody&&(this.rigidbodyEnable=!1)}set rigidbodyEnable(e){if(e){let t=this.createRigidbody();t&&(t.enabled=e)}else this._rigidBody&&(this._rigidBody.enabled=e)}clear(){this.removeBoxCollider(),this.removeRigidbody(),this.owner&&this.owner.removeSelf()}reset(){}}class gi{constructor(){}static randomsort(e,t){return Math.random()>.5?-1:1}static RandomArr(e){return e?(e.sort(gi.randomsort),e):null}static RandomInt(e,t){let i=t-e;return i=Math.abs(i),e+Math.floor(Math.random()*i)}static RandomNum(e,t){let i=t-e;return e+Math.random()*i}static RandomBool(e=.5){return Math.random()>e}static getDistance(e,t,i,n){var a=e-i,o=t-n;return Math.sqrt(a*a+o*o)}}gi.CONTOR_TYPE_NONE=0,gi.CONTOR_TYPE_UP=1,gi.CONTOR_TYPE_ROATEY=2,gi.CONTOR_TYPE_ROATEZ=3,gi.CONTOR_TYPE_CLOCK=4,gi.CONTOR_TYPE_PALE=5,gi.CONTOR_TYPE_QUAN=6,gi.CONTOR_TYPE_ROATEX=7,gi.CONTOR_TYPE_QIU=8,gi.CONTOR_TYPE_QUAN_LEFT=9,gi.CONTOR_TYPE_QUAN_RIGHT=10,gi.GuanQiaModelTable=[[1,"跳板",0,0],[2,"长方形大",1,.008],[3,"长方形中",1,.008],[4,"长方形小",1,.008],[5,"胶囊型柱",1,.02],[6,"圆圈",6,.3],[7,"木桩",2,-.75],[8,"球",8,0],[9,"钟摆",4,.1],[10,"十字架",3,-.04],[11,"转盘1",2,0],[12,"转盘2",2,0],[13,"加速带",0,.05],[14,"十字架2",2,-.75],[15,"转盘3",2,0],[16,"叉子",7,0],[17,"半圆环",2,-.2],[18,"方块大",1,0],[19,"方块小",1,0],[20,"正方柱大",1,.014],[21,"正方柱小",1,.005],[22,"右侧圆圈",10,.3],[23,"左侧圆圈",9,.3]],gi.BridgeTable=[[0,[1]],[1,[11]],[2,[12]],[3,[15]],[4,[1,10]]],gi.BridgeRateTable=[1,2,3,4,5,5,5,5],gi.GuanQiaSetTable=[[1,[0,1,3,5,7,9,11,13,14,15,16,17,18],7,4,-1,1],[2,[0,2,4,6,8,10,12,13,14,15,16,17,18,47,48,49],7,4,1,1],[3,[18,19,20,21,22,23,24,25,26,27,28,29,30,47,47,48,49],7,4,2,2],[4,[18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,47,47,48,49],7,3.5,3,2],[5,[18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,47,48,49],7,3.5,4,2],[6,[18,19,33,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],7,3.5,5,3],[7,[18,19,33,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],7,3.5,0,3]],gi.ModelsTable=[[0,[-12,0,0],[-5,0,0],4,.5,[[3,[0,0,0],0],[3,[0,0,1],.5],[3,[0,0,2],1],[3,[0,0,3],1.5],[3,[0,0,4],2],[3,[0,0,5],2.5],[3,[0,0,6],3],[3,[0,0,7],3.5]]],[1,[-12,0,0],[-5,0,0],3,.5,[[3,[0,0,0],0],[4,[0,0,3],.5],[4,[-1.07,0,6],1],[4,[0,0,9],1.5],[4,[-1.07,0,12],2],[3,[0,0,15],2.5]]],[2,[-12,0,0],[-5,0,0],3,.5,[[3,[0,0,0],0],[4,[-1.07,0,3],.5],[4,[0,0,6],1],[4,[-1.07,0,9],1.5],[4,[0,0,12],2],[3,[0,0,15],2.5]]],[3,[-12,0,0],[3,0,0],1,.5,[[5,[0,0,0],0],[5,[-2,0,2],0],[5,[0,0,4],0],[5,[-2,0,6],0]]],[4,[-12,0,0],[3,0,0],1,.5,[[5,[-2,0,0],0],[5,[0,0,2],0],[5,[-2,0,4],0],[5,[0,0,6],0]]],[5,[-6,0,0],[8,0,0],4,.5,[[5,[0,0,0],0],[5,[1,0,1],.5],[5,[2,0,2],1],[5,[1,0,3],1.5],[5,[0,0,4],2],[5,[1,0,5],2.5],[5,[2,0,6],3]]],[6,[-6,0,0],[8,0,0],4,.5,[[5,[2,0,0],0],[5,[1,0,1],.5],[5,[0,0,2],1],[5,[1,0,3],1.5],[5,[2,0,4],2],[5,[1,0,5],2.5],[5,[0,0,6],3]]],[7,[-4,0,0],[9,0,0],9.5,.5,[[5,[0,0,0],0],[5,[1,0,.8],.5],[5,[2,0,1.6],1],[5,[3,0,2.4],1.5],[5,[2,0,3.2],2],[5,[1,0,4],2.5],[5,[0,0,4.8],3],[5,[1,0,5.6],3.5],[5,[2,0,6.4],4],[5,[3,0,7.2],4.5],[5,[2,0,8],5],[5,[1,0,8.8],5.5],[5,[0,0,9.6],6],[5,[1,0,10.4],6.5],[5,[2,0,11.2],7],[5,[3,0,12],7.5],[5,[2,0,12.8],8],[5,[1,0,13.6],8.5],[5,[0,0,14.4],9]]],[8,[-4,0,0],[9,0,0],9.5,.5,[[5,[3,0,0],0],[5,[2,0,.8],.5],[5,[1,0,1.6],1],[5,[0,0,2.4],1.5],[5,[1,0,3.2],2],[5,[2,0,4],2.5],[5,[3,0,4.8],3],[5,[2,0,5.6],3.5],[5,[1,0,6.4],4],[5,[0,0,7.2],4.5],[5,[1,0,8],5],[5,[2,0,8.8],5.5],[5,[3,0,9.6],6],[5,[2,0,10.4],6.5],[5,[1,0,11.2],7],[5,[0,0,12],7.5],[5,[1,0,12.8],8],[5,[2,0,13.6],8.5],[5,[3,0,14.4],9]]],[9,[-4,0,0],[9,0,0],4,.5,[[5,[0,0,0],0],[5,[1,0,0],.5],[5,[2,0,0],1],[5,[3,0,0],1.5],[5,[0,0,1],.5],[5,[1,0,1],1],[5,[2,0,1],1.5],[5,[3,0,1],2],[5,[0,0,2],1],[5,[1,0,2],1.5],[5,[2,0,2],2],[5,[3,0,2],2.5],[5,[0,0,3],1.5],[5,[1,0,3],2],[5,[2,0,3],2.5],[5,[3,0,3],3]]],[10,[-4,0,0],[9,0,0],4.5,.5,[[5,[0,0,0],1.5],[5,[1,0,0],1],[5,[2,0,0],.5],[5,[3,0,0],0],[5,[0,0,1],2],[5,[1,0,1],1.5],[5,[2,0,1],1],[5,[3,0,1],.5],[5,[0,0,2],2.5],[5,[1,0,2],2],[5,[2,0,2],1.5],[5,[3,0,2],1],[5,[0,0,3],3],[5,[1,0,3],2.5],[5,[2,0,3],2],[5,[3,0,3],1.5]]],[11,[9,0,0],[9,0,0],4.5,.5,[[5,[0,0,0],0],[5,[2,0,0],.5],[5,[4,0,0],1],[5,[6,0,0],1.5],[5,[8,0,0],2],[5,[0,0,2],.5],[5,[2,0,2],1],[5,[4,0,2],1.5],[5,[6,0,2],2],[5,[8,0,2],2.5],[5,[0,0,4],1],[5,[2,0,4],1.5],[5,[4,0,4],2],[5,[6,0,4],2.5],[5,[8,0,4],3],[5,[0,0,6],1.5],[5,[2,0,6],2],[5,[4,0,6],2.5],[5,[6,0,6],3],[5,[8,0,6],3.5]]],[12,[9,0,0],[9,0,0],4.5,.5,[[5,[8,0,0],0],[5,[6,0,0],.5],[5,[4,0,0],1],[5,[2,0,0],1.5],[5,[0,0,0],2],[5,[8,0,2],.5],[5,[6,0,2],1],[5,[4,0,2],1.5],[5,[2,0,2],2],[5,[0,0,2],2.5],[5,[8,0,4],1],[5,[6,0,4],1.5],[5,[4,0,4],2],[5,[2,0,4],2.5],[5,[0,0,4],3],[5,[8,0,6],1.5],[5,[6,0,6],2],[5,[4,0,6],2.5],[5,[2,0,6],3],[5,[0,0,6],3.5]]],[13,[9,0,0],[9,0,0],3,.5,[[5,[0,0,0],0],[5,[4,0,0],1],[5,[8,0,0],0],[5,[2,0,2],2],[5,[6,0,2],2],[5,[0,0,4],1],[5,[4,0,4],3],[5,[8,0,4],1],[5,[2,0,6],2],[5,[6,0,6],2],[5,[0,0,8],0],[5,[4,0,8],1],[5,[8,0,8],0]]],[14,[-6,0,0],[9,0,0],1,.5,[[21,[0,0,0],0],[21,[1,0,4],0],[21,[2,0,8],0]]],[15,[-3,0,0],[-3,0,0],1,.5,[[21,[0,0,0],0],[21,[1,0,4],0],[21,[2,0,8],0],[5,[-3,0,0],0]]],[16,[-4,0,0],[9,0,0],4,.5,[[20,[0,0,0],1.5],[20,[1,0,0],1],[20,[2,0,0],.5],[20,[3,0,0],0],[20,[0,0,1],2],[20,[1,0,1],1.5],[20,[2,0,1],1],[20,[3,0,1],.5],[20,[0,0,2],2.5],[20,[1,0,2],2],[20,[2,0,2],1.5],[20,[3,0,2],1],[20,[0,0,3],3],[20,[1,0,3],2.5],[20,[2,0,3],2],[20,[3,0,3],1.5]]],[17,[-9,0,0],[4,0,0],1,.5,[[8,[0,0,0],0]]],[18,[-5,0,0],[-5,0,0],1,.5,[[13,[0,0,0],0]]],[19,[-6,0,0],[-6,0,0],1,.5,[[17,[0,0,0],0]]],[20,[-7,0,0],[1,0,0],1,.5,[[8,[0,0,0],0]]],[21,[-.4,0,0],[5.9,0,0],4,.5,[[20,[0,0,0],1.5],[20,[1,0,0],1],[20,[2,0,0],.5],[20,[3,0,0],0],[20,[0,0,1],2],[20,[1,0,1],1.5],[20,[2,0,1],1],[20,[3,0,1],.5],[20,[0,0,2],2.5],[20,[1,0,2],2],[20,[2,0,2],1.5],[20,[3,0,2],1],[20,[0,0,3],3],[20,[1,0,3],2.5],[20,[2,0,3],2],[20,[3,0,3],1.5]]],[22,[-3,0,0],[-3,0,0],1,.5,[[21,[0,0,0],0],[21,[1,0,4],0],[21,[2,0,8],0],[5,[-3,0,0],0]]],[23,[0,0,0],[5,0,0],4,.5,[[5,[0,0,0],0],[5,[1,0,0],.5],[5,[2,0,0],1],[5,[3,0,0],1.5],[5,[0,0,1],.5],[5,[1,0,1],1],[5,[2,0,1],1.5],[5,[3,0,1],2],[5,[0,0,2],1],[5,[1,0,2],1.5],[5,[2,0,2],2],[5,[3,0,2],2.5],[5,[0,0,3],1.5],[5,[1,0,3],2],[5,[2,0,3],2.5],[5,[3,0,3],3]]],[24,[0,0,0],[5,0,0],9.5,.5,[[5,[0,0,0],0],[5,[1,0,.8],.5],[5,[2,0,1.6],1],[5,[3,0,2.4],1.5],[5,[2,0,3.2],2],[5,[1,0,4],2.5],[5,[0,0,4.8],3],[5,[1,0,5.6],3.5],[5,[2,0,6.4],4],[5,[3,0,7.2],4.5],[5,[2,0,8],5],[5,[1,0,8.8],5.5],[5,[0,0,9.6],6],[5,[1,0,10.4],6.5],[5,[2,0,11.2],7],[5,[3,0,12],7.5],[5,[2,0,12.8],8],[5,[1,0,13.6],8.5],[5,[0,0,14.4],9]]],[25,[-3,0,0],[5,0,0],4,.5,[[5,[0,0,0],0],[5,[1,0,1],.5],[5,[2,0,2],1],[5,[1,0,3],1.5],[5,[0,0,4],2],[5,[1,0,5],2.5],[5,[2,0,6],3]]],[26,[-8,0,0],[0,0,0],1,.5,[[5,[0,0,0],0],[5,[-2,0,2],0],[5,[0,0,4],0],[5,[-2,0,6],0]]],[27,[-8.5,0,0],[-8.5,0,0],3,.5,[[3,[0,0,0],0],[4,[0,0,3],.5],[4,[-1.07,0,6],1],[4,[0,0,9],1.5],[4,[-1.07,0,12],2],[3,[0,0,15],2.5]]],[28,[-8.5,0,0],[-8.5,0,0],4,.5,[[3,[0,0,0],0],[3,[0,0,1],.5],[3,[0,0,2],1],[3,[0,0,3],1.5],[3,[0,0,4],2],[3,[0,0,5],2.5],[3,[0,0,6],3],[3,[0,0,7],3.5]]],[29,[0,0,0],[0,0,0],1,.5,[[14,[0,0,0],0]]],[30,[-20,0,0],[-20,0,0],1,.5,[[14,[0,0,0],0]]],[31,[2,0,0],[2,0,0],1,.5,[[7,[0,0,0],0]]],[32,[-21,0,0],[-21,0,0],1,.5,[[7,[0,0,0],0]]],[33,[0,0,0],[0,0,0],1,.5,[[9,[0,0,0],0]]],[34,[-1,0,0],[-1,0,0],1,.5,[[16,[0,0,0],0]]],[35,[1.2,0,0],[4,0,0],4,.5,[[20,[0,0,0],1.5],[20,[1,0,0],1],[20,[2,0,0],.5],[20,[3,0,0],0],[20,[0,0,1],2],[20,[1,0,1],1.5],[20,[2,0,1],1],[20,[3,0,1],.5],[20,[0,0,2],2.5],[20,[1,0,2],2],[20,[2,0,2],1.5],[20,[3,0,2],1],[20,[0,0,3],3],[20,[1,0,3],2.5],[20,[2,0,3],2],[20,[3,0,3],1.5]]],[36,[-1,0,0],[-1,0,0],1,.5,[[21,[0,0,0],0],[21,[1,0,4],0],[21,[2,0,8],0],[5,[-2,0,0],0]]],[37,[2,0,0],[4,0,0],4,.5,[[5,[0,0,0],0],[5,[1,0,0],.5],[5,[2,0,0],1],[5,[3,0,0],1.5],[5,[0,0,1],.5],[5,[1,0,1],1],[5,[2,0,1],1.5],[5,[3,0,1],2],[5,[0,0,2],1],[5,[1,0,2],1.5],[5,[2,0,2],2],[5,[3,0,2],2.5],[5,[0,0,3],1.5],[5,[1,0,3],2],[5,[2,0,3],2.5],[5,[3,0,3],3]]],[38,[2,0,0],[4,0,0],9.5,.5,[[5,[0,0,0],0],[5,[1,0,.8],.5],[5,[2,0,1.6],1],[5,[3,0,2.4],1.5],[5,[2,0,3.2],2],[5,[1,0,4],2.5],[5,[0,0,4.8],3],[5,[1,0,5.6],3.5],[5,[2,0,6.4],4],[5,[3,0,7.2],4.5],[5,[2,0,8],5],[5,[1,0,8.8],5.5],[5,[0,0,9.6],6],[5,[1,0,10.4],6.5],[5,[2,0,11.2],7],[5,[3,0,12],7.5],[5,[2,0,12.8],8],[5,[1,0,13.6],8.5],[5,[0,0,14.4],9]]],[39,[-1,0,0],[4,0,0],4,.5,[[5,[0,0,0],0],[5,[1,0,1],.5],[5,[2,0,2],1],[5,[1,0,3],1.5],[5,[0,0,4],2],[5,[1,0,5],2.5],[5,[2,0,6],3]]],[40,[-6,0,0],[-1,0,0],1,.5,[[5,[0,0,0],0],[5,[-2,0,2],0],[5,[0,0,4],0],[5,[-2,0,6],0]]],[41,[-18,0,0],[-18,0,0],1,.5,[[14,[0,0,0],0]]],[42,[-1,0,0],[-1,0,0],1,.5,[[14,[0,0,0],0]]],[43,[-18,0,0],[-18,0,0],1,.5,[[7,[0,0,0],0]]],[44,[0,0,0],[0,0,0],1,.5,[[7,[0,0,0],0]]],[45,[-4,0,0],[-4,0,0],1,.5,[[16,[0,0,0],0]]],[46,[-6,0,0],[0,0,0],1,.5,[[8,[0,0,0],0]]],[47,[-5.1,0,0],[0,0,0],1,.5,[[6,[0,0,0],0]]],[48,[16,0,0],[16,0,0],1,.5,[[22,[0,0,0],0]]],[49,[-16,0,0],[-16,0,0],1,.5,[[23,[0,0,0],0]]]],gi.ROBOT_NAMES_GIRL=[,"-:Abe","Abel","~Abner~","Abraham","”Allen","￠Adam←","┋Alden","└(^o^)┘","╰Alexis","☆Ambrose☆","☆Amos","★Albert★","⿷Alexander","Angela拜拜喽@","Calm°","℃","iAlistair","Anselm","Anthony","Baldwin","Bertran","Bryan","Barnaby","Barry","Bartholomew","Bernard","Bernie!","Bert","Bill","Billy","Bob","Bobby","Boris","Bradford","Brad@Brad@","Brandon","Brendan","Brian!","Bruce","Bud","Burt*/Burt","Carlton","Cary°","Christian","Carl","Cecil|","Cedric!!","Charles","Charlie⺌","Chuck","Christopher!","Chris","Clarence","Clark","Claude","Clement","Clare","Constant","Curtis","Clifford","Cliff","Clint!","Clive","Clyde","Colin","Laban","Lee","Lance","Larry","Laurence","Len","Lenny","Leo","Leonard@","Les","Leslie","Lionel","Malcolm","Mark","Martin","Malachi","Marshall","Marty","Matt","Mattew","Maurice","Max","Mervyn","Miles","Mike!","Mitch","Newton","Neal","Nicholas","Nick","Norm","Ollie","Oscar","Ollie","Oswald","Osmond"],gi.ROBOT_NAMES_BOY=[,"Ted","Teddy","Tel","Terence","Terry","Theo","Theodore","Thomas","Tim","Timmy","Timothy","Toby","Tom","Tommy","Tony","Theobald","Theodoric","Terence","Trevor","Troy"," Urban","Van","Vivian","Vic","Victor","Vince","Vincent","Viv","Philander","Quentin","Quincy","Rene","Patrick","Osmond","Octavius","Norm","Ollie!","Nicky","Nigel","Newton","Neal","Nathan","Miles","Michael","Maurice","Napoleon","Noel","Montgomery","Marshall","Les","Percy","Philip","Rene","Ronnie","Roland","Samson ゅ","Saul","Sam","Sammy","Steven"," Lades and Sinclair","Solomon"," Ted","Neddy","Nicholas!","Nick"," Montgomery","Mitchell","Micky","Mervyn","MattewS"," Malachi","Matt","Martin","Kenneth","Karl","Julian","Hubert","Horace","Grant","Humphry","Gavin"," @Freddie"," #Enos"," ?? Eli"," Darren"," Craig","Clint"," Christian"," Calvin","Caesar@"," Burt ","Bob","Barry"," Augustin"," Ivan","Lincoln"," Leo","Lewis"],gi.PLAYER_COLORS=[[1,1,1,1],[1,1,0,1],[1,0,0,1],[0,1,0,1]];class mi extends Laya.Script{constructor(){super(),this.isPlaying=!1,this._moveStaus=0,this._maxLimit=0,this._minLimit=0,this._delayTime=0,this._playTime=0}init(e,t,i,n){this._guanQia=e}play(e,t){this._playTime=e,this._delayTime=t,this.isPlaying=!0}stop(){this.isPlaying=!1,this._moveStaus=0,Laya.Tween.clearAll(this),Laya.timer.clearAll(this)}}class ui extends mi{constructor(){super()}init(e,t=0,i=0){super.init(e),this._mTransform=this._guanQia.owner.transform;let n=this._guanQia.owner.meshRenderer.bounds.getExtent();this._minLimit=i-1.4*n.y-t,this._maxLimit=this._minLimit+n.y}moveTo(e){this._moveStaus=e;let t=this._playTime;e==ui.TOWARD_DOWN?Laya.Tween.to(this._mTransform,{localPositionY:this._minLimit},t,null,Laya.Handler.create(this,this.moveEnd)):e==ui.TOWARD_UP&&(this._guanQia.boxColliderEnable=!0,Laya.Tween.to(this._mTransform,{localPositionY:this._maxLimit},t,null,Laya.Handler.create(this,this.moveTo,[ui.TOWARD_DOWN])))}moveEnd(){this._guanQia.boxColliderEnable=!1,Laya.timer.once(this._delayTime,this,this.moveTo,[ui.TOWARD_UP])}play(e,t){super.play(e,t),this._moveStaus||(this._moveStaus=ui.TOWARD_UP),this.moveTo(this._moveStaus)}}ui.TOWARD_NONE=0,ui.TOWARD_UP=1,ui.TOWARD_DOWN=2;class yi extends mi{constructor(){super(),this._diffRoate=0,this._haveRange=!1}init(e,t=0,i=0,n=360,a=1.4){super.init(e),this._minLimit=i,this._maxLimit=n,this._moveStaus=t,this._haveRange=0!=i||360!=n,this._mTransform=this._guanQia.owner.transform,this._roateV=new Laya.Vector3,this._moveStaus==yi.ROATE_Y?this._roateV.y=a:this._moveStaus==yi.ROATE_Z?this._roateV.z=a:this._moveStaus==yi.ROATE_X&&(this._roateV.x=a)}stop(){this.isPlaying=!1}onUpdate(){this.isPlaying&&(this._haveRange&&(this._moveStaus==yi.ROATE_Z?(this._diffRoate+=this._roateV.z,(this._diffRoate>=this._maxLimit||this._diffRoate<=this._minLimit)&&(this._roateV.z=-this._roateV.z)):this._moveStaus==yi.ROATE_Y&&(this._diffRoate+=this._roateV.y,(this._diffRoate>=this._maxLimit||this._diffRoate<=this._minLimit)&&(this._roateV.y=-this._roateV.y))),this._mTransform.rotate(this._roateV,!1,!1))}}yi.ROATE_Y=0,yi.ROATE_Z=1,yi.ROATE_X=2;class wi extends mi{constructor(){super()}init(e,t=.1){super.init(e);let i=this._guanQia.owner.getChildByName("zhuangji01_0");this._mTransform=i.transform,this._minLimit=this._mTransform.localPosition.x,this._maxLimit=.03-i.meshRenderer.bounds.getExtent().x,this.play()}moveTo(e){if(this._moveStaus==e)return;this._moveStaus=e;let t=gi.RandomInt(600,800);e==wi.TOWARD_LEFT?Laya.Tween.to(this._mTransform,{localPositionX:this._minLimit},200,null,Laya.Handler.create(this,this.moveTo,[wi.TOWARD_RIGHT]),t):e==wi.TOWARD_RIGHT&&Laya.Tween.to(this._mTransform,{localPositionX:this._maxLimit},200,null,Laya.Handler.create(this,this.moveTo,[wi.TOWARD_LEFT]),t)}play(e,t){super.play(e,t),this.moveTo(wi.TOWARD_RIGHT)}}wi.TOWARD_NONE=0,wi.TOWARD_LEFT=1,wi.TOWARD_RIGHT=2;class fi extends mi{constructor(){super(),this._toward=0,this._endZ=-1,this._endY=0,this._endY1=-1,this._endY2=-1,this._endY3=-1}init(e,t=0){super.init(e),this._toward=t,this._initPos=new Laya.Vector3,this._initPos1=new Laya.Vector3,this._mTransform=this._guanQia.owner.getChildByName("qiu").transform,this._runV=new Laya.Vector3,this._initPos=di.copyV1ToV2(this._mTransform.localPosition,this._initPos),this._initPos1=di.copyV1ToV2(this._mTransform.position,this._initPos1)}play(e,t){Laya.Tween.clearAll(this),this._mTransform.position=di.copyV1ToV2(this._initPos1,this._mTransform.position),this._mTransform.localPosition=di.copyV1ToV2(this._initPos,this._mTransform.localPosition),this._runV.y=-.016,this.updateZ(.01),this._endY=0,this._endZ=-1,this._endY1=-1,this._endY2=-1,this._endY3=-1,super.play(e,t)}updateZ(e){this._toward==fi.TOWARD_LEFT?this._runV.x=-e:this._toward==fi.TOWARD_RIGHT?this._runV.x=e:this._runV.z=-e}onUpdate(){this.isPlaying&&(this._endY>=0&&(this._endY>=21?(this._runV.y=.004,this.updateZ(.01),this._endY=-1,this._endZ=-1,this._endY1=0,this._endY2=-1,this._endY3=-1):this._endY++),this._endY1>=0&&(this._endY1>=20?(this._runV.y=-.002,this.updateZ(this._toward!=fi.TOWARD_QIAN?.005:.01),this._endY=-1,this._endZ=-1,this._endY1=-1,this._endY2=0,this._endY3=-1):this._endY1++),this._endY2>=0&&(this._endY2>=40?(this._runV.y=0,this.updateZ(this._toward!=fi.TOWARD_QIAN?.005:.01),this._endY=-1,this._endZ=0,this._endY1=-1,this._endY2=-1,this._endY3=-1):this._endY2++),this._toward!=fi.TOWARD_QIAN?(this._endZ>=0&&(this._endZ>=10?(this.updateZ(.005),this._runV.y=-.01,this._endZ=-1,this._endY=-1,this._endY1=-1,this._endY2=-1,this._endY3=0):this._endZ++),this._endY3>=0&&(this._endY3>=50?(this.updateZ(.01),this._runV.y=-.015,this._endZ=-1,this._endY=0,this._endY1=-1,this._endY2=-1,this._endY3=-1,this._mTransform.localPosition=di.copyV1ToV2(this._initPos,this._mTransform.localPosition)):this._endY3++)):this._endZ>=0&&(this._endZ>=100?(this.updateZ(.01),this._runV.y=-.015,this._endZ=-1,this._endY=0,this._endY1=-1,this._endY2=-1,this._endY3=-1,this._mTransform.localPosition=di.copyV1ToV2(this._initPos,this._mTransform.localPosition)):this._endZ++),this._mTransform.translate(this._runV,!1))}stop(){super.stop(),this._mTransform.position=di.copyV1ToV2(this._initPos1,this._mTransform.position),this._mTransform.localPosition=di.copyV1ToV2(this._initPos,this._mTransform.localPosition)}}fi.TOWARD_QIAN=0,fi.TOWARD_LEFT=1,fi.TOWARD_RIGHT=2;class vi extends mi{constructor(){super()}init(e,t=5){super.init(e),this._mTransform=this._guanQia.owner.transform,this._runV=new Laya.Vector3,this._runV.z=.02}play(e,t){super.play(e,t);let i=.006;this._runV.x=e<0?-i:0==e?gi.RandomBool()?i:-i:i,this._runV.y=0}stop(){this.isPlaying=!1}onUpdate(){!this.isPlaying||this._mTransform.position.y<=-.35||(Math.abs(this._mTransform.position.x)>=.3&&(this._runV.y=-.01),this._mTransform.translate(this._runV,!1))}}vi.ROATE_Y=0,vi.ROATE_Z=1;class Ii extends pi{constructor(){super(),this._type=0,this._controlType=0,this.delayPlay=0,this.playTimeLen=0,this.playTimeXunHuan=0,this.isPlaying=!1}get controlType(){return this._controlType}get guanqiaScript(){return this._guanqiaScript}init(e,t){super.init(e,t);let i=null;if(this.owner.owner=this,this.owner.meshRenderer)i=this.owner.meshRenderer.bounds;else if(this.owner.numChildren){let e=this.owner.getChildAt(0);e&&e.meshRenderer&&(i=e.meshRenderer.bounds)}if(i){let e=i.getExtent(),t="guanqia10"==this.owner.name?.2:0;this.size=new di(2*e.x,2*e.y,2*e.z+t)}else this.size=new di}get type(){return this._type}set type(e){if(this._type!=e&&(this._type=e,this._type>0)){let e=gi.GuanQiaModelTable[this._type-1];if(e)switch(this._controlType=e[2],this._controlType){case gi.CONTOR_TYPE_UP:this._guanqiaScript=this.owner.addComponent(ui),this._guanqiaScript.init(this,e[3],this._sceneRoot.groundY);break;case gi.CONTOR_TYPE_CLOCK:this._guanqiaScript=this.owner.addComponent(yi),this._guanqiaScript.init(this,yi.ROATE_Z,-90,90);break;case gi.CONTOR_TYPE_PALE:this._guanqiaScript=this.owner.addComponent(wi),this._guanqiaScript.init(this);break;case gi.CONTOR_TYPE_ROATEX:this._guanqiaScript=this.owner.addComponent(yi),this._guanqiaScript.init(this,yi.ROATE_X);break;case gi.CONTOR_TYPE_ROATEY:this._guanqiaScript=this.owner.addComponent(yi),this._guanqiaScript.init(this,yi.ROATE_Y);break;case gi.CONTOR_TYPE_ROATEZ:this._guanqiaScript=this.owner.addComponent(yi),this._guanqiaScript.init(this,yi.ROATE_Z);break;case gi.CONTOR_TYPE_QUAN:this._guanqiaScript=this.owner.addComponent(fi),this._guanqiaScript.init(this);break;case gi.CONTOR_TYPE_QUAN_LEFT:this._guanqiaScript=this.owner.addComponent(fi),this._guanqiaScript.init(this,fi.TOWARD_LEFT);break;case gi.CONTOR_TYPE_QUAN_RIGHT:this._guanqiaScript=this.owner.addComponent(fi),this._guanqiaScript.init(this,fi.TOWARD_RIGHT);break;case gi.CONTOR_TYPE_QIU:this._guanqiaScript=this.owner.addComponent(vi),this._guanqiaScript.init(this,2)}}}get isZhuanPan(){return 11==this._type||12==this._type||15==this._type}getBoxCollider(){if(!this._boxCollider)if(this._boxCollider=this.owner.getComponents(Laya.PhysicsCollider),this._boxCollider&&this._boxCollider.length){let e=this._boxCollider.length;for(let t=0;t<e;t++){let e=this._boxCollider[t];e&&this.setCollisionData(e)}}else{this._boxCollider=[];let t=this.owner.addComponent(Laya.PhysicsCollider);var e=new Laya.BoxColliderShape(this.size.x,this.size.y,this.size.z);t.colliderShape=e,this.setCollisionData(t),this._boxCollider.push(t)}return this._boxCollider}removeBoxCollider(){this.boxColliderEnable=!1}setCollisionData(e){e.friction=0,this.isZhuanPan?(e.collisionGroup=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1,e.canCollideWith=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1):(e.collisionGroup=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER2,e.canCollideWith=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1),this._controlType==gi.CONTOR_TYPE_UP&&(e.isTrigger=!0)}set boxColliderEnable(e){if(this._boxCollider||this.getBoxCollider(),this._boxCollider){let t=this._boxCollider.length;if(t)for(let i=0;i<t;i++)this.setCollWith(this._boxCollider[i],e);else this._boxCollider instanceof Laya.PhysicsCollider&&this.setCollWith(this._boxCollider,e)}}setCollWith(e,t){e&&!this.isZhuanPan&&(e.canCollideWith=t?Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1:Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER4)}clear(){this._guanqiaScript&&this._guanqiaScript.stop(),this.isPlaying=!1,super.clear()}}class _i extends Laya.Script3D{constructor(){super(),this._isRuning=!1,this._isJumping=!1,this.isPushing=!1,this.isPushingL=!1,this.isPushingR=!1,this._isDownL=!1,this._isDownR=!1,this._isUpL=!1,this._isUpR=!1,this._isInZhuanPan=!1,this._isInZhuanPan1=!1,this._isSuaiDao=!1,this._isAddSpeed=!1,this._isReadyJump=!1,this._jumpY=0,this._jumpZ=0,this._curAction=-1,this._moveSpeed=.008,this._tuiDaoSpeed=.0012,this._suaiDaoSpeed=.0019,this._curAngle=0,this._toAngle=0,this._oldRunX=0,this._oldRunZ=0,this.preRunStatus=!1,this._limitX=.28,this._zhuanPanRdis=0,this._oldPlayerRoateY=-999,this.isDying=!1,this._dieAction=0,this.isDied=!1,this.score=0,this.name="",this.head="",this._wuDiTime=0}get runVec3(){return this._runVec3}onEnable(){}onDisable(){}init(e,t,i){this._sceneRoot=e,this._player=t,this._tral=i,this._tral&&(this._chaV=new Laya.Vector3,di.subtract(this._player.transform.position,this._tral.transform.position,this._chaV)),this._playerAni=this._player.owner.getComponent(Laya.Animator),this._runVec3=new Laya.Vector3(0,0,this._moveSpeed),this._jumVec3=new Laya.Vector3,this._roateVec3=new Laya.Vector3,this._oldParent=this._player.owner.parent}get isRuning(){return this._isRuning}set isRuning(e){if(!this.isDied&&!this.isDying)if(this._isDownL||this._isDownR)!this._player.isRobot&&console.log("！！！点击要跑起来了,但是处于倒地状态！！！");else if(this._isUpL||this._isUpR)!this._player.isRobot&&console.log("！！！点击要跑起来了,但是还没站起来！！！");else if(this._isRuning=e,e){if(-999!=this._oldPlayerRoateY&&(this._player.transform.localRotationEulerY=this._oldPlayerRoateY,this._oldPlayerRoateY=-999),this._runVec3.z=this._moveSpeed,this.isPushing=!1,this.exitZhuanPan(),0!=this._runVec3.x){let e=-this._runVec3.x/3;Laya.Tween.to(this._runVec3,{x:e},500,null,Laya.Handler.create(this,this.huiZheng)),Laya.Tween.to(this._player.transform,{localRotationEulerY:0},500,null)}this.setGravity(!0)}else this.setMoveOri(null),Laya.Tween.clearAll(this._runVec3),Laya.Tween.clearAll(this._player.transform)}huiZheng(){this._runVec3.x=0,this._player.transform.localRotationEulerY=0}get isJumping(){return this._isJumping}set isJumping(e){e&&(this.isDied||this.isDying)||(this._isJumping=e,e?(this._jumpY=this._player.owner.transform.position.y,this._jumpZ=0,this._isRuning=!1,this._jumVec3.y=2e-4,Laya.Tween.to(this._jumVec3,{y:.0022,z:.007},500,null),Laya.Tween.to(this._jumVec3,{y:0,z:.005},300,null),Laya.Tween.to(this._jumVec3,{y:-.0025,z:.007},300,null,null,800)):di.resetV(this._jumVec3,0,0,0),this.setGravity(!e))}setGravity(e){let t=this._player.getBoxCollider();t&&(e?0==t.gravity.x&&0==t.gravity.y&&0==t.gravity.z&&(t.gravity=di.copyV1ToV2(this._player.gravity,t.gravity)):0==t.gravity.x&&0==t.gravity.y&&0==t.gravity.z||(t.gravity=di.resetV(t.gravity)))}playDownlEnd(){this.isDying||(this._isDownL=!1,this._isUpL=!0,this._isSuaiDao=!1,!this.preRunStatus&&this._isInZhuanPan1&&this._zhuanPanRdis>0&&Laya.timer.once(500,this,this.playUplEnd))}playUplEnd(){Laya.timer.clear(this,this.playUplEnd),!this._player.isRobot&&console.log("=====player playuplend"),this._isUpL=!1,this._runVec3.x=this._oldRunX,this._runVec3.z=this._oldRunZ,this._player.transform.localRotationEulerY=this._oldPlayerRoateY,this.preRunStatus&&(this.isRuning=this.preRunStatus)}playDownrEnd(){this.isDying||(this._isDownR=!1,this._isUpR=!0,this._isSuaiDao=!1,!this.preRunStatus&&this._isInZhuanPan1&&this._zhuanPanRdis>0&&Laya.timer.once(500,this,this.playUprEnd))}playUprEnd(){Laya.timer.clear(this,this.playUprEnd),!this._player.isRobot&&console.log("=====player playuprend"),this._isUpR=!1,this._runVec3.x=this._oldRunX,this._runVec3.z=this._oldRunZ,this._player.transform.localRotationEulerY=this._oldPlayerRoateY,this.preRunStatus&&(this.isRuning=this.preRunStatus)}playPushlEnd(){this.isPushingL=!1}playPushrEnd(){this.isPushingR=!1}setMoveOri(e){if(!this.isRuning||!e||this._isReadyJump)return;e.y=0,di.normalize(e,e),e.cloneTo(this._roateVec3);let t=180*Math.atan2(this._roateVec3.z,this._roateVec3.x)/Math.PI;this.setTowardAngle(t)}setTowardAngle(e){if(!this._isReadyJump){var t=e*Math.PI/180;e<40&&e>-40&&(e=40,t=.7),(e<-140||e>140)&&(e=140,t=2.44),Laya.Tween.clearAll(this._runVec3),Laya.Tween.clearAll(this._player.transform),this._isInZhuanPan&&(this._isInZhuanPan=!1),this._runVec3.z=Math.abs(Math.sin(t)*this._moveSpeed),this._runVec3.x=Math.cos(t)*this._moveSpeed;var i=90-Math.abs(e);Laya.Tween.to(this._player.transform,{localRotationEulerY:i},120)}}updateAction(){this.isDying?this._isDownL||this._isDownR||this.setAction(_i.ACTION_JUMP):this.isDied||(this._isJumping?this.setAction(_i.ACTION_JUMP):this.isPushing?this.setAction(_i.ACTION_PUSH):this._isDownL?this.setAction(_i.ACTION_DOWNL):this._isDownR?this.setAction(_i.ACTION_DOWNR):this._isUpL?this.setAction(_i.ACTION_UPL):this._isUpR?this.setAction(_i.ACTION_UPR):this.isPushing?this.setAction(_i.ACTION_PUSH):this.isPushingL?this.setAction(_i.ACTION_PUSHL):this.isPushingR?this.setAction(_i.ACTION_PUSHR):this._isRuning?this.setAction(_i.ACTION_RUN):this.setAction(_i.ACTION_STAND))}setAction(e){if(this._curAction==e)return;this._curAction=e;let t="stand";switch(this._curAction){case _i.ACTION_RUN:t="run";break;case _i.ACTION_JUMP:t="fly";break;case _i.ACTION_DOWNL:t="down_l";break;case _i.ACTION_DOWNR:t="down_r";break;case _i.ACTION_UPL:t="up_l";break;case _i.ACTION_UPR:t="up_r";break;case _i.ACTION_PUSH:t="push";break;case _i.ACTION_PUSHL:t="push_l";break;case _i.ACTION_PUSHR:t="push_r"}this._playerAni&&this._playerAni.play(t),!this._player.isRobot&&console.log("=======setAction",e,t)}onUpdate(){if(super.onUpdate(),this._player){if(this.isJumping){if(this._player.transform.translate(this._jumVec3,!1),this._player.transform.position.y<this._jumpY){this.isJumping=!1;let e=this._player.transform.position;e.y=this._jumpY,this._player.transform.position=e}}else this.isRuning||this.isPushing||this.isPushingL||this.isPushingR?this._isInZhuanPan||this.updatePos():this._isSuaiDao&&this._player.transform.translate(this._runVec3,!1);if(this.isDied||this.isDying)this.isDying&&(this._player.transform.position.y<=-.31?this.setIsDied():this._player.transform.translate(this._runVec3,!1));else{if(this._isInZhuanPan1&&this._zhuanPanGps&&this._zhuanPanRdis<=0&&!this.isRuning){di.subtract(this._player.transform.position,this._zhuanPanCenterPos,di.temp5);let e=Math.atan2(di.temp5.z,di.temp5.x);this._zhuanPanRdis=di.temp5.z/Math.sin(e),!this._player.isRobot&&console.log("======zhuan dis",this._zhuanPanRdis),this._zhuanPanRdis<.36?this.enterZhuanPan():this.exitZhuanPan()}this.readyToDie()}this._tral&&(di.subtract(this._player.transform.position,this._chaV,di.temp1),this._tral.transform.position=di.copyV1ToV2(di.temp1,this._tral.transform.position)),this.updateAction()}}updatePos(){let e=this._player.transform.position;e.x=e.x+this._runVec3.x,e.y=e.y+this._runVec3.y;let t=this._isAddSpeed?2*this._runVec3.z:this._runVec3.z;e.z=e.z+t,this._player.transform.position=e}enterZhuanPan(){this._player.owner.parent!=this._zhuanPanGps.parent&&(di.temp5=di.copyV1ToV2(this._player.owner.transform.position,di.temp5),console.log("=========Panpre==",this._player.owner.transform.position),this._player.owner.removeSelf(),this._zhuanPanGps.parent.addChild(this._player.owner),this._player.owner.transform.position=di.temp5,console.log("=========Pan",this._player.owner.transform.position))}exitZhuanPan(){this._zhuanPanRdis=0,this._player.owner.parent!=this._oldParent&&(di.temp5=di.copyV1ToV2(this._player.owner.transform.position,di.temp5),this._player.owner.removeSelf(),this._oldParent.addChild(this._player.owner),this._player.owner.transform.position=di.temp5)}onTriggerEnter(e){e&&e.owner&&(!this._player.isRobot&&console.log("======onTriggerEnter",e.owner.name),this.doCollision(e.owner)&&super.onTriggerEnter(e))}onCollisionEnter(e){if(!e.other)return;let t=e.other.owner;t&&(!this._player.isRobot&&console.log("======onCollEnter",t.name),this.doCollision(t)&&super.onCollisionEnter(e))}onCollisionExit(e){if(!e.other)return;let t=e.other.owner;t&&(!this._player.isRobot&&console.log("======onCollExit",t.name),this.isDied||("guanqia13"==t.name?(this.isPushing=!1,this._isAddSpeed=!1):t.name.indexOf("ban")>=0&&(this._isInZhuanPan=!1),super.onCollisionExit(e)))}doCollision(e){if(this.isDied||!e)return!1;let t=0==e.name.indexOf("sea");if(!t&&Laya.timer.clear(this,this.readyToDie),this._isInZhuanPan=!1,e.name.indexOf("ground0")>=0){let t=parseInt(e.name.replace("ground0",""));this._limitX=2==t?.19:3==t?.16:.26,this._sceneRoot.groundMgr.playGround(e.index),this.updateGuanQia(e),this._player.owner.index=e.index,this.preRunStatus&&(this.isRuning=this.preRunStatus),this._isInZhuanPan1&&this._zhuanPanRdis>0&&(this.exitZhuanPan(),-999!=this._oldPlayerRoateY&&(this._player.transform.localRotationEulerY=this._oldPlayerRoateY),this._oldPlayerRoateY=-999,this.setGravity(!0)),this._isInZhuanPan1=!1}else if(t)this.setIsDied();else if("guanqia10"==e.name)this._player.transform.localPosition.x>0?this.flyDie(1):this._player.transform.localPosition.x<0?this.flyDie(-1):this.flyDie(gi.RandomBool()?1:-1);else if("guanqia13"==e.name)this._isInZhuanPan1=!1,this._isAddSpeed=!0;else if("effect_speed"==e.name);else if("guanqia1"==e.name)this._sceneRoot.addJumpEffect(this._player.transform.position),this.setGravity(!1),this.gotoJump();else if(e.name.indexOf("ban")>=0)this._isInZhuanPan=!0,"ban0"==e.name||e.name;else{if("wanjia"==e.name)return!1;if("qiu"==e.name)this.shuaiDao(this._suaiDaoSpeed);else if(e.name.indexOf("guanqia")>=0){if("guanqia11"==e.name||"guanqia12"==e.name||"guanqia15"==e.name)return this._zhuanPanCenterPos?this._zhuanPanCenterPos.reset():this._zhuanPanCenterPos=new di,this._zhuanPanCenterPos=di.copyV1ToV2(e.transform.position,this._zhuanPanCenterPos),this._zhuanPanCenterPos.y=this._player.transform.position.y,this._isInZhuanPan1=!0,this._zhuanPanGps=e.getChildByName("gps"),!1;"guanqia8"==e.name&&e.owner instanceof Ii&&e.owner.guanqiaScript.play(this._runVec3.x),this._isInZhuanPan1&&(this._isDownL||this._isDownR)||this.shuaiDao(this._suaiDaoSpeed)}}return!0}updateGuanQia(e){this._sceneRoot.groundMgr.updateGround(e.index)}beiTuiDao(e){if(this._isSuaiDao||this.isInWudi()||this.isPushingL||this.isPushingR||this.isJumping||this.isDied||this.isDying)return;let t=this._player.transform.position.x-e.transform.position.x;t>0?e.playerScript.isPushingL=!0:e.playerScript.isPushingR=!0,this.shuaiDao(this._tuiDaoSpeed,!1,t>0?1:2)}shuaiDao(e,t=!1,i=0){this._isSuaiDao||this.isInWudi()||(this.shock(),this.preRunStatus=this._isRuning,this._isRuning=!1,this._isSuaiDao=!0,this._oldRunX=this._runVec3.x,this._oldRunZ=this._runVec3.z,this._oldPlayerRoateY=this._player.transform.localRotationEulerY,Laya.Tween.clearAll(this._player.transform),Laya.Tween.clearAll(this._runVec3),this._runVec3.z=0,t&&(this._runVec3.z=-e),i<=2?1==(i=i||(gi.RandomBool()?1:2))?(this._isDownL=!0,this._runVec3.x=e):(this._isDownR=!0,this._runVec3.x=-e):1==i?(this.isPushingL=!0,this._runVec3.x=e):2==i&&(this.isPushingR=!0,this._runVec3.x=-e))}shock(){this._sceneRoot.mainStage&&this._sceneRoot.mainStage.shakeStatus&&(Laya.Browser.onMiniGame?wx.vibrateLong({success:()=>{},fail:()=>{},complete:()=>{}}):(Laya.Browser.onQGMiniGame||Laya.Browser.onVVMiniGame)&&qg.vibrateLong({success:()=>{},fail:()=>{},complete:()=>{}}))}gotoJump(){this._isReadyJump=!1,this.preRunStatus=this._isRuning,this.isJumping=!0}readyToDie(){let e=this._isInZhuanPan1?.325:this._limitX;this._player.transform.localPosition.x>=e?this.flyDie(1):this._player.transform.localPosition.x<=-e?this.flyDie(-1):this._player.transform.localPosition.y<=-.1&&(this.isDying=!0,this._runVec3=di.resetV(this._runVec3))}flyDie(e){Laya.timer.clear(this,this.playUplEnd),Laya.timer.clear(this,this.playUprEnd),this._isSuaiDao=!1,this.isJumping=!1,this.isRuning=!1,this.isDying=!0,this._isInZhuanPan1=!1,this._runVec3=di.resetV(this._runVec3),this._player.setFallSpeed(0);let t=2*this._moveSpeed*e,i=-this._moveSpeed/3,n=this._moveSpeed*e,a=-this._moveSpeed;Laya.Tween.to(this._runVec3,{x:t,y:i},200),Laya.Tween.to(this._runVec3,{x:n,y:a},300,null,null,200)}setIsDied(){!this._player.isRobot&&console.log("=====死了"),Laya.timer.clear(this,this.playUplEnd),Laya.timer.clear(this,this.playUprEnd),this._isRuning=!1,this._isJumping=!1,this.isDying=!1,this.isDied=!0,this._isInZhuanPan1=!1,this._player.boxColliderEnable=!0,this._player.setFallSpeed(.5),this._player.hideName(),this._sceneRoot.playWaterEffect(this._player)}isInWudi(){return this._wuDiTime>0&&this._wuDiTime>Laya.timer.currTimer}reset(e=!0,t){this._wuDiTime=t?Laya.timer.currTimer+t:0,Laya.timer.clear(this,this.playUplEnd),Laya.timer.clear(this,this.playUprEnd),this._isInZhuanPan=this._isInZhuanPan1=!1,this.exitZhuanPan(),this._oldPlayerRoateY=-999,this.isDying=!1,this.isDied=!1,this.isJumping=!1,this.isRuning=!1,this.isPushing=!1,this.isPushingL=!1,this.isPushingR=!1,this._isDownL=!1,this._isDownR=!1,this._isUpL=!1,this._isUpR=!1,this._isSuaiDao=!1,this.preRunStatus=!1,this._isAddSpeed=!1,this._isReadyJump=!1,this._curAction=-1,e&&(this.score=0),di.resetV(this._runVec3,0,0,this._moveSpeed),this._player.boxColliderEnable=!0,this._player.setFallSpeed(.5)}}_i.ACTION_STAND=0,_i.ACTION_RUN=1,_i.ACTION_JUMP=2,_i.ACTION_DOWNL=3,_i.ACTION_DOWNR=4,_i.ACTION_UPL=5,_i.ACTION_UPR=6,_i.ACTION_PUSH=7,_i.ACTION_PUSHL=8,_i.ACTION_PUSHR=9;class Ai extends _i{constructor(){super(),this._coolTime=0,this._isZhuanXiang=!1}updateGuanQia(e){}shock(){}get isRuning(){return this._isRuning}set isRuning(e){super.isRuning=e,e&&(this._coolTime=Laya.timer.currTimer+gi.RandomInt(2e3,4e3))}moveAI(){if(this._coolTime>Laya.timer.currTimer)return;if(this._sceneRoot.groundMgr.isNearBlock(this._player.owner.index,this._player)&&!this._isZhuanXiang)gi.RandomBool(.6)?(this.isRuning=!1,this._coolTime=Laya.timer.currTimer+gi.RandomInt(500,1e3)):(this._isZhuanXiang=!1,this._coolTime=Laya.timer.currTimer+1e3,!this.isRuning&&(this.isRuning=!0));else if(this._isInZhuanPan&&!this._isZhuanXiang){let e=gi.RandomBool()?5:95;this.setTowardAngle(e),this._isZhuanXiang=!0,this._coolTime=Laya.timer.currTimer+200,!this.isRuning&&(this.isRuning=!0)}else this._isInZhuanPan1?(this.setTowardAngle(0),this._coolTime=Laya.timer.currTimer+300,!this.isRuning&&(this.isRuning=!0),this._isZhuanXiang=!1):(this._coolTime=Laya.timer.currTimer+gi.RandomInt(1e3,2e3),!this.isRuning&&(this.isRuning=!0),this._isZhuanXiang=!1)}}class Si extends pi{constructor(){super(),this._isRobot=!1,this.robotType=0,this._colorType=0,this._isFirstShowName=!1,this.tempV4=new Laya.Vector4}get isRobot(){return this._isRobot}init(t,i,n=!1,a){super.init(t,i),this.owner.owner=this,this._tral=a,this._isRobot=n,this.posInitV=this.owner.transform.position.clone(),this.rotationInit=this.owner.transform.rotation.clone(),this.nameUI=new e.PlayerBarUI,this._meshJuese=this.owner.getChildByName("Sphere001")}changeMaterial(e){this._colorType!=e&&(this._colorType=e,this.loadMaterialComplete())}loadMaterialComplete(){this._colorMat||(this._colorMat=new Laya.Vector4);let e=gi.PLAYER_COLORS[this._colorType];this._colorMat.x=e[0],this._colorMat.y=e[1],this._colorMat.z=e[2],this._colorMat.w=e[3],this._meshJuese&&this._meshJuese.skinnedMeshRenderer&&this._meshJuese.skinnedMeshRenderer.material instanceof Laya.BlinnPhongMaterial&&(this._meshJuese.skinnedMeshRenderer.material.albedoColor=this._colorMat)}setPlayerInfo(e,t){this.playerScript.name=e,this.playerScript.head=t,this.nameUI&&(this.nameUI.lblName.text=e,this.nameUI.imgHead.skin=t||"")}showName(){this._isFirstShowName||(this._isFirstShowName=!0,this.nameUI&&!this.nameUI.parent&&this._sceneRoot.nameLayer.addChild(this.nameUI),this.updateNamePos())}hideName(){this.nameUI&&this.nameUI.removeSelf()}updateNamePos(){this.nameUI&&(this.isInScreen(this.transform.position)?(this.nameUI.visible=!0,this.nameUI.x=di.temp.x,this.nameUI.y=di.temp.y):this.nameUI.visible=!1)}isInScreen(e){if(this.playerScript.isDied)return!1;let t=this._sceneRoot.camera;if(t.viewport.project(e,t.projectionViewMatrix,this.tempV4),di.temp.x=this.tempV4.x,di.temp.y=this.tempV4.y,di.temp.x=di.temp.x/Laya.stage.clientScaleX,this._isRobot){let e=t.transform.position.z-this.owner.transform.position.z,i=(t.transform.position.x,this.owner.transform.position.x,Math.abs(e)/Math.abs(this._sceneRoot.cameraDiffZ));i<1&&(i=0),di.temp.y=di.temp.y/Laya.stage.clientScaleY-12*i}else di.temp.y=di.temp.y/Laya.stage.clientScaleY;return di.temp.x>30&&di.temp.x<Laya.stage.width-30&&di.temp.y>120&&di.temp.y<Laya.stage.height}onUpdate(){this.playerScript.isDied||this.updateNamePos()}get playerScript(){return this._playerScript||(this._isRobot?(this._playerScript=this.owner.addComponent(Ai),this._playerScript.init(this._sceneRoot,this)):(this._playerScript=this.owner.addComponent(_i),this._playerScript.init(this._sceneRoot,this,this._tral))),this._playerScript}getBoxCollider(){if(!this._boxCollider){let e=this.owner.addComponent(Laya.CharacterController),t=new Laya.CapsuleColliderShape(.05,.2);t.localOffset=new Laya.Vector3(0,0,0),e.colliderShape=t,e.collisionGroup=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1,e.fallSpeed=.2,e.maxSlope=.01,this._boxCollider=e,e.gravity=di.resetV(e.gravity),this.gravity=e.gravity.clone()}return this._boxCollider}setFallSpeed(e=.5){let t=this.getBoxCollider();t&&(t.fallSpeed=.2)}set boxColliderEnable(e){if(e){let e=this.getBoxCollider();e&&e.owner&&(e.collisionGroup=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1)}else this._boxCollider&&(this._boxCollider.collisionGroup=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER3)}clear(){super.clear(),this._isFirstShowName=!1,this.hideName()}reset(){this._isFirstShowName=!1,this.owner&&(this.owner.transform.position=di.copyV1ToV2(this.posInitV,this.owner.transform.position),this.owner.transform.rotation=this.rotationInit.clone()),this._playerScript&&this._playerScript.reset()}relive(e){this._isFirstShowName=!1,this._playerScript&&this._playerScript.reset(!1,e),this.owner&&(this.owner.transform.position=di.resetV(this.owner.transform.position,this.posInitV.x,this.posInitV.y,this.owner.transform.position.z),this.owner.transform.rotation=this.rotationInit.clone())}}class bi extends Laya.Script{constructor(){super(),this._groundChaZ=0,this._groundStartZ=0,this._lastGroundPosZ=0,this._curGroundLevel=0,this._nextMoveGroundIdx=0,this._groundWidth=0,this._curGuan=0,this._curPlayGroundIdx=0,this._guanqiaPools=[],this._groundPools=[]}onEnable(){}onDisable(){}init(e,t,i,n){this._sceneRoot=e,this._groundParent=t,this._groundCopyArr=i,this._guanQiaTems=n,this._groundStartZ=-.2,this._guanQiaArr=[],this._addV=new di,this._sizeV=new Laya.Vector3,this._groundArr=[],this._jumpArrows=[],this._speedEffects=[];for(let e=0;e<bi.MAX_GROUND;e++)this._guanQiaArr.push([]);this.updateGuanQias()}reset(){this.updateGuanQias()}updateGuanQias(){this._curGuan=0;let e=!1,t=!1;this._nextMoveGroundIdx=0;for(let i=0;i<bi.MAX_GROUND;i++)this._jumpArrows[i]=null,this._speedEffects[i]=null,0==i?this.addGuanQias(!1,!0):this.addGuanQias(),e||(e=this.updateJumpArrowPos(i)),t||(t=this.updateSpeedEffectPos(i));this._curGroundLevel=0,this._curPlayGroundIdx=0}updateGround(e){this._curGroundLevel!=e&&(console.log("===========updateGround",this._curGroundLevel,e),this._curGroundLevel=e,this.addGuanQias(),e>=0&&this._jumpArrows[e]&&(this._sceneRoot.removeJumpArrowEffect(),this._jumpArrows[e]=null),this.updateJumpArrowPos(e+1>=bi.MAX_GROUND?0:e+1),this.updateSpeedEffectPos(e))}playGround(e){if(this._curPlayGroundIdx==e)return;this._curPlayGroundIdx=e;let t=this._guanQiaArr[e],i=t?t.length:0;console.log("====playGround",e,i);for(let e=0;e<i;e++){let i=t[e];if(!i||8==i.type||i.isPlaying)continue;let n=i.delayPlay,a=i.playTimeLen,o=i.playTimeXunHuan;i.isPlaying=!0,n>0?Laya.timer.once(n,this,()=>{i&&i.guanqiaScript&&i.guanqiaScript.play(a,o)}):i.guanqiaScript&&i.guanqiaScript.play(a,o)}}updateJumpArrowPos(e){if(e>=0){let t=this._jumpArrows[e];t?this._sceneRoot.addJumpArrowEffect(t.transform.position,t.parent,e,t.transform.localScaleX):this._sceneRoot.removeJumpArrowEffect()}return this._sceneRoot.addJumpArrowIdx>=0}updateSpeedEffectPos(e){let t=e;if(t>=0){let e=this._speedEffects[t];e?this._sceneRoot.addSpeedEffect(e.transform.position,e.parent,t):this._sceneRoot.removeSpeedEffect()}return this._sceneRoot.addSpeedIdx>=0}addGuanQias(e=!0,t=!1){let i=this._nextMoveGroundIdx,n=this._guanQiaArr[i];if(n){let e=n.length;for(let t=0;t<e;t++){let e=n[t];e&&this.setGuanQiaPool(e)}n.length=0,this._jumpArrows[i]=null,this._speedEffects[i]=null}let a=this._curGuan>=gi.GuanQiaSetTable.length?gi.GuanQiaSetTable.length-1:this._curGuan,o=gi.GuanQiaSetTable[a],s=o[2],r=o[3],l=o[1],h=o[5],d=this._groundArr[i],c=d?parseInt(d.name.replace("ground0","")):0;c!=h&&(this.setGroundPool(d),(d=this.getGroundPool(h)).index=i,this._groundArr[i]=d,this._groundParent.addChild(d)),console.log("==========Ground",h,c,i),this._groundWidth=d.meshRenderer.bounds.getExtent().z;let p=d.transform.localPosition;p.z=e?this._lastGroundPosZ+bi.GROUND_CHAZ+this._groundWidth:this._groundStartZ,d.transform.localPosition=p,this._lastGroundPosZ=d.transform.localPosition.z+this._groundWidth,this._nextMoveGroundIdx++,this._nextMoveGroundIdx>=bi.MAX_GROUND&&(this._nextMoveGroundIdx=0);let g=e?-2.9:-2,m=2.9;2==h?(g=-2.6,m=2.6):3==h&&(g=-2.3,m=2.3);let u=l.length,y=-999,w=p.z+g,f=p.z+this._groundWidth;for(let e=0;e<s;e++){let e=l[gi.RandomInt(0,u-1)],a=gi.ModelsTable[e],o=a[5],s=1e3*a[4],h=1e3*a[3],d=p.x-gi.RandomNum(a[1][0],a[2][0])/50,c=p.y+gi.RandomNum(a[1][1],a[2][1])/50,g=0;for(let e=0;e<o.length;e++){let a=o[e],r=a[0];if(13==r&&this._speedEffects[i])continue;let l=this.getGuanqia(r),p=a[1];l.posV.x=d+p[0]*l.size.x-l.size.x/2,l.posV.y=c+p[1]*l.size.y;let m=gi.GuanQiaModelTable[r-1][3];if(l.controlType==gi.CONTOR_TYPE_UP?l.posV.y-=l.size.y/2*1.4+m:l.posV.y+=l.size.y+m,l.posV.z=w+p[2]*l.size.z+l.size.z,l.posV.z+l.size.z/2-f>0)continue;l.posV.z>y&&(y=l.posV.z),l.owner.transform.localPosition=l.posV;let u=1e3*a[2];if(l.delayPlay=u,l.playTimeLen=s,l.playTimeXunHuan=h,8!=r&&t&&(l.isPlaying=!0,u>0?Laya.timer.once(u,this,()=>{l&&l.guanqiaScript&&l.guanqiaScript.play(s,h)}):l.guanqiaScript&&l.guanqiaScript.play(s,h)),y>=f)break;this._groundParent.addChild(l.owner),n.push(l),13==r?(g=2,this._speedEffects[i]=l.owner):17==r?g=5:22==r||23==r?g=5:6==r?g=5:9==r?g=5:14!=r&&7!=r||(g=5)}if((w=y+=(r+g)/10)>=f)break}let v=o[4];if(v>=0&&e){0==v&&(v=gi.BridgeRateTable[gi.RandomInt(0,gi.BridgeRateTable.length-1)]);let e=gi.BridgeTable[v-1][1],t=e.length,a=p.z-this._groundWidth-bi.GROUND_CHAZ;for(let o=0;o<t;o++){let t=e[o],s=this.getGuanqia(t);if(d.parent.addChild(s.owner),n.push(s),1==s.type){this._jumpArrows[i]=s.owner,a-=.01,s.owner.transform.localScaleX=1;let e=i-1;e<0&&(e=bi.MAX_GROUND-1);let t=this._groundArr[e].meshRenderer.bounds.getExtent(),n=s.owner.meshRenderer.bounds.getExtent(),o=t.x/n.x;o>1&&(o=1),s.owner.transform.localScaleX=o}s.isPlaying=!0,s.guanqiaScript&&s.guanqiaScript.play();let r=gi.GuanQiaModelTable[t-1][3];s.posV.x=s.posInitV.x,s.posV.y=s.posInitV.y+r,s.posV.z=a+s.size.z/2,a+=s.size.z,s.owner.transform.localPosition=s.posV}}this._guanQiaArr[i]=n,this._curGuan++}getGuanqia(e){return this.getGuanQiaPool(e)}removeGuanqia(e){e&&(e.clear(),this.setGuanQiaPool(e))}getGuanQiaSize(e){let t=e-1;t<0&&(t=0);let i,n=this._guanQiaTems[t];if(n.meshRenderer)i=n.meshRenderer.bounds;else if(n.numChildren){let e=n.getChildAt(0);e&&e.meshRenderer&&(i=e.meshRenderer.bounds)}if(i){let e=i.getExtent();di.resetV(this._sizeV,2*e.x,2*e.y,2*e.z)}else di.resetV(this._sizeV);return this._sizeV}isNearBlock(e,t){e||(e=0);let i=this._guanQiaArr[e],n=i.length;for(let e=0;e<n;e++){let n=i[e];if(n&&n.transform&&13!=n.type&&(gi.getDistance(n.transform.position.x,n.transform.position.z,t.transform.position.x,t.transform.position.z)<=.04&&n.transform.position.z>t.transform.position.z))return!0}return!1}getGuanQiaPool(e){let t=e-1;t<0&&(t=0);let i,n=this._guanqiaPools[t];return n&&n.length?i=n.shift():((i=new Ii).init(this._sceneRoot,this._guanQiaTems[t].clone()),i.type=e),i.boxColliderEnable=!0,i}setGuanQiaPool(e){if(!e)return;let t=e.type-1;t<0&&(t=0);let i=this._guanqiaPools[t];i||(i=[]),e.clear(),i.push(e),this._guanqiaPools[t]=i}getGroundPool(e){(e-=1)<0&&(e=0);let t,i=this._groundPools[e];if(i&&i.length)t=i.shift();else{let i=(t=this._groundCopyArr[e].clone()).getComponent(Laya.PhysicsCollider);i&&(i.collisionGroup=Laya.Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER10)}return t}setGroundPool(e){if(!e)return;let t=parseInt(e.name.replace("ground0",""));(t-=1)<0&&(t=0);let i=this._groundPools[t];i||(i=[]),e.removeSelf(),i.push(e),this._groundPools[t]=i}}bi.GROUND_CHAZ=.63,bi.MAX_GROUND=3;class Li{constructor(e,t,i){this._needCount=2,this._isStart=!1,this._nextUpdateTime=0,this._robotPools=[],this._sceneRoot=e,this._playerCopy=t,this._playerParent=i,this._robotList=[],this._robotPosXs=[-.09,.09,-.05,.05,-.15,.15,-.12,.12],this._curPos=new Laya.Vector3}get robotList(){return this._robotList}addRobots(){for(this._isStart=!1;this._robotList.length;)this.setRobotPool(this._robotList[0]);for(let e=0;e<this._needCount;e++)this.addRobotSingel(this._robotPosXs[e],e+1)}addRobotSingel(e=0,t){let i=0,n=!1,a=this.getRobotPool(t);t?a.robotType=t:(t=a.robotType,i=-gi.RandomNum(.07,.12),n=!0,a.showName()),!a.owner.parent&&this._playerParent.addChild(a.owner);let o=a.transform.position;o.x=e+a.posInitV.x,o.z=i+this._sceneRoot.mainPlayer.transform.position.z,a.transform.position=o,a.boxColliderEnable=!0;var s=gi.RandomInt(0,100),r=s.toString();s<10?r="00"+r:s<100&&(r="0"+r),a.setPlayerInfo(this.getRobotName(t),"head/head_"+r+".jpg"),this._robotList.push(a),n&&!a.playerScript.isRuning&&(a.playerScript.isRuning=!0)}getRobotName(e){return e?1==e?gi.ROBOT_NAMES_BOY[gi.RandomInt(0,gi.ROBOT_NAMES_BOY.length-1)]:gi.ROBOT_NAMES_GIRL[gi.RandomInt(0,gi.ROBOT_NAMES_GIRL.length-1)]:"未知"}startRun(){if(this._isStart)return;this._isStart=!0;let e=this._robotList.length;for(let t=0;t<e;t++){let e=this._robotList[t];e&&(e.playerScript.isRuning=!0,e.showName())}}onUpdate(){let e=Laya.timer.currTimer;if(e>=this._nextUpdateTime){let t=this._needCount-this._robotList.length;t=t<0?0:t,t=this._sceneRoot.isMainPlayerDied||this._sceneRoot.mainPlayer.playerScript.isJumping?0:t;this._robotPosXs.length;for(let e=0;e<t;e++)this.addRobotSingel(this._robotPosXs[gi.RandomInt(0,this._robotPosXs.length-1)]);this._nextUpdateTime=e+1e3}let t=this._robotList.length,i=this._sceneRoot.mainPlayer.transform.position,n=this._sceneRoot.mainPlayer.playerScript;for(let e=0;e<t;e++){let t=this._robotList[e];if(t&&(t.onUpdate(),this._isStart&&t.playerScript instanceof Ai)){t.playerScript.moveAI();let a=t.transform.position,o=gi.getDistance(i.x,i.z,a.x,a.z);if(o<=.05&&Math.abs(i.y-a.y)<=.03){let e=i.z-a.z,o=i.x-a.x;e>0&&e<=.04?n.isRuning&&(o<0&&n.runVec3.x>0||o>0&&n.runVec3.x<0)?t.playerScript.beiTuiDao(this._sceneRoot.mainPlayer):n.beiTuiDao(t):e<0&&e>=-.04&&t.playerScript.beiTuiDao(this._sceneRoot.mainPlayer)}else o>8&&(this.setRobotPool(t),--e<0&&(e=0))}}}getRobotPool(e){let t;if(this._robotPools&&this._robotPools.length)(t=this._robotPools.shift()).reset();else{t=new Si;let e=this._playerCopy.clone();e.removeChildByName("shadow"),t.init(this._sceneRoot,e,!0)}return t.changeMaterial(e||gi.RandomInt(1,gi.PLAYER_COLORS.length-1)),t}setRobotPool(e){if(!e)return;console.log("======setRobotPool"),this._robotPools||(this._robotPools=[]),e.clear(),this._robotPools.push(e);let t=this._robotList.indexOf(e);t>=0&&this._robotList.splice(t,1)}}class xi{static init(e){}}xi.advInited=!0,xi.user={openid:"1",token:"2.0xxxxx",timestamp:"1510001111",sign:"xxxxxxxxxxxx",avatarUrl:"comp/head.jpg",nickname:"me"};class Mi extends Laya.Script{constructor(e){super(),this._smart=.7,this._isLock=!1,this.groundY=0,this.cameraDiffZ=0,this.addSpeedIdx=-1,this.addJumpArrowIdx=-1,this._isMouseDown=!1,this._targetx=0,this._targety=0,this._mainStage=e}get scene(){return this._scene}get mainPlayer(){return this._mainPlayer}get sky(){return this._sky}get seaArr(){return this._seaArr}get groundArr(){return this._groundArr}get guanqiaArr(){return this._guanqiaArr}get groundMgr(){return this._groundMgr}get robotMgr(){return this._robotMgr}get nameLayer(){return this._nameLayer}get mainStage(){return this._mainStage}onEnable(){this.enterScene()}onDisable(){}get isMainPlayerDied(){return this._mainPlayer&&this._mainPlayer.playerScript&&this._mainPlayer.playerScript.isDied}enterScene(e=!1){Laya.timer.clearAll(this),this._isLock=e,this._scene?this.isMainPlayerDied&&this.initScene():this.on3DComplete(Laya.Loader.getRes(Mi.SCENE_3D))}on3DComplete(e){console.log("===========load3d complete"),this._scene=e,Laya.stage.addChildAt(e,0),e.enableFog=!0,e.fogColor=new Laya.Vector3(1,1.2,1.2),e.fogStart=3,e.fogRange=10,this._nameLayer=new Laya.Sprite,Laya.stage.addChild(this._nameLayer),this.initScene()}relive(e=3e3){this.isMainPlayerDied&&(console.log("=====复活========"),this.mainPlayer&&this.mainPlayer.relive(e),this._cameraMove&&this._cameraMove.reset())}playerScore(){let e=this._mainPlayer?this._mainPlayer.playerScript:null;return e?e.score:0}initScene(){if(console.log("init 3dScene"),this._scene){if(this.camera||(this.camera=this._scene.getChildByName("Main Camera")),this._mainPlayer)this._mainPlayer.reset();else{let e=this._scene.getChildByName("wanjia");this._playerClone=e.clone(),this._mainPlayer=new Si,this._mainPlayer.init(this,e,!1,this._scene.getChildByName("tral")),this._mainPlayer.boxColliderEnable=!0}if(this._mainPlayer.setPlayerInfo(xi.user.nickname,xi.user.avatarUrl),this._robotMgr||(this._robotMgr=new Li(this,this._playerClone,this._scene)),this._robotMgr.addRobots(),this._cameraMove)this._cameraMove.reset();else{this._sky=this._scene.getChildByName("sky01"),this.seaParent=this._scene.getChildByName("sea"),this._seaArr=[];for(let e=1;e<=3;e++)this._seaArr.push(this.seaParent.getChildByName("sea0"+e.toString()));this._cameraMove=this.camera.addComponent(ci),this._cameraMove.init(this,this.camera),this.cameraDiffZ=this.camera.transform.position.z-this._mainPlayer.owner.transform.position.z}if(this._jumpArrowEffect||(this._jumpArrowEffect=this._scene.getChildByName("jump")),this.removeJumpArrowEffect(),this._jumpEffect||(this._jumpEffect=this._scene.getChildByName("effect_jump")),this.removeJumpEffect(),!this._waterEffects){let e=this._scene.getChildByName("effect_water");this._waterEffectParent=e,this._waterEffects=[];let t=e.getChildByName("shuizhu");this._waterEffects.push(t);let i=e.getChildByName("lianyi");this._waterEffects.push(i);let n=e.getChildByName("zhuti");this._waterEffects.push(n)}if(this.playWaterEffect(null),this._speedEffect||(this._speedEffect=this._scene.getChildByName("effect_speed")),this.removeSpeedEffect(),this._groundArr)this._groundMgr&&this._groundMgr.reset();else{let e=this._scene.getChildByName("ground");this._groundArr=[];for(let t=1;t<=3;t++){let i=e.getChildByName("ground0"+t.toString());this.groundY=i.transform.localPosition.y,this._groundArr.push(i),i.removeSelf()}this._guanqiaArr=[];for(let t=1;t<=21;t++){let i=e.getChildByName("guanqia"+t.toString());i&&(this._guanqiaArr.push(i),i.removeSelf())}let t=this._guanqiaArr[5].clone();t.transform.localRotationEulerY=90;let i=t.transform.position;i.x=6.4,t.transform.position=i,this._guanqiaArr.push(t);let n=this._guanqiaArr[5].clone();n.transform.localRotationEulerY=-90;let a=n.transform.position;a.x=7,n.transform.position=a,this._guanqiaArr.push(n),this._groundMgr=new bi,this._groundMgr.init(this,e,this._groundArr,this._guanqiaArr)}}}addSpeedEffect(e,t,i){e&&this._speedEffect&&t&&(di.resetV(di.temp1,0,0,-.33),this.addSpeedIdx>=0?this.addSpeedIdx!=i&&(this.addSpeedIdx=i,this._speedEffect.parent!=t&&(this._speedEffect.removeSelf(),t.addChild(this._speedEffect)),this._speedEffect.transform.position=di.addV(e,di.temp1,this._speedEffect.transform.position)):(!this._speedEffect.parent&&t.addChild(this._speedEffect),this._speedEffect.transform.position=di.addV(e,di.temp1,this._speedEffect.transform.position),this._speedEffect.particleSystem.play(),this.addSpeedIdx=i))}removeSpeedEffect(){this._speedEffect&&(this._speedEffect.particleSystem&&this._speedEffect.particleSystem.stop(),this._speedEffect.removeSelf()),this.addSpeedIdx=-1}addJumpArrowEffect(e,t,i,n=1){if(!e||!this._jumpArrowEffect||!t)return;if(this.addJumpArrowIdx>=0)return void(this.addJumpArrowIdx!=i&&(this.addJumpArrowIdx=i,this._jumpArrowEffect.parent!=t&&(this._jumpArrowEffect.removeSelf(),t.addChild(this._jumpArrowEffect)),this._jumpArrowEffect.transform.position=di.copyV1ToV2(e,this._jumpArrowEffect.transform.position)));!this._jumpArrowEffect.parent&&t.addChild(this._jumpArrowEffect),this._jumpArrowEffect.transform.position=di.copyV1ToV2(e,this._jumpArrowEffect.transform.position),this._jumpArrowEffect.particleSystem.play();let a=this._jumpArrowEffect.getChildByName("glow");a&&a.particleSystem&&a.particleSystem.play(),this.addJumpArrowIdx=i}removeJumpArrowEffect(){if(this._jumpArrowEffect){this._jumpArrowEffect.particleSystem&&this._jumpArrowEffect.particleSystem.stop();let e=this._jumpArrowEffect.getChildByName("glow");e&&e.particleSystem&&e.particleSystem.stop(),this._jumpArrowEffect.removeSelf()}this.addJumpArrowIdx=-1}addJumpEffect(e){e&&this._jumpEffect&&(!this._jumpEffect.parent&&this._scene.addChild(this._jumpEffect),this._jumpEffect.transform.position=di.copyV1ToV2(e,this._jumpEffect.transform.position),this._jumpEffect.particleSystem.play(),Laya.timer.once(1500,this,this.removeJumpEffect))}removeJumpEffect(){this._jumpEffect&&(this._jumpEffect.particleSystem&&this._jumpEffect.particleSystem.stop(),this._jumpEffect.removeSelf())}playWaterEffect(e){if(!this._waterEffects||!this._waterEffectParent)return;let t,i=!0,n=!1;e?(t=e.transform.position,n=e.isRobot):i=!1,i?(Laya.timer.clear(this,this.removeWaterEffect),di.resetV(di.temp1,0,.07,0),!this._waterEffectParent.parent&&this._scene.addChild(this._waterEffectParent),this._waterEffectParent.transform.position=di.addV(t,di.temp1,this._waterEffectParent.transform.position),this._waterEffectParent.particleSystem.play(),Laya.timer.once(3e3,this,this.removeWaterEffect),Laya.timer.once(1e3,this,()=>{n?this._robotMgr&&this._robotMgr.setRobotPool(e):this._mainStage&&this._mainStage.showAgain()})):(this._waterEffectParent.particleSystem.stop(),this._waterEffectParent.removeSelf());let a=this._waterEffects.length;for(let e=0;e<a;e++){let t=this._waterEffects[e];t&&(i?t.particleSystem.play():t.particleSystem.stop())}}removeWaterEffect(){this.playWaterEffect(null)}onUpdate(){super.onUpdate();let e=this._mainPlayer?this._mainPlayer.playerScript:null;e&&(this._mainPlayer.onUpdate(),e.onUpdate(),this._cameraMove&&this._cameraMove.onUpdate(),this._mainStage.updateScore(e.score),!e.isDied&&this._robotMgr&&this._robotMgr.onUpdate())}onMouseDown(e){this.isMainPlayerDied||(this._oldPos||(this._oldPos=new Laya.Vector3),this._curPos||(this._curPos=new Laya.Vector3),this._oldPos.x=Laya.stage.mouseX,this._oldPos.z=Laya.stage.mouseY,super.onMouseDown(e),this._mainPlayer&&(this._mainPlayer.playerScript.isRuning=!0,this._mainPlayer.showName()),this._isMouseDown=!0,this._robotMgr&&this._robotMgr.startRun())}onMouseUp(e){super.onMouseUp(e),this._mainPlayer&&(this._mainPlayer.playerScript.preRunStatus=!1,this._mainPlayer.playerScript.isRuning=!1),this._isMouseDown=!1}onMouseMove(e){this._isMouseDown&&!this.isMainPlayerDied&&(this._targetx=Laya.stage.mouseX,this._targety=Laya.stage.mouseY,this._targetx>this._oldPos.x?this._targetx=this._oldPos.x+(this._targetx-this._oldPos.x)*this._smart:this._targetx<this._oldPos.x&&(this._targetx=this._oldPos.x-(this._oldPos.x-this._targetx)*this._smart),this._targety>this._oldPos.y?this._targety=this._oldPos.y+(this._targety-this._oldPos.y)*this._smart:this._targety<this._oldPos.y&&(this._targety=this._oldPos.y-(this._oldPos.y-this._targety)*this._smart),this._curPos.x=this._targetx,this._curPos.z=this._targety,Laya.Vector3.subtract(this._oldPos,this._curPos,this._curPos),0!=this._curPos.x||0!=this._curPos.z?this._mainPlayer&&this._mainPlayer.playerScript&&this._mainPlayer.playerScript.setMoveOri(this._curPos):console.log("====不转向？",this._oldPos,this._curPos))}}Mi.SCENE_3D="LayaScene_runrun/Conventional/runrun.ls";class ki extends e.HudUI{constructor(){super(),this.mainScene="MainStage.scene",this.preloadCount=0,this.subPackName=["head","LayaScene_runrun","bgm"],this.subPackNameOV=["head"],this.curValue=0;var e=this.getChildAt(0);this.height=e.height=Laya.stage.height,xi.init(()=>{}),console.log("=======================================================广告服务状态：",xi.advInited),Laya.Browser.onVVMiniGame&&(this.img_logo.visible=!1),Laya.Browser.onMiniGame||Laya.Browser.onVVMiniGame?(Laya.Browser.onQGMiniGame&&this.subPackNameOV&&this.subPackNameOV.length>0&&(this.subPackName=this.subPackNameOV),this.loadSubPackage()):this.loadRes()}onClosed(e){Laya.timer.clearAll(this),super.onClosed(e)}loadRes(){Laya.loader.load(["res/atlas/rank.atlas","res/atlas/comp.atlas","res/atlas/rewan.atlas"],Laya.Handler.create(null,()=>{console.log("图片加载完成："+Mi.SCENE_3D),Laya.loader.create(Mi.SCENE_3D,Laya.Handler.create(this,e=>{console.log("场景加载完毕！",e),Laya.Scene.open(this.mainScene)}),Laya.Handler.create(this,e=>{console.log("场景加载进度：",e),this.progressBar.value=e,this.lblValue.text="加载中:"+(100*e).toFixed(2)}))}))}loadAsynSubPackage(e){let t;console.log("loadAsynSubPackage:"+e),t=Laya.Browser.onQGMiniGame||Laya.Browser.onVVMiniGame?qg:wx;let i=this;t.loadSubpackage({name:e,success:function(e){i.preloadCount==i.subPackName.length-1?(console.error("load"),Laya.timer.clear(i,i.animPro),i.curValue=100,i.animPro(),i.loadRes()):(i.preloadCount++,i.loadAsynSubPackage(i.subPackName[i.preloadCount]))},fail:function(t){i.loadAsynSubPackage(e)}}).onProgressUpdate(e=>{console.log("下载进度",e.progress),console.log("下载进度",e.progress/100),console.log("已经下载的数据长度",e.totalBytesWritten),console.log("预期需要下载的数据总长度",e.totalBytesExpectedToWrite)})}loadSubPackage(){this.preloadCount=0,this.loadAsynSubPackage(this.subPackName[this.preloadCount]),Laya.timer.frameLoop(10,this,this.animPro)}animPro(){this.curValue>100&&(this.curValue=0),this.lblValue.text="加载中..."+(100*this.progressBar.value).toFixed(0)+"%",this.progressBar.value=this.curValue/100,this.curValue+=2}}var Ci=e.RankUI;class Ei extends Ci{constructor(){super(),this.btnFriend.on(Laya.Event.CLICK,this,this.onFriend),this.btnWorld.on(Laya.Event.CLICK,this,this.onWorld),this.btnHome.on(Laya.Event.CLICK,this,this.onHome),this.btnWorld.visible=!1}showCross(){this.btnFriend.visible=this.btnHome.visible=!1,this.mouseThrough=!0}showTalk(){this.btnFriend.visible=this.btnHome.visible=!1,this.mouseThrough=!0}showRank(){this.btnFriend.visible=this.btnHome.visible=!0,this.mouseThrough=!1}onFriend(){}onWorld(){}postForce(e){}onHome(){this.close()}}var Ni,Vi,Ti=e.ReliveViewUI;class Di extends Ti{constructor(e,t,i){super(),this._time=8,this._t=0,this.isBanner=!0,this.vvShowAd=!1,this._normalRelive=e,this._advRelive=t,this._caller=i,this.lblTime.value="8",this.height=Laya.stage.height,this.btnAdv.on(Laya.Event.CLICK,this,this.onAdv)}onOpened(e){if(this.isBanner=!0,this.lblTime.value="8",this._time=8,this.startTime(),Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame){this.imgGame.visible=!1;let e=Ye.I.getAdSwitchByPosition(I.RESULTS_MIDDLE_AD);if(null==e||0==e.state)this.ov_native.visible=!1;else{this.ov_native.visible=!0;let e=this.ov_native.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_NATIVE,g.IMG,e):Xe.I.createNativeAd(c.AD_GAME_NATIVE,g.IMG,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG):Xe.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG)}),this.btn_close.on(Laya.Event.CLICK,this,()=>{this.ov_native.visible=!1})}if(null==(e=Ye.I.getAdSwitchByPosition(I.RESULTS_RIGHT_AD))||0==e.state)this.isBanner=!1,this.ov_native2.visible=!1;else{this.ov_native2.visible=!0;let e=this.ov_native2.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e):Xe.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON):Xe.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON)}),this.ov_native_close.on(Laya.Event.CLICK,this,()=>{this.ov_native2.visible=!1})}}else if(Laya.Browser.onMiniGame){this.ov_native.visible=!1,this.ov_native2.visible=!1;let e=Ye.I.getMatrixByPosition(U.BOX_AD);if(null==e||e.length<=0)this.imgGame.visible=!1;else{this.imgGame.visible=!0;let t=[];for(const i of e)t.push(i.tgamekey);this.list.vScrollBarSkin="",this.list.elasticEnabled=!1,this.list.scrollBar.rollRatio=0,this.list.renderHandler=new Laya.Handler(this,this.onRenderItem),this.list.array=e,this.list.setAutoScroll(1,1,500),Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_SHOW,t.join(","),U.BOX_AD)}let t=Ye.I.getAdSwitchByPosition(F.RESULT_RIGHT_AD);null!=t&&1==t.state&&ze.I.showCustom(p.AD_CUSTOM_SINGLE_RIFHT2,t.topMargin,t.leftMargin,this,null)}this.isBanner&&(j.log("ReLiveView-showBannerAd"),ai.I.showBannerAd(i.AD_BANNER_1))}onRenderItem(e,t){let i=e.dataSource;e.getChildByName("img_icon").skin=i.icon,e.off(Laya.Event.CLICK,this,this.openGame),e.on(Laya.Event.CLICK,this,this.openGame,[i])}openGame(e){let t=window.wx;Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_CLIK,e.tgamekey,U.BOX_AD,e.index),t.navigateToMiniProgram({appId:e.appid,path:e.path,success:function(t){Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_ACT,e.tgamekey,U.BOX_AD,e.index)},fail:function(e){}})}startTime(){clearInterval(this._t),this._t=setInterval(()=>{this.onTimer()},1e3)}onAdv(e){!Laya.Render.isConchApp||ai.I.getVideoAd(0)?(clearInterval(this._t),ai.I.showVideoAd(t.AD_VIDEO_LEVEL,this,this.onADClose)):ai.I.getVideoAd(0)}onADClose(e){e?(this._advRelive.call(this._caller),this.close(),Oe.I.statisticsReport(m.LV_RELIVE,1),ai.I.showBannerAd(i.AD_BANNER_1)):this.startTime()}onTimer(){this._time<=0&&this._normalRelive?this._normalRelive.call(this._caller):(this.lblTime.value=this._time.toString(),this._time--)}onClosed(){if(clearInterval(this._t),this.timer.clearAll(this),this.isBanner&&(j.log("ReLiveView-hideBannerAd"),ai.I.hideBannerAd(i.AD_BANNER_1)),Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.RESULT_RIGHT_AD);null!=e&&1==e.state&&ze.I.hideCustom(p.AD_CUSTOM_SINGLE_RIFHT2)}}}class Bi extends e.GuideViewUI{constructor(){super(),this.height=Laya.stage.height}onOpened(e){if(this.ov_native.visible=!1,Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(r.AD_CUSTOM_GUIDE);null!=e&&1==e.state&&ze.I.showCustom(r.AD_CUSTOM_GUIDE,e.topMargin,e.leftMargin)}else if(Laya.Browser.onQGMiniGame||Laya.Browser.onVVMiniGame){let e=Ye.I.getAdSwitchByPosition(I.GUIDE_RIGHT_AD);if(null==e||0==e.state)this.ov_native.visible=!1;else{this.ov_native.visible=!0;let e=this.ov_native.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e):Xe.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON):Xe.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON)}),this.ov_native_close.on(Laya.Event.CLICK,this,()=>{this.ov_native.visible=!1})}}j.log("GuideView-showBannerAd"),ai.I.showBannerAd(i.AD_BANNER_1)}onClosed(){if(Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(r.AD_CUSTOM_GUIDE);null!=e&&1==e.state&&ze.I.hideCustom(r.AD_CUSTOM_GUIDE)}j.log("GuideView-hideBannerAd"),ai.I.hideBannerAd(i.AD_BANNER_1),this.timer.clearAll(this),super.onClosed()}}class Gi extends Laya.Script{init(e){this._sceneRoot=e,this.againView=new oi,this.beginView=new hi,st.instance.getLayer(w.Normal).addChild(hi.manager),this.guideView=new Bi,this.reliveView=new Di(this.onRestart,this.onAdvRelive,this),this.rankView=new Ei,this.beginView.on(Laya.Event.CLICK,this,this.onBegin),this.reliveView.btnHome.on(Laya.Event.CLICK,this,this.onRestart),this.beginView.show(!1,!1)}onRestart(){if(ai.I.showInterstitialAd(a.AD_INTERSTITIAL_LEVEL,this,null),Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame){let e=Ye.I.getAdSwitchByPosition(I.RESULTS_MIDDLE_AD),t=!1;if(null!=e&&1==e.state&&e.pv>0){W.random(0,100)<=e.pv&&(t=Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG):Xe.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG))}if(!t&&null!=(e=Ye.I.getAdSwitchByPosition(I.RESULTS_RIGHT_AD))&&1==e.state&&e.pv>0){W.random(0,100)<=e.pv&&(Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON):Xe.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON))}}this.reliveView.close(),this.rankView.close(),this.againView.show(!0,!1),Oe.I.statisticsReport(m.LV_END2,1,0,this._sceneRoot.playerScore())}onAdvRelive(){this._sceneRoot.relive()}onBegin(e){if(!(e.target instanceof Laya.List)&&!(e.target instanceof Laya.Button)&&(this.beginView.close(),this.guideView.show(!0,!1),Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame)){let e=Ye.I.getAdSwitchByPosition(I.MAIN_RIGHT_AD);if(null!=e&&1==e.state&&e.pv>0){W.random(0,100)<=e.pv&&(Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON):Xe.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON))}}}onHome(){this.againView.close(),this.beginView.show(!0,!1)}onRank(){Laya.Browser.onMiniGame&&(this.rankView.parent?this.rankView.close():(this.rankView.popup(!1,!0),this.rankView.showRank()))}}class Pi extends Laya.Script{constructor(){super(),this.soundStatus=!0,this.shakeStatus=!0,this.oldScore=0,xi.mainStage=this}get sceneRoot(){return this._sceneRoot}get uiRoot(){return this._uiRoot}onEnable(){this._lableScore=this.owner.label_score,this._lableScore.value="",this._boxCross=this.owner.box_cross,this._sceneRoot=new Mi(this),this._sceneRoot.enterScene(),this._uiRoot=new Gi,this._uiRoot.init(this._sceneRoot),this._uiRoot.beginView.btnShake.on(Laya.Event.MOUSE_DOWN,this,this.onShake),this._uiRoot.beginView.btnSound.on(Laya.Event.MOUSE_DOWN,this,this.onSound),this._uiRoot.againView.btn_again.on(Laya.Event.MOUSE_DOWN,this,this.onClickAgain),this._uiRoot.guideView.on(Laya.Event.MOUSE_DOWN,this,this.onBegin),this._uiRoot.againView.btnHome.on(Laya.Event.CLICK,this,this.onHome),this.owner.on(Laya.Event.MOUSE_DOWN,this,this.onClick),this.owner.on(Laya.Event.MOUSE_UP,this,this.onClick),this.owner.on(Laya.Event.MOUSE_MOVE,this,this.onClick),this.owner.ov_native.visible=!1}onClick(e){e.type==Laya.Event.MOUSE_DOWN?this._sceneRoot.onMouseDown(e):e.type==Laya.Event.MOUSE_UP||e.type==Laya.Event.MOUSE_OUT?this._sceneRoot.onMouseUp(e):e.type==Laya.Event.MOUSE_MOVE&&this._sceneRoot.onMouseMove(e)}onDisable(){}onShake(){this.shakeStatus=!this.shakeStatus,this._uiRoot.beginView.img_shake.visible=!this.shakeStatus}onSound(){this.soundStatus=!this.soundStatus,this._uiRoot.beginView.img_sound.visible=!this.soundStatus,this.soundStatus?(console.log("不静音"),Laya.SoundManager.musicMuted=!1):Laya.SoundManager.musicMuted=!0}showAgain(){if(Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.BATTLE_AD);null!=e&&1==e.state&&ze.I.hideCustom(p.AD_CUSTOM_SINGLE_LEFT)}else(Laya.Browser.onQGMiniGame||Laya.Browser.onVVMiniGame)&&(this.owner.ov_native.visible=!1);j.log("MainStage-hideBannerAd"),ai.I.hideBannerAd(i.AD_BANNER_1),this._uiRoot.reliveView.popup(!0,!1),this._uiRoot.rankView.show(!1,!1),this._uiRoot.rankView.showCross()}onKeyDown(e){32==e.keyCode&&this._sceneRoot.relive()}updateScore(e){this._lableScore.value=e.toString(),this._lableScore.visible=0!=e;var t=e/100>>0;t>this.oldScore&&(this.oldScore=t)}onBegin(e){if(this._uiRoot.guideView.close(),this.onClick(e),Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.BATTLE_AD);null!=e&&1==e.state&&ze.I.showCustom(p.AD_CUSTOM_SINGLE_LEFT,e.topMargin,e.leftMargin)}else if(Laya.Browser.onQGMiniGame||Laya.Browser.onVVMiniGame){let e=Ye.I.getAdSwitchByPosition(I.BATTLE_LEFT_AD);if(null==e||0==e.state)this.owner.ov_native.visible=!1;else{this.owner.ov_native.visible=!0;let e=this.owner.ov_native.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e):Xe.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON):Xe.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON)}),this.owner.ov_native_close.on(Laya.Event.CLICK,this,()=>{this.owner.ov_native.visible=!1})}}j.log("MainStage-showBannerAd"),ai.I.showBannerAd(i.AD_BANNER_1),Oe.I.statisticsReport(m.LV_START2,1)}onClickAgain(){if(Laya.Browser.onMiniGame){let e=Ye.I.getMatrixByPosition(U.RESULT_HOT_AD),t=Ye.I.getMatrixByPosition(U.RESULT_FRIEND_AD);if(null!=t&&t.length>0||null!=e&&e.length>0){let e={};e.mgoonCaller=this,e.mgoonFunc=this.onAgain,e.adEnum=i.AD_BANNER_1,lt.instance.show(ot.MoonResultsPanel,e)}else this.onAgain()}else Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame?(this.onAgain(),this.checkSkip()):this.onAgain()}onAgain(){var e=this._sceneRoot.mainPlayer.playerScript.score;Laya.Browser.onMiniGame&&this._uiRoot.rankView.postForce(e.toString()),this._sceneRoot.mainPlayer.playerScript.score=0,this.oldScore=0,this._uiRoot.guideView.show(!0,!1),this._sceneRoot.enterScene()}onHome(){this.checkSkip(),this._uiRoot.againView.close(),this._uiRoot.beginView.show(!0,!1),this._sceneRoot.enterScene()}checkSkip(){let e=Ye.I.getAdSwitchByPosition(I.RESULTS_MIDDLE_AD),t=!1;if(null!=e&&1==e.state&&e.pv>0){W.random(0,100)<=e.pv&&(t=Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG):Xe.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG))}if(!t&&null!=(e=Ye.I.getAdSwitchByPosition(I.RESULTS_RIGHT_AD))&&1==e.state&&e.pv>0){W.random(0,100)<=e.pv&&(Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON):Xe.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON))}}onUpdate(){this._sceneRoot.onUpdate()}}class Ri{constructor(){this.handlers=new Array}init(e,t,i,n,a){this.eName=e,this.target=t,this.caller=i,this.func=n,this.target.on(e,this,this.invoke,[t,a])}invoke(e,t){this.func&&this.func.call(this.caller,...t),Z.instance.triggerListener(Ri.TriggerEvent,e)}equals(e){return this.target==e}dispose(){this.target.off(this.eName,this,this.invoke),this.eName=null,this.target=null,this.caller=null,this.func=null}static create(){return Laya.Pool.getItemByClass("ButtonTrigger",Ri)}static recycle(e){Laya.Pool.recover("ButtonTrigger",e)}}Ri.TriggerEvent=9999;class Oi{constructor(){this.assetList=[],this.uiLayer=w.Normal,this.showSound="res/audios/sound/showPanel.mp3",this.hideSound="res/audios/sound/hidePanel.mp3"}get view(){return this.mView}prepare(e,t){this.proxy=e,this.func=t,this.assetList.length>0?Laya.loader.load(this.assetList,Laya.Handler.create(this,this.onPrepareComplete)):(this.onPrepareComplete(!0),j.warn("this panel dont have assetlist,%s",this.mView.name))}onPrepareComplete(e){e?(this.mView=this.createView(),Laya.loader.off(Laya.Event.ERROR,this,this.onPrepareError),this.func.call(this.proxy,!0,this.mView,this.uiLayer)):j.error("onPrepareComplete: but is fail")}onPrepareError(e){j.error("UI OnPrepareError: %s",e),this.assetList.indexOf(e)>=0&&this.func.call(this.proxy,!1)}update(e){}resize(){}initial(){Laya.loader.on(Laya.Event.ERROR,this,this.onPrepareError),this.clicks=new S}start(){}show(e){this.content=this.findChild(this.mView,"content");let t=this.mView.getChildByName("box");this.addClickListener(t,this.closeSelf);let i=this.findChild(this.mView,"content/close");this.addClickListener(i,this.closeSelf),this.showAnimation()}hide(){for(let e of this.clicks.array)e.dispose(),Ri.recycle(e);this.clicks.clear()}end(){}dispose(){if(Laya.loader.off(Laya.Event.ERROR,this,this.onPrepareError),this.mView)for(let e of this.assetList)Laya.loader.clearRes(e)}showAnimation(){this.content&&(this.content.scale(0,0),Laya.Tween.to(this.content,{scaleX:1,scaleY:1},350,Laya.Ease.backOut,Laya.Handler.create(this,this.showAnimationComplete)))}showAnimationComplete(){}showPanel(e,t){lt.instance.show(e,t)}hidePanel(e){lt.instance.hide(e)}destroyPanel(e){lt.instance.destroy(e)}closeSelf(){this.hidePanel(this.proxy.path)}destroySelf(){this.destroyPanel(this.proxy.path)}addClickListener(e,t,i,n){if(!e)return null;let a=Laya.Event.CLICK;n&&(a=n);let o=[];i&&(o=i);let s=Ri.create();return s.init(a,e,this,t,o),this.clicks.add(s),e}setVerticalListAttribute(e){e instanceof Laya.List&&(e.vScrollBarSkin="",e.scrollBar.elasticBackTime=300,e.scrollBar.elasticDistance=120),e instanceof Laya.Panel&&(e.vScrollBarSkin="",e.vScrollBar.elasticBackTime=300,e.vScrollBar.elasticDistance=120)}setHorizontalListAttribute(e){e instanceof Laya.List&&(e.hScrollBarSkin="",e.scrollBar.elasticBackTime=300,e.scrollBar.elasticDistance=120),e instanceof Laya.Panel&&(e.hScrollBarSkin="",e.hScrollBar.elasticBackTime=300,e.hScrollBar.elasticDistance=120)}findChild(e,t){return lt.instance.findChild(e,t)}playSound(e){fe.isNullOrEmpty(e)||Laya.SoundManager.playSound(e)}}class Yi extends Oi{constructor(){super(...arguments),this.assetList=["view/MoonGuideGestureView.json"]}createView(){return new e.view.MoonGuideGestureViewUI}show(e){super.show(e),this.view.size(Laya.stage.width,Laya.stage.height),this.view.Ani_Gesture.play(0,!0)}}class Xi extends Oi{constructor(){super(...arguments),this.animTime=1e3,this.widthOff=20,this.fontWidth=40,this.iconWidth=110,this.assetList=["view/MoonTip.json"]}createView(){return new e.view.MoonTipUI}initial(){super.initial(),this.uiLayer=w.Waiting}show(e){super.show(e),this.view.size(Laya.stage.width,Laya.stage.height),this.view.bg.visible=!0,this.view.bg.y=.5*Laya.stage.height,"string"==typeof e?(this.view.box_txt.visible=!0,this.view.content.text=e,this.view.bg.width=this.view.content.text.length*this.fontWidth+this.widthOff):(this.view.box_icon.visible=!0,this.view.lbl_icon.text=e[0],this.view.img_icon.skin=e[1],this.view.bg.width=this.view.lbl_icon.text.length*this.fontWidth+this.iconWidth),Laya.Tween.to(this.view.bg,{y:.3*Laya.stage.height},this.animTime,Laya.Ease.circOut,Laya.Handler.create(this,this.onMoveFinished))}onMoveFinished(){this.view.box_txt.visible=!1,this.view.box_icon.visible=!1,this.view.bg.width=0,this.closeSelf()}}class Ui extends Oi{constructor(){super(...arguments),this.adEnum=-1,this.showGames=!0,this.gamekeys=[],this.showMain=!0,this.assetList=["view/MoonMainAd.json"]}createView(){return new e.view.MoonMainAdUI}initial(){super.initial(),this.uiLayer=w.Dialog}start(){super.start()}end(){super.end()}show(e){super.show(e),this.view.size(Laya.stage.width,Laya.stage.height);let t=0;e&&e.top&&(this.view.List_Game1.top=e.top,this.view.List_Game2.top=e.top,t=e.top),null!=e&&null!=e.adEnum&&e.adEnum>=0&&(this.adEnum=e.adEnum,j.log("MoonMainAdPanel-showBannerAd"),ai.I.showBannerAd(this.adEnum)),null!=e&&null!=e.isMain&&(this.showMain=e.isMain),Z.instance.addListener(St.MOOM_MAINAD_CLICK,this,this.onClickL);let i=X.I.getConf();this.view.List_Game1.visible=this.showGames,this.view.List_Game2.visible=this.showGames,this.gamekeys=[];let n=Ye.I.getMatrixByPosition(U.MAIN_LEFT_AD);if(null==n||n.length<=0){if(this.view.List_Game1.visible=!1,Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.MAIN_LEFT_AD);if(null!=e&&1==e.state){let i=t>0?t:e.topMargin;ze.I.showCustom(p.AD_CUSTOM_MAIN_SINGLE_LEFT,i,e.leftMargin,this,this.onErrorLeftCoustAd)}}}else{for(const e of n)this.gamekeys.push(e.tgamekey);this.view.List_Game1.vScrollBarSkin="",this.view.List_Game1.elasticEnabled=!1,this.view.List_Game1.scrollBar.rollRatio=0,this.view.List_Game1.renderHandler=new Laya.Handler(this,this.cellsForLeftGame),this.view.List_Game1.array=n,this.view.List_Game1.setAutoScroll(1,1,500),this.gamekeys.length>0&&Ye.I.jumpStatistics(i,K.instance.openid,H.MATRIX_TYPE_SHOW,this.gamekeys.join(","),U.MAIN_LEFT_AD)}this.gamekeys=[];let a=Ye.I.getMatrixByPosition(U.MAIN_RIGHT_AD);if(null==a||a.length<=0){if(this.view.List_Game2.visible=!1,Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.MAIN_RIGHT_AD);if(null!=e&&1==e.state){let i=t>0?t:e.topMargin;ze.I.showCustom(p.AD_CUSTOM_MAIN_RIGHT,i,e.leftMargin,this,this.onErrorRightCoustAd)}}}else{for(const e of a)this.gamekeys.push(e.tgamekey);this.view.List_Game2.vScrollBarSkin="",this.view.List_Game2.elasticEnabled=!1,this.view.List_Game2.scrollBar.rollRatio=0,this.view.List_Game2.renderHandler=new Laya.Handler(this,this.cellsForRightGame),this.view.List_Game2.array=a,this.view.List_Game2.setAutoScroll(1,1,500),this.gamekeys.length>0&&Ye.I.jumpStatistics(i,K.instance.openid,H.MATRIX_TYPE_SHOW,this.gamekeys.join(","),U.MAIN_RIGHT_AD)}if(Laya.Browser.onMiniGame&&this.showMain){let e=Ye.I.getAdSwitchByPosition(F.MAIN_ICON_AD);null!=e&&1==e.state&&ze.I.showCustom(p.AD_CUSTOM_MAIN,e.topMargin,e.leftMargin,this,null)}}onErrorLeftCoustAd(e){j.log("MoonMainAdPanel--onErrorLeftCoustAd---",e)}onErrorRightCoustAd(e){j.log("MoonMainAdPanel--onErrorRightCoustAd---",e)}onClickL(e){this.view.List_Game1.visible=!1,this.view.List_Game2.visible=!1,Laya.Browser.onMiniGame&&(ze.I.hideCustom(p.AD_CUSTOM_MAIN_RIGHT),ze.I.hideCustom(p.AD_CUSTOM_MAIN_SINGLE_LEFT),this.showMain&&ze.I.hideCustom(p.AD_CUSTOM_MAIN))}cellsForLeftGame(e,t){let i=e.dataSource;e.getChildByName("Img_Game").skin=i.icon,e.off(Laya.Event.CLICK,this,Ye.I.openGame),e.on(Laya.Event.CLICK,this,Ye.I.openGame,[i,U.MAIN_LEFT_AD])}cellsForRightGame(e,t){let i=e.dataSource;e.getChildByName("Img_Game").skin=i.icon,e.off(Laya.Event.CLICK,this,Ye.I.openGame),e.on(Laya.Event.CLICK,this,Ye.I.openGame,[i,U.MAIN_RIGHT_AD])}hide(){null!==this.adEnum&&void 0!==this.adEnum&&this.adEnum>=0&&(j.log("MoonMainAdPanel-hideBannerAd",this.adEnum),ai.I.hideBannerAd(this.adEnum)),Laya.Browser.onMiniGame&&(ze.I.hideCustom(p.AD_CUSTOM_MAIN_RIGHT),ze.I.hideCustom(p.AD_CUSTOM_MAIN_SINGLE_LEFT),ze.I.hideCustom(p.AD_CUSTOM_MAIN)),Z.instance.removeListener(St.MOOM_MAINAD_CLICK,this,this.onClickL),super.hide()}}class zi extends Oi{constructor(){super(...arguments),this.adEnum=-1,this.assetList=["view/MoonResults.json"]}createView(){return new e.view.MoonResultsUI}initial(){super.initial(),this.uiLayer=w.Dialog}show(e){super.show(e),this.view.size(Laya.stage.width,Laya.stage.height),this.mgoonCaller=e.mgoonCaller,this.mgoonFunc=e.mgoonFunc,this.adEnum=e.adEnum,null!==this.adEnum&&void 0!==this.adEnum&&this.adEnum>=0&&(j.log("MoonResultsPanel-showBannerAd"),ai.I.showBannerAd(this.adEnum)),this.addClickListener(this.view.goon,this.onClickL);let t=[],i=[],n=(X.I.getConf(),Ye.I.getMatrixByPosition(U.RESULT_HOT_AD)),a=Ye.I.getMatrixByPosition(U.RESULT_FRIEND_AD),o=[];if(null!=n&&n.length>0){for(const e of n)t.push(e.tgamekey);for(let e=0;e<n.length;e++){let t=n[e];o.push(t)}}o.length<=0?this.view.hgamelist.visible=!1:(this.view.hgamelist.hScrollBarSkin="",this.view.hgamelist.elasticEnabled=!1,this.view.hgamelist.scrollBar.rollRatio=0,this.view.hgamelist.renderHandler=new Laya.Handler(this,this.cellsForGame),this.view.hgamelist.array=o,this.view.hgamelist.setAutoScroll(1,1,500),Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_SHOW,t.join(","),U.RESULT_HOT_AD));let s=[];if(null!=a&&a.length>0){for(const e of a)i.push(e.tgamekey);for(let e=0;e<a.length;e++){let t=a[e];s.push(t)}}s.length<=0?this.view.vgamelist.visible=!1:(this.view.vgamelist.vScrollBarSkin="",this.view.vgamelist.elasticEnabled=!1,this.view.vgamelist.scrollBar.rollRatio=0,this.view.vgamelist.renderHandler=new Laya.Handler(this,this.cellsForGame2),this.view.vgamelist.array=s,this.view.vgamelist.setAutoScroll(1,1,500),Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_SHOW,i.join(","),U.RESULT_FRIEND_AD))}hide(){null!==this.adEnum&&void 0!==this.adEnum&&this.adEnum>=0&&(j.log("MoonResultsPanel-hideBannerAd",this.adEnum),ai.I.hideBannerAd(this.adEnum)),super.hide()}onClickL(e){Laya.Browser.onMiniGame&&Ye.I.checkSkip(),this.closeSelf(),this.mgoonCaller&&this.mgoonFunc&&this.mgoonFunc.call(this.mgoonCaller)}cellsForGame(e,t){let i=e.dataSource;e.getChildByName("Img_Game").skin=i.icon,e.off(Laya.Event.CLICK,this,Ye.I.openGame),e.on(Laya.Event.CLICK,this,Ye.I.openGame,[i,U.RESULT_HOT_AD])}cellsForGame2(e,t){let i=e.dataSource,n=e.getChildByName("Img_Game"),a=i.appname;a.length>6&&(a=i.appname[0]+i.appname[1]+i.appname[2]+"..."),n.skin=i.banner,e.off(Laya.Event.CLICK,this,Ye.I.openGame),e.on(Laya.Event.CLICK,this,Ye.I.openGame,[i,U.RESULT_FRIEND_AD])}}class Fi{constructor(){this.itemMap={}}static get I(){return _.get(Fi)}init(){}setDataGameToList(e,t){let i=X.I.getConf();if(i.bbbsReportItemMap.hasOwnProperty(e)){const n=i.bbbsReportItemMap[e];if(n&&n.id){j.log("BBBSUniomHelper setDataGameToList element.id:",n.id);let e=Fi.I.getDataGameList(n.id);if(j.log("BBBSUniomHelper setDataGameToList rlist:",e),e&&e.length>0)for(let i=0;i<e.length;i++){let n=e[i];n&&t.push(n)}}}}getDataGameList(e){j.log("BBBSUniomHelper getDataGameList flowType:",e);let t=this.getData(e),i=[];if(t)for(let n=0;n<t.length;n++){const a=t[n];if(a&&a.logo&&a.programName&&a.appID&&a.maxPic&&a.defaultUrl){j.log("!!!BBBSUniomHelper getDataGameList:",a);let t={};t.index=n+1,t.icon=a.logo,t.appName=a.programName,t.appId=a.appID,t.banner=a.maxPic,t.path=a.defaultUrl,t.flowType=e,t.isBBBS=!0,i.push(t)}}return i}getData(e){j.log("BBBSUniomHelper getData flowType:",e);let t=unionapi.getData(e);if(t)for(let i=0;i<t.length;i++){let n=t[i];n&&n.appID?(j.debug("BBBSUniomHelper getData:",n),this.itemMap[`${e}-${n.appID}`]=n):j.warn("BBBSUniomHelper getData data is null")}else j.warn("unionapi.getData arr is null");return j.log("BBBSUniomHelper itemMap:",this.itemMap),t}reportByAppId(e,t,i,n){let a=this.itemMap[`${t}-${e}`];a&&this.report(a,t,i,n)}report(e,t,i,n){unionapi.report(e,t,i,n)}}class Hi extends Oi{constructor(){super(...arguments),this.adEnum=-1,this.adTop=0,this.assetList=["view/MoonResults2.json"]}createView(){return new e.view.MoonResults2UI}initial(){super.initial(),this.uiLayer=w.Dialog}show(e){super.show(e),this.view.size(Laya.stage.width,Laya.stage.height),null!=e&&void 0!==this.adEnum&&(this.adEnum=e.adEnum,this.adTop=e.adTop);let t=[],i=X.I.getConf();if(Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame){this.view.hgamebox.visible=!1,this.view.hgamelist.visible=!1;let e=Ye.I.getAdSwitchByPosition(z.MAIN_TOP_AD);if(null==e||0==e.state);else{let e=this.view.ov_native.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_NATIVE,g.IMG,e):Xe.I.createNativeAd(c.AD_GAME_NATIVE,g.IMG,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG):Xe.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG)})}if(null==(e=Ye.I.getAdSwitchByPosition(z.MAIN_RIGHT_AD))||0==e.state)this.view.ov_native2.visible=!1;else{this.view.ov_native2.visible=!0;let e=this.view.ov_native2.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e):Xe.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON):Xe.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON)}),this.view.ov_native_close.on(Laya.Event.CLICK,this,()=>{this.view.ov_native2.visible=!1})}}else{this.view.ov_native2.visible=!1;let e=[],n=Ye.I.getMatrixByPosition(U.RESULT_PASS_AD);if(null!=n&&n.length>0){for(const t of n)e.push(t.tgamekey);for(let e=0;e<n.length;e++){let a=n[e];t.push(a);let o={"坑位":a.index,"游戏":a.appName};(a.isBBBS||i.games_ald_ouku)&&re.I.sendEvent(`${a.icon}-${le.RESAULT2_SHOW}`,o)}}if(t.length<=0){if(this.view.hgamebox.visible=!1,this.view.hgamelist.visible=!1,Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.RESULT_TOP_AD);null!=e&&1==e.state&&ze.I.showCustom(p.AD_CUSTOM_TOP,e.topMargin,e.leftMargin,this,this.onErrorCoustAd)}}else this.view.hgamebox.visible=!0,this.view.hgamelist.visible=!0,this.view.hgamelist.vScrollBarSkin="",this.view.hgamelist.elasticEnabled=!1,this.view.hgamelist.scrollBar.rollRatio=0,this.view.hgamelist.renderHandler=new Laya.Handler(this,this.cellsForGame),this.view.hgamelist.mouseHandler=new Laya.Handler(this,this.onGameCellEvent),this.view.hgamelist.array=t,this.view.hgamelist.setAutoScroll(1,1,500),Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_SHOW,e.join(","),U.RESULT_PASS_AD)}if(null!==this.adEnum&&void 0!==this.adEnum&&this.adEnum>=0)if(Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.RESULT_TOP_AD),t=Ye.I.getMatrixByPosition(U.RESULT_PASS_AD);null!=t&&t.length>0||null==e||0==e.state?(j.log("MoonResults2Panel-show-showBannerAd"),null!==this.adTop&&void 0!==this.adTop&&this.adTop>0?ai.I.showBannerAd(this.adEnum,this.adTop):ai.I.showBannerAd(this.adEnum)):(j.log("MoonResults2Panel-show-hideBannerAd"),ai.I.hideBannerAd(this.adEnum))}else j.log("MoonResults2Panel-show-showBannerAd"),null!==this.adTop&&void 0!==this.adTop&&this.adTop>0?ai.I.showBannerAd(this.adEnum,this.adTop):ai.I.showBannerAd(this.adEnum);if(Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.RESULT_RIGHT_AD);null!=e&&1==e.state&&ze.I.showCustom(p.AD_CUSTOM_SINGLE_RIFHT2,e.topMargin,e.leftMargin,this,null)}}onErrorCoustAd(e){j.log("MoonResults2Panel--onErrorTopCoustAd---"),null!==this.adEnum&&void 0!==this.adEnum&&this.adEnum>=0&&(j.log("MoonResults2Panel-onErrorCoustAd-showBannerAd"),null!==this.adTop&&void 0!==this.adTop&&this.adTop>0?ai.I.showBannerAd(this.adEnum,this.adTop):ai.I.showBannerAd(this.adEnum))}hide(){null!==this.adEnum&&void 0!==this.adEnum&&this.adEnum>=0&&(j.log("MoonResults2Panel-hide-hideBannerAd"),ai.I.hideBannerAd(this.adEnum)),Laya.Browser.onMiniGame&&(ze.I.hideCustom(p.AD_CUSTOM_TOP),ze.I.hideCustom(p.AD_CUSTOM_SINGLE_RIFHT2)),super.hide()}cellsForGame(e,t){let i=e.dataSource,n=e.getChildByName("Img_Game");if(null==i.statistics&&i.icon)n.skin=i.icon;else{let e=X.I.getConf();n.skin=`${e.gamesBasePath}/icon/${i.icon}.png`}e.off(Laya.Event.CLICK,this,Ye.I.openGame),e.on(Laya.Event.CLICK,this,Ye.I.openGame,[i,U.RESULT_PASS_AD])}onGameCellEvent(e){if(e.type!=Laya.Event.CLICK)return;let t;if(de.I.isWxMiniGame()?t=window.wx:de.I.isQQMiniGame()&&(t=window.qq),null==t)return;let i=X.I.getConf(),n=e.currentTarget.dataSource,a={"坑位":n.index,"游戏":n.appName};(n.isBBBS||i.games_ald_ouku)&&re.I.sendEvent(`${n.icon}-${le.RESAULT2_CLICK}`,a),t.navigateToMiniProgram({appId:n.appId,path:"",success:function(e){let t={"坑位":n.index,"游戏":n.appName};(n.isBBBS||i.games_ald_ouku)&&re.I.sendEvent(`${n.icon}-${le.RESAULT2_ACT}`,t),n.isBBBS&&Fi.I.reportByAppId(n.appId,n.flowType,n.index,!0),j.log("MoonResults2Panel success jump to res:",e),j.log("MoonResults2Panel success jump to appName",n.appName),j.log("MoonResults2Panel success jump to flowType",n.flowType),j.log("MoonResults2Panel success jump to appId",n.appId)},fail:function(e){j.log("MoonResults2Panel fail jump to res:",e),j.log("MoonResults2Panel fail jump to appName",n.appName),j.log("MoonResults2Panel fail jump to flowType",n.flowType),j.log("MoonResults2Panel fail jump to appId",n.appId),n.isBBBS&&Fi.I.reportByAppId(n.appId,n.flowType,n.index,!1)}})}}class Ki extends Oi{constructor(){super(...arguments),this.adEnum=-1,this.assetList=["view/MoonGameBox.json"]}createView(){return new e.view.MoonGameBoxUI}initial(){super.initial(),this.uiLayer=w.Dialog}show(e){super.show(e),this.mgoonCaller=e.mgoonCaller,this.mgoonFunc=e.mgoonFunc;let t=[],i=Ye.I.getMatrixByPosition(U.BOX_AD);for(const e of i)t.push(e.tgamekey);this.view.size(Laya.stage.width,Laya.stage.height),this.addClickListener(this.view.btn_close,this.onClick),this.view.list.vScrollBarSkin="",this.view.list.elasticEnabled=!1,this.view.list.scrollBar.rollRatio=0,this.view.list.renderHandler=new Laya.Handler(this,this.onRenderItem),this.view.list.array=i,this.view.list.setAutoScroll(1,1,500),this.view.btn_close.visible=!1,this.addClickListener(this.view.btn_close,this.onClick),Laya.timer.once(3e3,this,this.showCloseBtn),Ye.I.jumpStatistics(X.I.getConf(),K.instance.openid,H.MATRIX_TYPE_SHOW,t.join(","),U.BOX_AD),Laya.Browser.onMiniGame&&lt.instance.hide(ot.MoonMainAdPanel),null!=e&&null!=e.adEnum&&e.adEnum>=0&&(this.adEnum=e.adEnum,j.log("MoonGameBoxPanel-showBannerAd"),ai.I.showBannerAd(this.adEnum))}showCloseBtn(){this.view.btn_close.visible=!0}hide(){null!==this.adEnum&&void 0!==this.adEnum&&this.adEnum>=0&&(j.log("MoonGameBoxPanel-hideBannerAd"),ai.I.hideBannerAd(this.adEnum)),Laya.timer.clearAll(this),super.hide()}onClick(e){this.closeSelf(),this.mgoonCaller&&this.mgoonFunc?this.mgoonFunc.call(this.mgoonCaller):Laya.Browser.onMiniGame&&lt.instance.show(ot.MoonMainAdPanel,{adEnum:this.adEnum})}onRenderItem(e,t){let i=e.dataSource;e.getChildByName("img_icon").skin=i.icon,e.off(Laya.Event.CLICK,this,Ye.I.openGame),e.on(Laya.Event.CLICK,this,Ye.I.openGame,[i,U.BOX_AD])}}class Wi extends Oi{constructor(){super(...arguments),this.assetList=["wxlocal/MoonConfirm.json"]}createView(){return new e.wxlocal.MoonConfirmUI}initial(){super.initial(),this.uiLayer=w.Normal}show(e){super.show(e),this.view.size(Laya.stage.width,Laya.stage.height),this.view.lbl_content.text=e[0],this.mCaller=e[1],this.mCallFunc=e[2],this.addClickListener(this.view.btn_try,this.onTryEvent)}hide(){super.hide()}onTryEvent(){let e=this.mCaller,t=this.mCallFunc;this.closeSelf(),t&&e&&t.call(e)}}class qi extends Oi{constructor(){super(...arguments),this.adEnum=-1,this.showGames=!0,this.gamekeys=[],this.assetList=["view/MoonMainAd2.json"]}createView(){return new e.view.MoonMainAd2UI}initial(){super.initial(),this.uiLayer=w.Dialog}start(){super.start()}end(){super.end()}show(e){super.show(e),this.view.size(Laya.stage.width,Laya.stage.height);let t=0;e&&e.top&&(this.view.List_Game1.top=e.top,this.view.List_Game2.top=e.top,t=e.top),null!=e&&null!=e.adEnum&&e.adEnum>=0&&(this.adEnum=e.adEnum,j.log("MoonMainAd2Panel-showBannerAd"),ai.I.showBannerAd(this.adEnum));let i=X.I.getConf();if(this.view.List_Game1.visible=this.showGames,this.view.List_Game2.visible=this.showGames,this.view.List_Game3.visible=this.showGames,Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame){this.view.List_Game1.visible=!1,this.view.List_Game2.visible=!1,this.view.List_Game3.visible=!1;let e=Ye.I.getAdSwitchByPosition(z.MAIN_TOP_AD);if(null==e||0==e.state);else{let e=this.view.ov_native.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_NATIVE,g.IMG,e):Xe.I.createNativeAd(c.AD_GAME_NATIVE,g.IMG,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG):Xe.I.reportAdClick(c.AD_GAME_NATIVE,g.IMG)}),this.view.btn_close.on(Laya.Event.CLICK,this,()=>{})}if(null==(e=Ye.I.getAdSwitchByPosition(z.MAIN_RIGHT_AD))||0==e.state)this.view.ov_native2.visible=!1;else{this.view.ov_native2.visible=!0;let e=this.view.ov_native2.getChildByName("icon");Laya.Browser.onVVMiniGame?Ue.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e):Xe.I.createNativeAd(c.AD_GAME_SINGLE_NATIVE,g.ICON,e),e.on(Laya.Event.MOUSE_OVER,this,()=>{Laya.Browser.onVVMiniGame?Ue.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON):Xe.I.reportAdClick(c.AD_GAME_SINGLE_NATIVE,g.ICON)}),this.view.ov_native_close.on(Laya.Event.CLICK,this,()=>{this.view.ov_native2.visible=!1})}}else{this.view.ov_native2.visible=!1,this.gamekeys=[];let e=Ye.I.getMatrixByPosition(U.MAIN_LEFT_AD);if(null==e||e.length<=0){if(this.view.List_Game1.visible=!1,Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.MAIN_LEFT_AD);if(null!=e&&1==e.state){let i=t>0?t:e.topMargin;ze.I.showCustom(p.AD_CUSTOM_MAIN_SINGLE_LEFT,i,e.leftMargin,this,this.onErrorLeftCoustAd)}}}else{for(const t of e)this.gamekeys.push(t.tgamekey);this.view.List_Game1.vScrollBarSkin="",this.view.List_Game1.elasticEnabled=!1,this.view.List_Game1.scrollBar.rollRatio=0,this.view.List_Game1.renderHandler=new Laya.Handler(this,this.cellsForLeftGame),this.view.List_Game1.array=e,this.view.List_Game1.setAutoScroll(1,1,500),this.gamekeys.length>0&&Ye.I.jumpStatistics(i,K.instance.openid,H.MATRIX_TYPE_SHOW,this.gamekeys.join(","),U.MAIN_LEFT_AD)}this.gamekeys=[];let n=Ye.I.getMatrixByPosition(U.MAIN_RIGHT_AD);if(null==n||n.length<=0){if(this.view.List_Game2.visible=!1,Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.MAIN_RIGHT_AD);if(null!=e&&1==e.state){let i=t>0?t:e.topMargin;ze.I.showCustom(p.AD_CUSTOM_MAIN_RIGHT,i,e.leftMargin,this,this.onErrorRightCoustAd)}}}else{for(const e of n)this.gamekeys.push(e.tgamekey);this.view.List_Game2.vScrollBarSkin="",this.view.List_Game2.elasticEnabled=!1,this.view.List_Game2.scrollBar.rollRatio=0,this.view.List_Game2.renderHandler=new Laya.Handler(this,this.cellsForRightGame),this.view.List_Game2.array=n,this.view.List_Game2.setAutoScroll(1,1,500),this.gamekeys.length>0&&Ye.I.jumpStatistics(i,K.instance.openid,H.MATRIX_TYPE_SHOW,this.gamekeys.join(","),U.MAIN_RIGHT_AD)}this.gamekeys=[];let a=Ye.I.getMatrixByPosition(U.RESULT_PASS_AD);if(null==a||a.length<=0){if(this.view.List_Game3.visible=!1,Laya.Browser.onMiniGame){let e=Ye.I.getAdSwitchByPosition(F.RESULT_TOP_AD);if(null!=e&&1==e.state){let i=t>0?t:e.topMargin;ze.I.showCustom(p.AD_CUSTOM_TOP,i,e.leftMargin,this,this.onErrorTopCoustAd)}}}else{for(const e of a)this.gamekeys.push(e.tgamekey);this.view.List_Game3.hScrollBarSkin="",this.view.List_Game3.elasticEnabled=!1,this.view.List_Game3.scrollBar.rollRatio=0,this.view.List_Game3.renderHandler=new Laya.Handler(this,this.cellsForTopGame),this.view.List_Game3.array=a,this.view.List_Game3.setAutoScroll(1,1,500),this.gamekeys.length>0&&Ye.I.jumpStatistics(i,K.instance.openid,H.MATRIX_TYPE_SHOW,this.gamekeys.join(","),U.RESULT_PASS_AD)}}}onErrorLeftCoustAd(e){j.log("MoonMainAd2Panel--onErrorLeftCoustAd---",e)}onErrorRightCoustAd(e){j.log("MoonMainAd2Panel--onErrorRightCoustAd---",e)}onErrorTopCoustAd(e){j.log("MoonMainAd2Panel--onErrorTopCoustAd---",e)}cellsForLeftGame(e,t){let i=e.dataSource;e.getChildByName("Img_Game").skin=i.icon,e.off(Laya.Event.CLICK,this,Ye.I.openGame),e.on(Laya.Event.CLICK,this,Ye.I.openGame,[i,U.MAIN_LEFT_AD])}cellsForRightGame(e,t){let i=e.dataSource;e.getChildByName("Img_Game").skin=i.icon,e.off(Laya.Event.CLICK,this,Ye.I.openGame),e.on(Laya.Event.CLICK,this,Ye.I.openGame,[i,U.MAIN_RIGHT_AD])}cellsForTopGame(e,t){let i=e.dataSource;e.getChildByName("Img_Game").skin=i.icon,e.off(Laya.Event.CLICK,this,Ye.I.openGame),e.on(Laya.Event.CLICK,this,Ye.I.openGame,[i,U.RESULT_PASS_AD])}hide(){null!==this.adEnum&&void 0!==this.adEnum&&this.adEnum>=0&&(j.log("MoonMainAd2Panel-hideBannerAd",this.adEnum),ai.I.hideBannerAd(this.adEnum)),Laya.Browser.onMiniGame&&(ze.I.hideCustom(p.AD_CUSTOM_MAIN_RIGHT),ze.I.hideCustom(p.AD_CUSTOM_MAIN_SINGLE_LEFT),ze.I.hideCustom(p.AD_CUSTOM_TOP)),super.hide()}}class ji{createPanel(e){switch(e){case at.MoonGameBoxPanel:return new Ki;case at.MoonGuideGesturePanel:return new Yi;case at.MoonTipPanel:return new Xi;case at.MoonMainAdPanel:return new Ui;case at.MoonMainAd2Panel:return new qi;case at.MoonResultsPanel:return new zi;case at.MoonResults2Panel:return new Hi;case at.MoonConfirmPanel:return new Wi}return null}}class Qi{constructor(){this.sdk=J.I.getSDK()}static get I(){return _.get(Qi)}checkUpdate(){if(this.sdk&&this.sdk!=window.qg){this.updateManager=this.sdk.getUpdateManager(),this.updateManager.onCheckForUpdate(function(e){j.log(e.hasUpdate)});let e=this;this.updateManager.onUpdateReady(function(){e.sdk.showModal({title:"更新提示",content:"新版本已经准备好，是否重启应用?",success:function(t){t.confirm&&e.updateManager.applyUpdate()}})}),this.updateManager.onUpdateFailed(function(){})}}}class $i{static get I(){return _.get($i)}constructor(){}init(){J.I.getSDK()&&J.I.getSDK().setKeepScreenOn({keepScreenOn:!0,success:()=>{},fail:()=>{},complete:()=>{}})}}!function(e){e[e.Data=0]="Data",e[e.ResLoading=1]="ResLoading",e[e.Res3dLoading=2]="Res3dLoading",e[e.ResSingle=3]="ResSingle",e[e.ResCache=4]="ResCache"}(Ni||(Ni={}));class Zi extends Oi{constructor(){super(...arguments),this.assetList=["wxlocal/MoonLoading.json"],this.loadinglbl_load2D="loading 2d...",this.loadinglbl_load3D="loading 3d...",this.loadinglbl_Single="laoding game info...",this.loadinglbl_SubPkg="download source...",this.preloadCount=0,this.subPackWx=[],this.subPackOppo=[],this.subPackQQ=[],this.subPackTT=[],this.subPackVivo=[],this.loadCount=0,this.cdnNum=30,this.resLoading=[],this.res3dLoading=[],this.resSingle=[],this.nativefiles=[]}gameInitComplete(){}createView(){return new e.wxlocal.MoonLoadingUI}start(){super.start()}show(e){super.show(e),j.info("展示+++++"),ie.I.onWeidu({weidu:1}),this.view.version.text=X.I.getConf().version.toString(),this.nativefiles.length>0&&(de.I.isWxMiniGame()||de.I.isTTMiniGame()?Laya.MiniAdpter.nativefiles=this.nativefiles:de.I.isQQMiniGame()&&(Laya.QQMiniAdapter.nativefiles=this.nativefiles));let t=X.I.getConf();if(ie.I.getSaleData(),t.needGetGamelist&&Ye.I.getMatrixList(t),t.needGetSwitchList&&(Laya.Browser.onQGMiniGame||Laya.Browser.onVVMiniGame||Laya.Browser.onMiniGame)&&Ye.I.getAdSwitchList(t),Qi.I.checkUpdate(),Laya.Browser.onQGMiniGame)window.qg.setLoadingProgress({progress:0});else if(de.I.isOPPOH5Game()){window.OPPO.getAppVersion()>=1200&&window.OPPO.setLoadingProgress(0)}if($i.I.init(),this.view.loadcricle.play(),ie.I.onEvent({event:"load_gameres_start",time:Date.now(),scene:"load_scene"}),de.I.isWxMiniGame()&&this.subPackWx.length>0){this.mCurPro=0,this.updateProgressView(),this.view.loadinglbl.text=this.loadinglbl_SubPkg;for(let e=0;e<this.subPackWx.length;e++)this.loadAsynSubPackage(this.subPackWx[e])}else if(Laya.Browser.onQGMiniGame&&this.subPackOppo.length>0){j.info("oppo loadAsynSubPackage"),this.mCurPro=0,this.updateProgressView(),this.view.loadinglbl.text=this.loadinglbl_SubPkg;for(let e=0;e<this.subPackOppo.length;e++)this.loadAsynSubPackage(this.subPackOppo[e])}else if(Laya.Browser.onVVMiniGame&&this.subPackVivo.length>0){j.info("vivo loadAsynSubPackage"),this.mCurPro=0,this.updateProgressView(),this.view.loadinglbl.text=this.loadinglbl_SubPkg;for(let e=0;e<this.subPackVivo.length;e++)this.loadAsynSubPackage(this.subPackVivo[e])}else if(Laya.Browser.onQQMiniGame&&this.subPackQQ.length>0){j.info("qq loadAsynSubPackage"),this.mCurPro=0,this.updateProgressView(),this.view.loadinglbl.text=this.loadinglbl_SubPkg;for(let e=0;e<this.subPackQQ.length;e++)this.loadAsynSubPackage(this.subPackQQ[e])}else if(Laya.Browser.onTTMiniGame&&this.subPackTT.length>0){j.info("tt loadAsynSubPackage"),this.mCurPro=0,this.updateProgressView(),this.view.loadinglbl.text=this.loadinglbl_SubPkg;for(let e=0;e<this.subPackTT.length;e++)this.loadAsynSubPackage(this.subPackTT[e])}else j.info("no SubPackage"),this.startGame();Oe.I.statisticsReport(m.VIEW_LOADING),J.I.registerBGEvent()}startGame(){this.mAddPro=this.mCurPro=this.mTargetPro=0,Laya.timer.frameLoop(1,this,this.onFrameUpdate),this.loadRecord()}loadAsynSubPackage(e){let t=this;if(Laya.Browser.onQGMiniGame||Laya.Browser.onVVMiniGame){qg.loadSubpackage({name:e,success:function(i){j.info(e+"加载成功"),t.ovSubPkgLoadFinish()},fail:function(t){j.info(e+"加载失败")}})}else if(Laya.Browser.onQQMiniGame){qq.loadSubpackage({name:e,success:function(e){t.subQQPkgLoadFinish()},fail:function(e){}})}else if(Laya.Browser.onTTMiniGame){tt.loadSubpackage({name:e,success:function(e){t.preloadCount<t.subPackTT.length?(t.loadAsynSubPackage(t.subPackTT[t.preloadCount]),t.preloadCount++):t.subTTPkgLoadFinish()},fail:function(e){}})}else{wx.loadSubpackage({name:e,success:function(e){t.subPkgLoadFinish()},fail:function(e){}})}}subPkgLoadFinish(){j.info("wx subPkgLoadFinish"),this.preloadCount++,this.mCurPro=this.preloadCount/this.subPackWx.length,this.updateProgressView(),this.preloadCount>=this.subPackWx.length&&this.startGame()}subQQPkgLoadFinish(){j.info("qq subPkgLoadFinish"),this.preloadCount++,this.mCurPro=this.preloadCount/this.subPackQQ.length,this.updateProgressView(),this.preloadCount>=this.subPackQQ.length&&this.startGame()}subTTPkgLoadFinish(){j.info("tt subPkgLoadFinish"),this.preloadCount++,this.mCurPro=this.preloadCount/this.subPackTT.length,this.updateProgressView(),this.preloadCount>=this.subPackTT.length&&this.startGame()}ovSubPkgLoadFinish(){j.info("ov subPkgLoadFinish"),this.preloadCount++;let e=!1;Laya.Browser.onQGMiniGame?(this.mCurPro=this.preloadCount/this.subPackOppo.length,e=this.preloadCount>=this.subPackOppo.length):(this.mCurPro=this.preloadCount/this.subPackVivo.length,e=this.preloadCount>=this.subPackVivo.length),this.updateProgressView(),e&&this.startGame()}hide(){Laya.timer.clearAll(this),Pe.I.removeListener(Pe.LoginApp,this,this.onLoginComplete),super.hide()}setTargetPro(e){this.mTargetPro=e,this.mCurPro>=this.mTargetPro?(this.mCurPro=this.mTargetPro,this.mAddPro=0,this.updateProgressView()):this.mAddPro=(this.mTargetPro-this.mCurPro)/20}onFrameUpdate(){if(this.mAddPro>0&&(this.mCurPro+=this.mAddPro,this.mCurPro>=this.mTargetPro&&(this.mCurPro=this.mTargetPro,this.mAddPro=0),this.updateProgressView()),this.mIsStepDone&&this.mCurPro>=this.mTargetPro)if(this.mIsStepDone=!1,this.mLoadingStep==Ni.ResLoading)this.loadRes3d();else if(this.mLoadingStep==Ni.Res3dLoading)this.onLoadedComplete();else if(this.mLoadingStep==Ni.ResSingle)this.mLoadingStep=Ni.ResCache,this.onResCache();else if(this.mLoadingStep==Ni.ResCache)if(ie.I.onEvent({event:"load_gameres_p100",time:Date.now(),scene:"load_scene"}),ie.I.onEvent({event:"game_init_start",time:Date.now(),scene:"home_scene"}),this.gameInitComplete(),ie.I.onWeidu({weidu:105}),Laya.Browser.onQGMiniGame)window.qg.loadingComplete({complete:function(e){}});else if(de.I.isOPPOH5Game()){window.OPPO.getAppVersion()>=1200&&window.OPPO.loadingComplete()}}onResCache(){this.setTargetPro(1),this.mIsStepDone=!0}loadRes(){this.mLoadingStep=Ni.ResLoading,this.view.loadinglbl.text=this.loadinglbl_load2D,this.setTargetPro(0),X.I.getConf().basePath.length>0&&(Laya.URL.basePath=`${X.I.getConf().basePath[this.loadCount%3]}${X.I.getConf().version}/`),j.info("Laya.URL.basePath:",Laya.URL.basePath),ie.I.onEvent({event:"load_gameres_p20",time:Date.now(),scene:"load_scene"}),this.resLoading.length>0?Laya.loader.load(this.resLoading,Laya.Handler.create(this,this.onLoadResComplete),Laya.Handler.create(this,this.setTargetPro,null,!1)):this.onLoadResComplete(!0)}onLoadResComplete(e){e?(this.mIsStepDone=!0,this.setTargetPro(1)):this.loadResError()}loadResError(){this.loadCount++,(Laya.Browser.onMiniGame||Laya.Browser.onQQMiniGame||Laya.Browser.onQGMiniGame)&&Laya.MiniAdpter.removeAll(),Laya.Browser.onVVMiniGame&&Laya.VVMiniAdapter.removeAll(),this.loadCount<this.cdnNum&&Laya.timer.once(500,this,this.loadRes)}loadRes3d(){this.view.loadinglbl.text=this.loadinglbl_load3D,this.mLoadingStep=Ni.Res3dLoading,this.setTargetPro(0),this.initRes3dArray(),ie.I.onEvent({event:"load_gameres_p40",time:Date.now(),scene:"load_scene"}),this.res3dLoading.length>0?Laya.loader.create(this.res3dLoading,Laya.Handler.create(this,this.onLoadRes3dComplete),Laya.Handler.create(this,this.setTargetPro,null,!1)):this.onLoadRes3dComplete(!0)}onLoadRes3dComplete(e){e?(this.mIsStepDone=!0,this.setTargetPro(1)):this.loadResError()}initRes3dArray(){}updateProgressView(){if(this.view.bar.x=-this.view.bar.width*(1-this.mCurPro),this.view.tPgs.text=Math.round(100*this.mCurPro)+"%",this.updateProgressChild(),Laya.Browser.onQGMiniGame)window.qg.setLoadingProgress({progress:100*this.mCurPro});else if(de.I.isOPPOH5Game()){window.OPPO.getAppVersion()>=1200&&window.OPPO.setLoadingProgress(100*this.mCurPro)}}updateProgressChild(){}loadRecord(){if(this.mLoadingStep=Ni.Data,this.view.loadinglbl.text=this.loadinglbl_Single,this.setTargetPro(0),h.dont==X.I.getConf().loginLevel?this.loadRecordNoData():(Pe.I.addListener(Pe.LoginApp,this,this.onLoginComplete),Pe.I.login()),ie.I.load(),X.I.getConf().ad.video.length>0)for(let e=0;e<X.I.getConf().ad.video.length;e++)ai.I.getVideoAd(e)}loadRecordNoData(){Re.I.readLocal(),Oe.I.statisticsReport(m.LOGIN_SUCCESS),this.loadRes()}onLoginComplete(e){e.result?(Pe.I.removeListener(Pe.LoginApp,this,this.onLoginComplete),K.instance.uid=e.res.openid,this.loadRecordNoData()):h.must==X.I.getConf().loginLevel?lt.instance.show(at.MoonConfirmPanel,["网络状况不佳，请检查网络后\n重新进入游戏",this,()=>{Pe.I.login()}]):this.loadRecordNoData(),this.onExtendLoginComplete()}onExtendLoginComplete(){}onLoadedComplete(){this.mLoadingStep=Ni.ResSingle,this.setTargetPro(0),ie.I.onEvent({event:"load_gameres_p60",time:Date.now(),scene:"load_scene"}),this.resSingle.length>0?Laya.loader.create(this.resSingle,Laya.Handler.create(this,this.onResSingleComplete),Laya.Handler.create(this,this.setTargetPro)):this.onResSingleComplete(!0)}onResSingleComplete(e){this.mIsStepDone=!0,this.setTargetPro(1)}dispose(){this.view.img_logo.dispose(),this.view.img_bg.dispose(),super.dispose()}}class Ji extends Zi{constructor(){super(...arguments),this.resLoading=["res/atlas/rank.atlas","res/atlas/comp.atlas","res/atlas/rewan.atlas","music/bg.mp3"],this.subPackVivo=["head","LayaScene_runrun","bgm"],this.subPackWx=["head","LayaScene_runrun","bgm"],this.res3dLoading=[Mi.SCENE_3D],this.resSingle=[]}show(e){super.show(e),this.view.size(Laya.stage.width,Laya.stage.height),Laya.Browser.onVVMiniGame&&(this.view.img_logo.visible=!1)}gameInitComplete(){Ze.I.init("bgm",!1),Ze.I.setMusicVolume(.2),Laya.Scene.open("MainStage.scene"),lt.instance.hide(ot.LoadingPanel)}}class en extends ji{createPanel(e){switch(e){case ot.LoadingPanel:return new Ji}return super.createPanel(e)}}class tn extends Laya.Script{constructor(){super()}onAwake(){console.log("进入start"),st.instance.init(Laya.stage),lt.instance.init(new en),this.onResize(),Laya.stage.on(Laya.Event.RESIZE,this,this.onResize)}onEnable(){lt.instance.show(ot.LoadingPanel)}onDisable(){}onResize(){lt.instance.resize()}onDestroy(){Laya.stage.off(Laya.Event.RESIZE,this,this.onResize)}}class nn{constructor(){}static init(){var e=Laya.ClassUtils.regClass;e("scripts/gui/AgainView.ts",oi),e("moon/core/ui/extension/ListEx.ts",si),e("scripts/gui/BeginView.ts",hi),e("scripts/gui/HudUI.ts",ki),e("scripts/MainStage.ts",Pi),e("moon/Start.ts",tn)}}nn.width=640,nn.height=1136,nn.scaleMode="fixedwidth",nn.screenMode="none",nn.alignV="middle",nn.alignH="center",nn.startScene="BeginView.scene",nn.sceneRoot="",nn.debug=!1,nn.stat=!1,nn.physicsDebug=!1,nn.exportSceneToJson=!0,nn.init();class an{static fixSingletonList(){Laya.SingletonList.prototype._remove=function(e){if(-1!=e&&(this.length--,e!==this.length)){var t=this.elements[this.length];t&&(this.elements[e]=t,t._setIndexInList(e))}};var e=Laya.SimpleSingletonList.prototype.add;Laya.SimpleSingletonList.prototype.add=function(t){-1===t._getIndexInList()&&e.call(this,t)},Laya.SimpleSingletonList.prototype.remove=function(e){var t=e._getIndexInList();if(this.length--,t!==this.length){var i=this.elements[this.length];this.elements[t]=i,i&&i._setIndexInList&&i._setIndexInList(t)}e._setIndexInList(-1)}}}class on{static formatPrefab(e,t="3d/prefab"){if(this.isVip){if(e&&""!==e&&void 0!==e&&"object"!=typeof tt){if(Laya.Browser.onIOS&&Laya.Browser.onMiniGame)return`${t}/iOS/${e}`;if((Laya.Browser.onMiniGame||Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame)&&Laya.Browser.onAndroid)return`${t}/Android/${e}`}if(Laya.Render.isConchApp){if(Laya.Browser.onAndroid)return`${t}/Android/${e}`;if(Laya.Browser.onIOS)return`${t}/iOS/${e}`}}return`${t}/Conventional/${e}`}static formatRes(e,t="3d/res",i=Vi.Image){let n="Conventional";switch(this.isVip&&(e&&""!==e&&void 0!==e&&"object"!=typeof tt&&(Laya.Browser.onIOS&&Laya.Browser.onMiniGame?n="iOS":(Laya.Browser.onMiniGame||Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame)&&Laya.Browser.onAndroid&&(n="Android")),Laya.Render.isConchApp&&(Laya.Browser.onAndroid?n="Android":Laya.Browser.onIOS&&(n="iOS"))),i){case Vi.Image:return`${t}/${n}/img/${e}`}return""}static formatScene(e){if(this.isVip){if(e&&""!==e&&void 0!==e&&"object"!=typeof tt){if(Laya.Browser.onIOS&&Laya.Browser.onMiniGame)return`3d/scene/iOS/${e}`;if((Laya.Browser.onMiniGame||Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame)&&Laya.Browser.onAndroid)return`3d/scene/Android/${e}`}if(Laya.Render.isConchApp){if(Laya.Browser.onAndroid)return`3d/scene/Android/${e}`;if(Laya.Browser.onIOS)return`3d/scene/iOS/${e}`}}return`3d/scene/Conventional/${e}`}static newFormatScene(e){if(this.isVip){if(e&&""!==e&&void 0!==e&&"object"!=typeof tt){if(Laya.Browser.onIOS&&Laya.Browser.onMiniGame)return`3d/scene/${e}/iOS/${e}.ls`;if((Laya.Browser.onMiniGame||Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame)&&Laya.Browser.onAndroid)return`3d/scene/${e}/Android/${e}.ls`}if(Laya.Render.isConchApp){if(Laya.Browser.onAndroid)return`3d/scene/${e}/Android/${e}.ls`;if(Laya.Browser.onIOS)return`3d/scene/${e}/iOS/${e}.ls`}}return`3d/scene/${e}/Conventional/${e}.ls`}static formatUiScene(e){if(this.isVip){if(e&&""!==e&&void 0!==e&&"object"!=typeof tt){if(Laya.Browser.onIOS&&Laya.Browser.onMiniGame)return`3d/uiscene/iOS/${e}`;if((Laya.Browser.onMiniGame||Laya.Browser.onVVMiniGame||Laya.Browser.onQGMiniGame)&&Laya.Browser.onAndroid)return`3d/uiscene/Android/${e}`}if(Laya.Render.isConchApp){if(Laya.Browser.onAndroid)return`3d/uiscene/Android/${e}`;if(Laya.Browser.onIOS)return`3d/uiscene/iOS/${e}`}}return`3d/uiscene/Conventional/${e}`}static formatLoadPrefab(e){for(let t in e)e[t]=on.formatPrefab(e[t]);return e}static formatLoadScene(e){for(let t in e)e[t]=on.formatScene(e[t]);return e}}on.isVip=!0,function(e){e[e.Image=0]="Image"}(Vi||(Vi={}));new class{constructor(){window.Laya3D?Laya3D.init(nn.width,nn.height):Laya.init(nn.width,nn.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=nn.scaleMode,Laya.stage.screenMode=Laya.Stage.SCREEN_NONE,Laya.stage.alignV=Laya.Stage.ALIGN_CENTER,Laya.stage.alignH=Laya.Stage.ALIGN_MIDDLE,Laya.Render.isConchApp?Laya.stage.scaleMode=Laya.Stage.SCALE_FIXED_WIDTH:Laya.Browser.onPC?Laya.stage.scaleMode=Laya.Stage.SCALE_SHOWALL:Laya.stage.scaleMode=Laya.Stage.SCALE_FIXED_AUTO,Laya.URL.exportSceneToJson=nn.exportSceneToJson,Laya.MouseManager.multiTouchEnabled=!1,an.fixSingletonList(),on.isVip=!1,Oe.I.statisticsReport(m.INIT),Laya.alertGlobalError(!0),Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){Laya.loader.create([{url:"wxlocal/load_circle.png",type:Laya.Loader.IMAGE},{url:"wxlocal/Start.json",type:Laya.Loader.JSON}],Laya.Handler.create(this,this.onPrepareComplete))}onPrepareComplete(){if("object"==typeof FBInstant&&"undefined"!=typeof minigame){let e=this;minigame.initializeAsync().then(function(){console.log("FB initializeAsync"),minigame.getEntryPointAsync().then(function(e){console.info("Entry Point: ",e)});const t=minigame.context.getType();console.info("Context Type: ",t),e.startMiniGameSDK()})}he.ProductName="runrun2",Je.ShareList.push({des:"勇士向前冲!",icon:"share/share_0.png"}),Je.I.initDefaultShare(),Laya.Scene.open("wxlocal/Start.scene")}startMiniGameSDK(){"undefined"!=typeof minigame&&(minigame.setLoadingProgress(100),minigame.startGameAsync().then(function(){console.log("startGameAsync++")}).catch(function(e){console.info("startGameAsync error: "+e)}))}}}();